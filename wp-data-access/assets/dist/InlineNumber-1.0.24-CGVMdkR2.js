import{j as t}from"./cm-1.0.24-lBsX3THK.js";import{N}from"./react-number-format.es-1.0.24-DgMJPfXk.js";import{e as m}from"./notistack-1.0.24-EH6RgmCJ.js";import{l as b,c1 as u,C as M}from"./lib-1.0.24-up-HxGpi.js";import{T as B}from"./TextField-1.0.24-CX3Aj71c.js";import"./redux-1.0.24-Bx8jJ3ee.js";import"./vendor-1.0.24-BmpNFhoq.js";import"./loglevel-1.0.24-BZ7XahX3.js";import"./lodash-1.0.24-CC2RnyUh.js";import"./moment-1.0.24-C5S46NFB.js";import"./Typography-1.0.24-DtpcakL_.js";import"./iconBase-1.0.24-C7lJg7VQ.js";import"./FormHelperText-1.0.24-dIoAVumM.js";import"./useFormControl-1.0.24-BVJe4wXv.js";import"./index-1.0.24-CyelUMLZ.js";import"./FormLabel-1.0.24-DNrTGbzF.js";import"./Menu-1.0.24-Bmzze4W5.js";import"./ThemeProvider-1.0.24-koXQmW7k.js";import"./useControlled-1.0.24-DnsqB4VW.js";import"./createSvgIcon-1.0.24-BKX7HR5-.js";const H=({value:f,columnState:i,columnMetaData:s,setValue:x,saveChanges:I,cancel:g,setButtons:a,locale:p,language:e})=>{b.debug(f,i,s);const h=parseInt(s.numeric_scale),o={};(i==null?void 0:i.inlineNumericMin)!==void 0&&(o.min=i.inlineNumericMin),(i==null?void 0:i.inlineNumericMax)!==void 0&&(o.max=i.inlineNumericMax);const n=u((e==null?void 0:e.code)??M.defaultLanguage.code);return t.jsx("div",{onClick:r=>{r.stopPropagation()},children:t.jsx(N,{customInput:B,className:"pp-inline-editing",value:f??"",thousandSeparator:i.localize?n.thousandSeperator:void 0,decimalSeparator:i.localize?n.decimalSeperator:void 0,decimalScale:h,required:s.is_nullable==="NO",slotProps:{htmlInput:o},variant:"outlined",prefix:(i==null?void 0:i.prefix)??"",suffix:(i==null?void 0:i.suffix)??"",placeholder:((i==null?void 0:i.prefix)??"")+"9.999,99"+((i==null?void 0:i.suffix)??""),onValueChange:({value:r})=>{r===""&&s.is_nullable!=="NO"?x(null):x(r)},onKeyDown:r=>{if(r.key==="Enter"){let d=!0;r.target.value!==""&&(r.target.min&&parseInt(r.target.value)<parseInt(r.target.min)&&(m((p==null?void 0:p.minAllowed)+" "+r.target.min,{variant:"error"}),d=!1),r.target.max&&parseInt(r.target.value)>parseInt(r.target.max)&&(m((p==null?void 0:p.maxAllowed)+" "+r.target.max,{variant:"error"}),d=!1)),d&&I()}else r.key==="Escape"&&g()},onFocus:()=>{a(!0)},onBlur:()=>{setTimeout(()=>{a(!1)},200)},sx:{"& input":{textAlign:i.alignment},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderWidth:"1px"},"& .MuiInputBase-root:before":{borderBottomWidth:"1px !important"},"& .MuiInputBase-root.Mui-focused:after":{borderBottomWidth:"1px"}}})})};export{H as default};
