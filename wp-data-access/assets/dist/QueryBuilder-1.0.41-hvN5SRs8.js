const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./QueryContainer-1.0.41-DPaif_gi.js","./main-1.0.41.js","./cm-1.0.41-DxZ4itL_.js","./redux-1.0.41-DJjpZqD1.js","./vendor-1.0.41-CN03Eozo.js","./notistack-1.0.41-Bq-EKqc7.js","./lib-1.0.41-DFdWuh_n.js","./loglevel-1.0.41-BZ7XahX3.js","./lodash-1.0.41-Cd8grAqB.js","./moment-1.0.41-C5S46NFB.js","./FallbackSpinner-1.0.41-2QUzxGrn.js","./Spinner-1.0.41-fWZy8imI.js","./Typography-1.0.41-BIN1Ddvh.js","./TabPanel-1.0.41-BJuUpIHA.js","./useThemeProps-1.0.41-BJkkrkB6.js","./getThemeProps-1.0.41-BXG_2HDV.js"])))=>i.map(i=>d[i]);
import{_ as Ie}from"./main-1.0.41.js";import{j as e}from"./cm-1.0.41-DxZ4itL_.js";import{r as p}from"./redux-1.0.41-DJjpZqD1.js";import{k as Ae,m as Ee,n as Qe,_ as oe,$ as ae,a0 as Oe,w as de,a1 as pe,M as qe,e as Le,a2 as ke,A as Be,T as Re,J as Ue,K as _e}from"./index-1.0.41-CpXj521P.js";import{G as De,I as L,P as Ge}from"./iconBase-1.0.41-BNQFQdHp.js";import{C as ze,D as H,P as V,a as $,b as Y,c as ce,d as J,B as A}from"./ConfirmDialog-1.0.41-NKESMhfW.js";import{a as B}from"./hooks-1.0.41-sDnKeMy7.js";import{C as b,n as Fe,l as g,aS as D,b as Ke,aT as We,aU as ue,aV as He,aW as xe,S as he,aX as Ve,aY as $e}from"./lib-1.0.41-DFdWuh_n.js";import{u as ge}from"./MainQueryBuilder-1.0.41-M8KmYGqb.js";import{R as S,a as fe}from"./RestApi-1.0.41-CZ_yORv3.js";import{B as c,S as Ye}from"./Spinner-1.0.41-fWZy8imI.js";import{P as Je,b as Xe,a as Ze}from"./index-1.0.41-Wbyk3QBm.js";import{e as Ne}from"./index-1.0.41-DGYaemnA.js";import{S as es}from"./SanitizeComponent-1.0.41-B18z6eJi.js";import{A as te}from"./AdminTheme-1.0.41-4tiUoVeb.js";import{e as E}from"./notistack-1.0.41-Bq-EKqc7.js";import{F as G,a as q}from"./FormHelperText-1.0.41-BPSj83yP.js";import{F as z}from"./FormControlLabel-1.0.41-OBCouq3I.js";import{C as ss}from"./Checkbox-1.0.41-C_619ZQC.js";import{T as k}from"./Tooltip-1.0.41-g4uuOuci.js";import{P as rs,M as ne}from"./Menu-1.0.41-DBfdBNVU.js";import{D as ts}from"./Divider-1.0.41-CupjOoMR.js";import{T as me}from"./TextField-1.0.41-CGPjmVeQ.js";import{I as ns}from"./InputAdornment-1.0.41-BaGp3m3T.js";import{T as be,a as ie}from"./TabPanel-1.0.41-BJuUpIHA.js";import{T as je}from"./TabList-1.0.41-WNj_9XSz.js";import{T as K}from"./Tabs-1.0.41-C8-7orxg.js";import{S as W}from"./Switch-1.0.41-BrkxB2Jy.js";import{M as w}from"./MenuItem-1.0.41-DCc8qvzQ.js";/* empty css                    */const is=s=>{const t=typeof s=="function",r=p.useRef(s);p.useEffect(()=>{r.current=s}),p.useEffect(()=>{if(t){const n=l=>{const d=r.current(l);if(typeof d=="string")return l.preventDefault(),l.returnValue=d;if(l.defaultPrevented)return l.returnValue=""};return window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}}},[t])};function ye(s){return De({attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M16 3v2h-15v-2h15zM1 10h15v-2h-15v2zM1 15h15v-2h-15v2z"},child:[]}]})(s)}const le=(s,t,r,n=!1)=>{S(b.appUrlQbOpen,{access:s},t,r,n)},Ws=(s,t,r,n,l,d,o,i=!1)=>{S(b.appUrlQbExecute,{dbs:s,query:t,limit:r,protect:n,params:l},d,o,i)},Hs=(s,t,r,n,l,d,o,i,u,a,f=!1)=>{S(b.appUrlQbSave,{access:s,dbs:t,name:r,query:n,vqb:l,old_name:d,insert:o,params:i},u,a,f)},ls=(s,t,r,n,l=!1)=>{S(b.appUrlQbDelete,{access:s,name:t},r,n,l)},Vs=(s,t,r,n,l,d,o=!1)=>{S(b.appUrlQbCopy,{access_from:s,from:t,access_to:r,to:n},l,d,o)},$s=(s,t,r,n=!1)=>{S(b.appUrlQbHints,{dbs:s},t,r,n)},ve=(s,t,r,n=!1)=>{S(b.appUrlQbAutoComplete,{enable:s},t,r,n)},os=(s,t,r=!1)=>{S(b.appUrlQbCronSchedules,{},s,t,r)},Ys=(s,t,r,n,l,d,o,i=!1)=>{S(b.appUrlQbCronAdd,{name:s,access:t,params:r,start:n,interval:l},d,o,i)},Js=(s,t,r,n,l,d=!1)=>{S(b.appUrlQbCronDelete,{name:s,access:t,params:r},n,l,d)},as=({queryName:s,query:t,checked:r,setChecked:n,queryAccessType:l,deleteQuery:d})=>{const[o,i]=p.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(G,{sx:{marginLeft:"12px"},children:e.jsx(z,{control:e.jsx(ss,{checked:r,disabled:(t==null?void 0:t.query)===void 0||(t==null?void 0:t.schema_name)===void 0,onClick:u=>{n(!r),u.preventDefault(),u.stopPropagation()}}),label:s,sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}})}),e.jsx(c,{children:e.jsx(Je,{variant:"popover",children:u=>{var a,f;return e.jsxs(e.Fragment,{children:[e.jsxs(c,{sx:{whiteSpace:"nowrap"},children:[e.jsx(k,{title:"Delete query "+s,children:e.jsx(L,{color:"error",onClick:()=>{i(!0)},children:e.jsx(Ae,{})})}),e.jsx(k,{title:"Preview query "+s,children:e.jsx(L,{...Xe(u),children:e.jsx(Ee,{})})})]}),e.jsxs(rs,{...Ze(u),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","& > .MuiPaper-root":{resize:"both",minWidth:"400px",maxWidth:"80vw",maxHeight:"80vh",padding:"30px"}},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",flexDirection:"row",gap:"5px",...(t==null?void 0:t.schema_name)===void 0&&{color:(a=te)==null?void 0:a.palette.error.dark}},children:[e.jsx(Ne,{}),e.jsx("strong",{children:(t==null?void 0:t.schema_name)??"Unknown"})]}),e.jsx(ts,{sx:{margin:"10px 0"}}),e.jsx(es,{html:Fe((t==null?void 0:t.query)??"<span style='color:"+((f=te)==null?void 0:f.palette.error.dark)+"'>Invalid query</span>").replaceAll(`
`,"<br/>")})]})]})}})})]}),e.jsx(ze,{title:"Delete query",message:e.jsxs("div",{children:["Are you sure you want to delete query ",s,"?",e.jsx("br",{}),e.jsx("strong",{children:"This action cannot be undone!"})]}),open:o,setOpen:i,onConfirm:()=>{d(l,s),ls(l,s,u=>{g.debug(u),E("Query successfully deleted",{variant:"success"})},u=>{g.error(u),E(u,{variant:"error"})})}})]})};var m=(s=>(s.GLOBAL="global",s.USER="user",s))(m||{});const X=()=>({createQueryKey:(r,n)=>(r===m.GLOBAL?"G-":"U-")+n,getQueryKey:r=>r.substring(2)}),ds=({open:s,setOpen:t})=>{const r=B(),n=ge(),{createQueryKey:l}=X(),[d,o]=p.useState(!1),[i,u]=p.useState(!1),[a,f]=p.useState({}),[v,Q]=p.useState([]),[F,M]=p.useState(!1),[R,j]=p.useState(!1),[C,O]=p.useState({}),[U,Z]=p.useState([]),[N,we]=p.useState("");p.useEffect(()=>{le(m.USER,h=>{g.debug(h),f((h==null?void 0:h.data)??{}),o(!0)},()=>{g.error("Error loading Query Builder list."),u(!0),o(!0)}),le(m.GLOBAL,h=>{g.debug(h),O((h==null?void 0:h.data)??{}),M(!0)},()=>{g.error("Error loading Query Builder list."),j(!0),M(!0)})},[]);const Ce=(h,x)=>{if(h===m.USER){const y=[...v];let T=y.indexOf(x);T!==-1&&y.splice(T,1),Q(y);const I={...a};delete I[x],f(I)}else{const y=[...U],T=y.indexOf(x);T!==-1&&y.splice(T,1),Z(y);const I={...C};delete I[x],O(I)}},ee=(h,x,y,T,I,se)=>h?x?e.jsx(c,{children:"Unable to read query list."}):Object.keys(y).length===0?e.jsx(c,{children:"No queries found."}):e.jsx(c,{sx:{height:"380px",overflowY:"auto",paddingRight:"10px"},children:Object.keys(y).map(P=>n.queries[l(se,P)]||!P.toLowerCase().includes(N.toLowerCase())?null:e.jsx(as,{queryName:P,query:y[P],checked:T.includes(P),setChecked:Me=>{const _=[...T];if(Me)_.push(P);else{const re=_.indexOf(P);re!==-1&&_.splice(re,1)}I(_)},queryAccessType:se,deleteQuery:Ce},P))}):e.jsx(Ye,{title:"Loading queries..."}),[Te,Pe]=p.useState("user");return e.jsxs(H,{open:s,onClose:()=>t(!1),PaperComponent:V,sx:{"& .MuiPaper-root":{width:"600px",height:"600px"}},"aria-labelledby":"open-query-dialog",closeAfterTransition:!1,children:[e.jsx($,{sx:{cursor:"move"},id:"draggable-dialog-title",children:e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:"Open Query"}),e.jsx(me,{type:"text",value:N,onChange:h=>{we(h.target.value)},sx:{width:"160px",backgroundColor:"#fff",fontSize:"1em",margin:0,padding:0,borderRadius:"4px","&.MuiFormControl-root.MuiTextField-root .MuiInputBase-root":{paddingRight:0},"&.MuiFormControl-root.MuiTextField-root input":{padding:"8px"}},slotProps:{input:{startAdornment:e.jsx(ns,{position:"end",sx:{fontSize:"1.5rem",padding:0,margin:0},children:e.jsx(Qe,{})})}}})]})}),e.jsx(Y,{sx:{zIndex:1,overflow:"hidden"},children:e.jsx(ce,{component:"div",sx:{"& div.MuiTabPanel-root":{paddingTop:"10px",paddingRight:0,paddingBottom:0,paddingLeft:0},"& svg":{height:"1.2em",width:"1.2em"}},children:e.jsxs(be,{value:Te,children:[e.jsxs(je,{onChange:(h,x)=>{Pe(x)},children:[e.jsx(K,{label:e.jsxs(c,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"5px"},children:[e.jsx(oe,{}),e.jsx("span",{children:"My Queries"})]}),value:"user"}),e.jsx(K,{label:e.jsxs(c,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"5px"},children:[e.jsx(ae,{}),e.jsx("span",{children:"Global Queries"})]}),value:"global"})]}),e.jsx(ie,{value:"user",children:ee(d,i,a,v,Q,m.USER)}),e.jsx(ie,{value:"global",children:ee(F,R,C,U,Z,m.GLOBAL)})]})})}),e.jsxs(J,{sx:{padding:"30px","& button":{width:"120px"}},children:[e.jsx(A,{autoFocus:!0,variant:"contained",disabled:v.length===0&&U.length===0,onClick:h=>{t(!1),v.map(x=>{r(D({queryKey:l(m.USER,x),query:{access:m.USER,queryName:x,query:a[x].query,schemaName:a[x].schema_name,isVisual:a[x].is_visual,params:a[x].params}}))}),U.map(x=>{r(D({queryKey:l(m.GLOBAL,x),query:{access:m.GLOBAL,queryName:x,query:C[x].query,schemaName:C[x].schema_name,isVisual:C[x].is_visual,params:C[x].params}}))}),h.stopPropagation()},children:"Open"}),e.jsx(A,{variant:"contained",onClick:h=>{t(!1),h.stopPropagation()},children:"Cancel"})]})]})},Se=({open:s,setOpen:t,encryption:r})=>{const[n,l]=p.useState(""),[d,o]=p.useState(r);return e.jsxs(H,{open:s,onClose:()=>t(!1),PaperComponent:V,"aria-labelledby":"open-query-dialog",closeAfterTransition:!1,sx:{"& .MuiPaper-root":{position:"relative",width:"440px",padding:"20px"}},children:[e.jsxs($,{component:"div",sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(c,{children:"AI Assistant Setup"}),e.jsx(c,{children:e.jsx(k,{title:"Help",children:e.jsx(L,{size:"small",sx:{padding:0},children:e.jsx(Oe,{})})})})]}),e.jsx(Y,{children:e.jsxs(c,{sx:{paddingTop:"20px",display:"grid",gap:"30px"},children:[e.jsx(me,{type:"text",label:"Enter your ChatGPT API Key",fullWidth:!0,required:!0,value:n,onChange:i=>{l(i.target.value)},helperText:e.jsx(c,{children:"The AI Assistant requires a unique ChatGPT API Key and must be enabled for each user independently."})}),e.jsxs(G,{fullWidth:!0,children:[e.jsx(z,{control:e.jsx(W,{checked:d,disabled:!r,onChange:(i,u)=>{o(u),i.stopPropagation()}}),label:"Encrypt ChatGPT API Key",labelPlacement:"end"}),e.jsxs(q,{children:["Maintains an encrypted copy of your ChatGPT API Key",r?"":" (this feature is currently disabled)","."]})]})]})}),e.jsxs(J,{children:[e.jsx(A,{variant:"contained",onClick:async()=>{try{await fe(b.appUrlAiEnable,{key:n,encrypt:d}).then(i=>{var u;g.debug(i),((u=i==null?void 0:i.data)==null?void 0:u.code)==="ok"?(t(!1),E("API Key successfully saved",{variant:"success"})):E(Ke.contactSupport,{variant:"error"})}).catch(i=>{g.error(i)})}catch(i){g.error(i)}},sx:{width:"100px"},children:"OK"}),e.jsx(A,{variant:"contained",onClick:()=>{t(!1)},sx:{width:"100px"},children:"Cancel"})]})]})},Xs=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),ps=({open:s,setOpen:t})=>{const r=B(),n=ge(),[l,d]=p.useState(!1),[o,i]=p.useState(!1),u=async()=>{try{await fe(b.appUrlAiEnabled,{}).then(a=>{var f,v;g.debug(a),i(((v=(f=a==null?void 0:a.data)==null?void 0:f.data)==null?void 0:v.encryption)===!0)}).catch(a=>{g.error(a)})}catch(a){g.error(a)}};return p.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(H,{open:s,onClose:()=>t(!1),PaperComponent:V,"aria-labelledby":"open-query-dialog",closeAfterTransition:!1,children:[e.jsx($,{sx:{cursor:"move"},id:"draggable-dialog-title",children:e.jsx(c,{children:"Query Settings"})}),e.jsx(Y,{sx:{zIndex:1,paddingTop:0,paddingBottom:0},children:e.jsxs(ce,{component:"div",sx:{width:"480px"},children:[e.jsx("fieldset",{className:"pp-fieldset",children:e.jsxs(G,{fullWidth:!0,children:[e.jsx(z,{control:e.jsx(W,{checked:n.protectWordPressTables,onChange:a=>{r(We({protectWordPressTables:!n.protectWordPressTables})),a.stopPropagation()}}),label:"WordPress Table Protection"}),e.jsxs(q,{sx:{marginTop:"10px"},children:["By default, WordPress tables are protected to prevent accidental or harmful changes. While you can disable this protection under certain restrictions, it's important to note that ",e.jsx("strong",{children:"DROP"}),", ",e.jsx("strong",{children:"ALTER"}),", and ",e.jsx("strong",{children:"TRUNCATE"})," operations on WordPress tables are never allowed for safety reasons."]}),e.jsxs(q,{sx:{marginTop:"10px"},children:["With protection disabled, the plugin permits ",e.jsx("strong",{children:"INSERT"}),", ",e.jsx("strong",{children:"UPDATE"}),", and ",e.jsx("strong",{children:"DELETE"})," actions on WordPress tables."]}),e.jsxs(q,{sx:{marginTop:"10px",marginBottom:"10px"},children:[e.jsx("strong",{children:"Caution:"})," Modifying WordPress tables directly is not recommended unless you fully understand the risks."]})]})}),e.jsx("fieldset",{className:"pp-fieldset",style:{marginTop:"30px"},children:e.jsxs(G,{fullWidth:!0,children:[e.jsx(z,{control:e.jsx(W,{checked:n.showSqlHints,onChange:a=>{ve(!n.showSqlHints,f=>{g.debug(f)},f=>{g.error(f)}),r(ue({showSqlHints:!n.showSqlHints})),a.stopPropagation()}}),label:"Show SQL hints"}),e.jsx(q,{sx:{marginTop:"10px",marginBottom:"10px"},children:"Provides autocomplete support when writing queries. May require additional load time to fetch database, table, and column details."})]})})]})}),e.jsxs(J,{sx:{padding:"30px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(A,{variant:"outlined",onClick:a=>{d(!0),a.stopPropagation()},children:"Update ChatGPT API Key"}),e.jsx(A,{variant:"contained",onClick:a=>{t(!1),a.stopPropagation()},children:"Done"})]})]}),l&&e.jsx(Se,{open:l,setOpen:d,encryption:o})]})},cs=()=>{const s=B(),{createQueryKey:t}=X(),[r,n]=p.useState(null),l=!!r,[d,o]=p.useState(!1),[i,u]=p.useState(!1),[a,f]=p.useState(1),[v,Q]=p.useState(null),F=j=>{Q(j.currentTarget)},M=()=>{Q(null)},R=j=>{const C=xe.getSelectors().selectQueryBuilder(he.getState().sql),O=a===0?"New Query":`New Query ${a}`;s(D({queryKey:t(j,O),query:{access:j,queryName:O,query:"",schemaName:C.databases.defaultDatabase,isVisual:!1,isInserting:!0,params:{}}})),f(a+1)};return p.useEffect(()=>{b.appPlugin&&(window.ppActionOpenQueriesMenu=j=>{n(j.currentTarget)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Queries",children:e.jsx(L,{sx:{color:"inherit",padding:0,marginRight:"5px"},onClick:j=>{n(j.currentTarget),j.stopPropagation()},children:e.jsx(ye,{})})}),e.jsxs(ne,{anchorEl:r,open:l,onClose:()=>n(null),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[e.jsxs(w,{onClick:F,children:[e.jsx(de,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"New"})]}),e.jsxs(ne,{id:"submenu",anchorEl:v,open:v!==null,onClose:M,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},MenuListProps:{onMouseLeave:M},children:[e.jsx(w,{onClick:()=>{n(null),M(),R(m.USER)},children:"Private query"}),e.jsx(w,{onClick:()=>{n(null),M(),R(m.GLOBAL)},children:"Global query"})]}),e.jsxs(w,{onClick:()=>{n(null),o(!0)},children:[e.jsx(pe,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Open"})]}),e.jsx(w,{divider:!0,sx:{margin:"8px 0",padding:0}}),e.jsxs(w,{onClick:()=>{n(null),s(He())},children:[e.jsx(qe,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Close All"})]}),e.jsx(w,{divider:!0,sx:{margin:"8px 0",padding:0}}),e.jsxs(w,{onClick:()=>{n(null),u(!0)},children:[e.jsx(Le,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Setting"})]}),e.jsxs(w,{onClick:()=>{window.open("https://wpdataaccess.com/docs/sql-query-builder/query-builder-getting-started/","_blank")},children:[e.jsx(ke,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Help"})]})]})]}),d&&e.jsx(ds,{open:d,setOpen:o}),i&&e.jsx(ps,{open:i,setOpen:u})]})},us=()=>{const s=B();return()=>{os(r=>{if(g.debug(r),(r==null?void 0:r.code)==="ok"&&r.message.cron&&r.message.schedules){const n=[];Object.keys(r.message.schedules).map(l=>n.push({key:l,interval:Number(r.message.schedules[l].interval)})),s(Ve({cron:r.message.cron,schedules:r.message.schedules,intervalSorted:n.sort((l,d)=>l.interval-d.interval)}))}else g.error("Invalid response"),E("Invalid response",{variant:"error"})},r=>{g.error(r),E(r,{variant:"error"})})}},xs=p.lazy(()=>Ie(()=>import("./QueryContainer-1.0.41-DPaif_gi.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url)),hs=({queryBuilderState:s})=>{const t=B(),{getQueryKey:r,createQueryKey:n}=X();us();const[l,d]=p.useState(!1);return p.useEffect(()=>{const o=xe.getSelectors().selectQueryBuilder(he.getState().sql);if(Object.keys(o.queries).length===0){const i="New Query";t(D({queryKey:n(m.USER,i),query:{access:m.USER,queryName:i,query:"",schemaName:o.databases.defaultDatabase,isVisual:!1,isInserting:!0,params:{}}}))}ve(void 0,i=>{g.debug(i),(i==null?void 0:i.code)==="ok"&&(i==null?void 0:i.message)=="1"&&t(ue({showSqlHints:!0}))},i=>{g.error(i)}),b.appPlugin&&(window.ppActionFullScreen=()=>{d(!0)})},[]),is(Object.keys(s.queries).filter(o=>s.queries[o].isUpdated===!0).length>0?o=>o.preventDefault():void 0),e.jsxs(c,{className:l?"pp-fullscreen":"pp-container",sx:{...l&&{position:"fixed",zIndex:9999999,top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:"#fff",display:"grid",gridTemplateRows:"69px 48px 1fr",gridGap:0,"& .pp-query-builder-panels":{height:"calc(100vh - 69px - 48px - 5px)",display:"grid"},"& header":{boxShadow:"none"},"& .pp-query-builder-panels > .MuiTabPanel-root":{height:"calc(100vh - 69px - 48px - 5px)",display:"grid",gridTemplateRows:"69px 1fr 48px 1fr",paddingBottom:0},"& .pp-query-builder-panels > .MuiTabPanel-root[hidden]":{display:"none",gridTemplateRows:"unset"},"& header, & .pp-query-builder-panels > .MuiTabPanel-root .MuiPaper-root, & .pp-sql-query-builder-editor, , & .pp-sql-query-builder-editor div":{borderRadius:0,padding:0},"& .pp-query-builder-panels > .MuiTabPanel-root .MuiPaper-root:hover":{boxShadow:"none"},"& .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-editor, & .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-results, & .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-response-paper":{height:"calc((100vh - 69px - 48px - 69px - 48px - 5px) / 2)"},"& .pp-query-builder-panels > .MuiTabPanel-root table.pp-sql-query-builder-table tbody":{height:"calc(((100vh - 69px - 48px - 69px - 48px - 5px) / 2) - 30px - 5px - 30px)"},"& .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-response":{height:"calc(((100vh - 69px - 48px - 69px - 48px - 5px) / 2) - 10px)",paddingLeft:"10px"},"& .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-editor .cm-editor":{resize:"none"},"& .pp-query-builder-panels > .MuiTabPanel-root .pp-sql-query-builder-editor > div":{boxShadow:"none",marginLeft:0,marginRight:0}}},children:[e.jsx(Be,{position:"relative",sx:{margin:"0 0 5px 0"},children:e.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"18px",lineHeight:"18px"},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(cs,{}),e.jsx(c,{sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:"SQL Query Builder"})]}),e.jsx(c,{children:e.jsx(k,{title:"Toggle full screen",children:e.jsx(L,{sx:{color:"inherit",padding:0},onClick:()=>{d(!l)},children:l?e.jsx(Ue,{}):e.jsx(_e,{})})})})]})}),e.jsxs(be,{value:s.tabIndex,children:[e.jsx(c,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center",gridGap:"8px",paddingLeft:"8px",paddingRight:"4px"},children:e.jsxs(je,{orientation:"horizontal",variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,onChange:(o,i)=>{t($e({tabIndex:i}))},sx:{"& .MuiButtonBase-root.Mui-disabled":{display:"none"}},children:[...Object.keys(s.queries).map(o=>e.jsx(K,{label:e.jsxs(c,{sx:{display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"start",gap:"5px","& svg":{height:"1.2em",width:"1.2em"}},children:[s.queries[o].access===m.GLOBAL?e.jsx(ae,{}):e.jsx(oe,{}),e.jsx(c,{sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"300px",textTransform:"none",fontWeight:"bold"},children:r(o)})]}),value:o}))]})}),e.jsxs(c,{className:"pp-query-builder-panels",children:[...Object.keys(s.queries).map(o=>e.jsx(p.Suspense,{children:e.jsx(xs,{queries:s.queries,queryKey:o,databases:s.databases,fullScreen:l},o)}))]}),Object.keys(s.queries).length===0&&e.jsxs(Ge,{sx:{padding:"50px",marginTop:"5px"},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx("span",{children:"Open"}),e.jsx(ye,{}),e.jsx("strong",{children:"Menu"})]}),e.jsxs(c,{sx:{margin:"20px 0 0 0",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(de,{})," ",e.jsx("strong",{children:"New"})," to create new query"]}),e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx(pe,{})," ",e.jsx("strong",{children:"Open"})," to edit existing query"]})]})]})]})]})},Zs=Object.freeze(Object.defineProperty({__proto__:null,default:hs},Symbol.toStringTag,{value:"Module"}));export{m as A,Zs as Q,Hs as a,ls as b,us as c,Ys as d,Ws as e,$s as f,Js as g,Xs as h,Vs as q,X as u};
