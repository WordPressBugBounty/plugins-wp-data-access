const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CodeField-1.0.40-DJCwyTXg.js","./cm-1.0.40-DO7MoydR.js","./redux-1.0.40-W_04YL6Z.js","./vendor-1.0.40-CN03Eozo.js","./index-1.0.40-DmMQghWt.js","./iconBase-1.0.40-CH6TO7hF.js","./Typography-1.0.40-oRKYqE3b.js","./lib-1.0.40-CJM-IO_o.js","./loglevel-1.0.40-BZ7XahX3.js","./lodash-1.0.40-yZQKpWII.js","./moment-1.0.40-C5S46NFB.js","./useEnhancedEffect-1.0.40-DvrM_gBo.js","./notistack-1.0.40-HUa4vT_u.js","./ConfirmDialog-1.0.40-DRjx8-xC.js","./AdminTheme-1.0.40-B669Ow89.js","./Spinner-1.0.40-Bmn0_C4u.js","./FormControlLabel-1.0.40-BH1qH5qy.js","./useFormControl-1.0.40-BL8koKXQ.js","./Switch-1.0.40-CJ3Ir4CS.js","./SwitchBase-1.0.40-BQrnL2Sx.js","./useControlled-1.0.40-B7yPDtn1.js"])))=>i.map(i=>d[i]);
import{j as r}from"./cm-1.0.40-DO7MoydR.js";import{u as g,S as b,a as S,b as M,c as A}from"./SettingsMapMarkers-1.0.40-D1ScLBC8.js";import{l as a}from"./lib-1.0.40-CJM-IO_o.js";import{_ as C}from"./main-1.0.40.js";import{r as p}from"./redux-1.0.40-W_04YL6Z.js";import{I as _,j as w}from"./index-1.0.40-DmMQghWt.js";import{P as y}from"./PremiumFeature-1.0.40-C4a0KOip.js";import{a as W}from"./hooks-1.0.40-DoKijNI1.js";import{u as F}from"./useMapUpdater-1.0.40-BcGwfhdr.js";import{D as k}from"./DefaultWhere-1.0.40-DTRDKm6T.js";import{u as v}from"./useMetadata-1.0.40-DdsiIGYX.js";import{S as E}from"./SanitizeComponent-1.0.40-qpEC7QW6.js";import{A as L,a as O}from"./AccordionSummary-1.0.40-BaFEiNF8.js";import{A as N}from"./AccordionDetails-1.0.40-AFOWsBZA.js";import{F as P}from"./FormHelperText-1.0.40-D6buAdoc.js";import{B as s}from"./Spinner-1.0.40-Bmn0_C4u.js";import{T as R}from"./Tooltip-1.0.40-Czv1q8N-.js";import{L as T}from"./Link-1.0.40-rVkAFnTh.js";import"./vendor-1.0.40-CN03Eozo.js";import"./CssUnitTextField-1.0.40-bZOEwhww.js";import"./TextField-1.0.40-CejEr0KU.js";import"./Typography-1.0.40-oRKYqE3b.js";import"./iconBase-1.0.40-CH6TO7hF.js";import"./useEnhancedEffect-1.0.40-DvrM_gBo.js";import"./Select-1.0.40-Db-Xnyoo.js";import"./Menu-1.0.40-BKp7UqHL.js";import"./ThemeProvider-1.0.40-D9QtC9zH.js";import"./utils-1.0.40-iop7lDec.js";import"./useControlled-1.0.40-B7yPDtn1.js";import"./useFormControl-1.0.40-BL8koKXQ.js";import"./createSvgIcon-1.0.40-DryBVjDb.js";import"./FormLabel-1.0.40-DLOepjQ0.js";import"./ConfirmDialog-1.0.40-DRjx8-xC.js";import"./AdminTheme-1.0.40-B669Ow89.js";import"./RadioGroup-1.0.40-D9A3e6h3.js";import"./Radio-1.0.40-BfbkSgOE.js";import"./SwitchBase-1.0.40-BQrnL2Sx.js";import"./Slider-1.0.40-w2yGdRCB.js";import"./visuallyHidden-1.0.40-Dan1xhjv.js";import"./FormControlLabel-1.0.40-BH1qH5qy.js";import"./Switch-1.0.40-CJ3Ir4CS.js";import"./react-number-format.es-1.0.40-BdajC67w.js";import"./loglevel-1.0.40-BZ7XahX3.js";import"./lodash-1.0.40-yZQKpWII.js";import"./moment-1.0.40-C5S46NFB.js";import"./notistack-1.0.40-HUa4vT_u.js";import"./index-1.0.40-DlucSO_j.js";import"./dompurify-1.0.40-DhD2mIk-.js";import"./Collapse-1.0.40-C90ayxyF.js";import"./Popper-1.0.40-Jt4gcDMJ.js";const z=p.lazy(()=>C(()=>import("./CodeField-1.0.40-DJCwyTXg.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),B=({appId:t,mapSettings:e})=>{W(),F(t);const o=v(t),h=p.useMemo(()=>{var u,d,x,f;let m=[];try{m=JSON.parse((d=(u=o==null?void 0:o.app)==null?void 0:u.container[0])==null?void 0:d.cnt_cls)}catch(i){a.error("Invalid JSON - app columns"),a.error(i)}const c=m.filter(i=>i.computedField===void 0).map(i=>i.columnName).join("<br/>, ");let n="";return(x=o==null?void 0:o.app)!=null&&x.container[0]&&(n=(f=o==null?void 0:o.app)==null?void 0:f.container[0].cnt_tbl),c===""||n===""?"":`select ${c}<br/>from ${n}<br/>`},[]),[l,j]=p.useState(!1);return r.jsxs(L,{defaultExpanded:!1,disableGutters:!0,children:[r.jsx(O,{expandIcon:r.jsx(_,{}),children:"Default Where"}),r.jsxs(N,{children:[r.jsxs(P,{fullWidth:!0,children:[r.jsx(p.Suspense,{children:r.jsx(z,{code:e.setup.defaultWhere??"",setCode:m=>{},dialogTitle:"Custom Glyph",extension:"sql",isReadOnly:!0})}),r.jsxs(s,{sx:{position:"relative"},children:[r.jsxs(s,{sx:{position:"absolute",top:0,right:"15px",textAlign:"right",width:"100%"},children:[r.jsx(R,{title:"SQL Query",placement:"bottom-end",children:r.jsx(T,{href:"#",onClick:()=>{j(!l)},children:r.jsx(s,{sx:{lineHeight:"24px","& svg":{width:"15px",height:"15px",verticalAlign:"text-bottom"}},children:r.jsx(w,{})})})}),l&&r.jsx(s,{sx:{textAlign:"left",backgroundColor:"#fff",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",padding:"20px",margin:"2px -15px 0 15px",maxHeight:"220px",overflow:"auto"},component:"pre",children:r.jsx(E,{html:h+(e.setup.defaultWhere.toLowerCase().trim().substring(0,5)==="where"||e.setup.defaultWhere.trim()===""?"":"where ")+e.setup.defaultWhere.replace(`
`,"<br/>")})})]}),r.jsx(k,{})]})]}),r.jsx(y,{})]})]})},Rr=({appId:t})=>{a.debug(t);const e=g(t);return r.jsxs(r.Fragment,{children:[r.jsx(b,{appId:t,mapSettings:e}),r.jsx(S,{appId:t,mapSettings:e}),r.jsx(M,{appId:t,mapSettings:e}),r.jsx(A,{appId:t,mapSettings:e}),r.jsx(B,{appId:t,mapSettings:e})]})};export{Rr as default};
