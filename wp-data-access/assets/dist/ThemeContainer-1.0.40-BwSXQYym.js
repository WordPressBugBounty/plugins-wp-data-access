import{j as n}from"./cm-1.0.40-DO7MoydR.js";import{l as i,b9 as l,ba as c,bb as T}from"./lib-1.0.40-CJM-IO_o.js";import{r as a}from"./redux-1.0.40-W_04YL6Z.js";import{A as C,u as h}from"./AppTheme-1.0.40-whCBYKjb.js";import{u as w}from"./useTableSettings-1.0.40-BK0DaQ_w.js";import{u as x}from"./useStoreFormSettings-1.0.40-CICs2Pm_.js";import{u as S}from"./useMetadata-1.0.40-DdsiIGYX.js";import{u as j}from"./useGlobalCode-1.0.40-WHHcv6lH.js";import{T as A}from"./ThemeProvider-1.0.40-D9QtC9zH.js";import"./vendor-1.0.40-CN03Eozo.js";import"./loglevel-1.0.40-BZ7XahX3.js";import"./lodash-1.0.40-yZQKpWII.js";import"./moment-1.0.40-C5S46NFB.js";import"./index-1.0.40-xxiPHCiq.js";import"./Typography-1.0.40-oRKYqE3b.js";import"./getThemeProps-1.0.40-CtGZuG5N.js";import"./useEnhancedEffect-1.0.40-DvrM_gBo.js";import"./hooks-1.0.40-DoKijNI1.js";const K=({appId:o,children:p})=>{i.debug(o);const g=w(o),b=x(),E=h(),r=S(o);let s;r.appRootId===void 0&&(s=C(E,g,b));const t=j(),d=`pp-global-code-${o}`;return a.useEffect(()=>{var e;i.debug("open app"),l(((e=t.onAppOpen)==null?void 0:e.code)??"",c(r),!1)},[]),a.useEffect(()=>()=>{var e;i.debug("close app"),l(((e=t.onAppClose)==null?void 0:e.code)??"",c(r),!1)},[]),a.useEffect(()=>{var e,u,f;if(t!==void 0&&T(r)){(e=window.document.getElementById(d))==null||e.remove();const m=window.document.createElement("script");m.id=d,m.innerHTML=((u=t.global)==null?void 0:u.code)??"",(f=window.document.getElementById(`pp-app-${o}`))==null||f.appendChild(m)}},[t]),s!==void 0?n.jsx(A,{theme:s,children:p}):n.jsx(n.Fragment,{children:p})};export{K as default};
