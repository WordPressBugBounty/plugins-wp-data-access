const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableMap-1.0.40-Cdb7yVy8.js","./main-1.0.40.js","./cm-1.0.40-DO7MoydR.js","./redux-1.0.40-W_04YL6Z.js","./vendor-1.0.40-CN03Eozo.js","./notistack-1.0.40-HUa4vT_u.js","./lib-1.0.40-CJM-IO_o.js","./loglevel-1.0.40-BZ7XahX3.js","./lodash-1.0.40-yZQKpWII.js","./moment-1.0.40-C5S46NFB.js","./index-1.0.40-5CXoWu3g.js","./index-1.0.40--1Cd81c-.js","./ConfirmDialog-1.0.40-DRjx8-xC.js","./iconBase-1.0.40-CH6TO7hF.js","./Typography-1.0.40-oRKYqE3b.js","./useEnhancedEffect-1.0.40-DvrM_gBo.js","./AdminTheme-1.0.40-B669Ow89.js","./index-1.0.40-DmMQghWt.js","./Tooltip-1.0.40-Czv1q8N-.js","./ThemeProvider-1.0.40-D9QtC9zH.js","./useControlled-1.0.40-B7yPDtn1.js","./Popper-1.0.40-Jt4gcDMJ.js","./Menu-1.0.40-BKp7UqHL.js","./Spinner-1.0.40-Bmn0_C4u.js","./TableChart-1.0.40-FyoM_lWU.js","./ChartTypeSelection-1.0.40-B42aMEJH.js","./ChartTypes-1.0.40-DjqkFoVg.js","./index-1.0.40-DlucSO_j.js","./FormHelperText-1.0.40-D6buAdoc.js","./utils-1.0.40-iop7lDec.js","./useFormControl-1.0.40-BL8koKXQ.js","./TextField-1.0.40-CejEr0KU.js","./Select-1.0.40-Db-Xnyoo.js","./createSvgIcon-1.0.40-DryBVjDb.js","./FormLabel-1.0.40-DLOepjQ0.js","./MenuItem-1.0.40-UKMJrtYZ.js","./ListItemIcon-1.0.40-B1zY5Zqz.js","./Chart-1.0.40-Bz4vBsVt.js","./useChartSettings-1.0.40-CCxE4Zu8.js","./useRemoveAppFromStore-1.0.40-DxUqDH6k.js","./lang-1.0.40-D4Y70Q_T.js","./hooks-1.0.40-DoKijNI1.js","./useMetadata-1.0.40-DdsiIGYX.js","./TableChartSelection-1.0.40-n_JlVA2M.js","./useTableColumnOrder-1.0.40-SiEYxTEI.js","./Autocomplete-1.0.40-CcfYAr1c.js","./Close-1.0.40-DOQmTCBQ.js","./TableToolbarInlineEditingButton-1.0.40-B6dUKzBc.js","./TableQuery-1.0.40-P1hdf1KD.js","./useStoreTable-1.0.40-C_-ljzWa.js","./index-1.0.40-DdW0OcA3.js","./ActionsDml-1.0.40-BspTHnPS.js","./RestApi-1.0.40-Uj1ofskP.js","./Tooltip-1.0.40-C5SL6QF3.js","./Tooltip-1.0.40--D4jr2go.css","./SanitizeComponent-1.0.40-qpEC7QW6.js","./dompurify-1.0.40-DhD2mIk-.js","./SharedContainer-1.0.40-D7EQbLUC.js","./useStoreFormSettings-1.0.40-CICs2Pm_.js","./useFormDetails-1.0.40-DhJ-oNOJ.js","./DynamicModeEnum-1.0.40-BXuL5kgA.js","./AppTheme-1.0.40-whCBYKjb.js","./index-1.0.40-xxiPHCiq.js","./getThemeProps-1.0.40-CtGZuG5N.js","./useScreenSize-1.0.40-DAXf1AlH.js","./FallbackSpinner-1.0.40-Bwyy_LaW.js","./AlertDialog-1.0.40-CsMgd1A8.js","./SharedContainer-1.0.40-DR7D6eET.css","./tanstack-1.0.40-Cw2_8Blq.js","./index.esm-1.0.40-BQqZjW9j.js","./Stack-1.0.40-_IJfHuNj.js","./useThemeProps-1.0.40-CnqSFvnT.js","./Radio-1.0.40-BfbkSgOE.js","./SwitchBase-1.0.40-BQrnL2Sx.js","./Checkbox-1.0.40-DtDfmlS5.js","./Collapse-1.0.40-C90ayxyF.js","./AlertTitle-1.0.40-BbdAhoXf.js","./InputAdornment-1.0.40-F1_P81Q_.js","./TableRow-1.0.40-BHEGtOW8.js","./Divider-1.0.40-ckRk0tPv.js","./FormControlLabel-1.0.40-BH1qH5qy.js","./Switch-1.0.40-CJ3Ir4CS.js","./Slider-1.0.40-w2yGdRCB.js","./visuallyHidden-1.0.40-Dan1xhjv.js","./TimePicker-1.0.40-Bt78njGV.js","./useMobilePicker-1.0.40-B50hlSJR.js","./ListItem-1.0.40-C82esTyu.js","./timeViewRenderers-1.0.40-6VIYUxOa.js","./DateTimePicker-1.0.40-Bf1zagXk.js","./Tabs-1.0.40-grE1d1iH.js","./dateViewRenderers-1.0.40-DTQ1OjSw.js","./DatePicker-1.0.40-CJStl0bY.js","./tab-1.0.40-BzKjBB9y.js","./TableContainer-1.0.40-DiO5TNZP.js","./ActionsSettings-1.0.40-eUdZc7P-.js","./TargetEnum-1.0.40-CIW1jlU5.js","./ScopeEnum-1.0.40-B4DDvIDj.js","./index-1.0.40-D3XFZfpM.js","./BuilderMenu-1.0.40-wmot84K1.js","./useTableUpdater-1.0.40-0UQrI-Q9.js","./TabPanel-1.0.40-svpV7m9Q.js","./settings-1.0.40-Bx2jvYL6.css","./math-1.0.40-BQt3B2Pe.js","./AggregationLabelsEnum-1.0.40-B-3lhjpJ.js","./useTableCode-1.0.40-DYp9UhRD.js","./TableQuery-1.0.40-uJ6MlsKy.css"])))=>i.map(i=>d[i]);
import{_ as K}from"./main-1.0.40.js";import{j as t}from"./cm-1.0.40-DO7MoydR.js";import{r as i}from"./redux-1.0.40-W_04YL6Z.js";import{l as d,v as Te,G as re,bt as ke,aA as Re,bG as _e,Q as oe,cm as Be}from"./lib-1.0.40-CJM-IO_o.js";import{Q as Oe,M as Pe,o as Ne,X as Ae,a5 as Fe}from"./index-1.0.40-DmMQghWt.js";import{P as Me,b as te,a as Ie}from"./index-1.0.40-5CXoWu3g.js";import{q as se,r as Ee,s as qe}from"./index-1.0.40-D3XFZfpM.js";import{G as Ve,j as Je,B as ze,L as We}from"./jstoxml-1.0.40-fks_jO3M.js";import{F as X}from"./FileSaver.min-1.0.40-Bd-_6utJ.js";import"./dompurify-1.0.40-DhD2mIk-.js";import{u as Ge,a as Xe,b as Ke}from"./TableQuery-1.0.40-P1hdf1KD.js";import{d as Qe}from"./ActionsDml-1.0.40-BspTHnPS.js";import{B as V,C as He}from"./ConfirmDialog-1.0.40-DRjx8-xC.js";import{e as q}from"./notistack-1.0.40-HUa4vT_u.js";import{a as Ue}from"./hooks-1.0.40-DoKijNI1.js";import{a as Ye}from"./useRemoveAppFromStore-1.0.40-DxUqDH6k.js";import{a as Ze}from"./AppTheme-1.0.40-whCBYKjb.js";import{u as ne}from"./index-1.0.40-xxiPHCiq.js";import{B as C}from"./Spinner-1.0.40-Bmn0_C4u.js";import{I}from"./iconBase-1.0.40-CH6TO7hF.js";import{F as de}from"./FormHelperText-1.0.40-D6buAdoc.js";import{A as $e,C as Le}from"./Autocomplete-1.0.40-CcfYAr1c.js";import{T as De}from"./TextField-1.0.40-CejEr0KU.js";import{T as J}from"./Tooltip-1.0.40-Czv1q8N-.js";import{P as er}from"./Menu-1.0.40-BKp7UqHL.js";import{F as le}from"./FormLabel-1.0.40-DLOepjQ0.js";import{F as B}from"./FormControlLabel-1.0.40-BH1qH5qy.js";import{C as rr}from"./Checkbox-1.0.40-DtDfmlS5.js";import{R as or}from"./RadioGroup-1.0.40-D9A3e6h3.js";import{R as A}from"./Radio-1.0.40-BfbkSgOE.js";import{R as ie}from"./SharedContainer-1.0.40-D7EQbLUC.js";import{F as ce}from"./FallbackSpinner-1.0.40-Bwyy_LaW.js";import"./moment-1.0.40-C5S46NFB.js";import"./vendor-1.0.40-CN03Eozo.js";import"./loglevel-1.0.40-BZ7XahX3.js";import"./lodash-1.0.40-yZQKpWII.js";import"./Typography-1.0.40-oRKYqE3b.js";import"./useEnhancedEffect-1.0.40-DvrM_gBo.js";import"./index-1.0.40--1Cd81c-.js";import"./jstoxml-1.0.40-DkGlThlH.js";import"./useStoreTable-1.0.40-C_-ljzWa.js";import"./index-1.0.40-DdW0OcA3.js";import"./Tooltip-1.0.40-C5SL6QF3.js";import"./SanitizeComponent-1.0.40-qpEC7QW6.js";import"./index-1.0.40-DlucSO_j.js";import"./tanstack-1.0.40-Cw2_8Blq.js";import"./index.esm-1.0.40-BQqZjW9j.js";import"./createSvgIcon-1.0.40-DryBVjDb.js";import"./Stack-1.0.40-_IJfHuNj.js";import"./useThemeProps-1.0.40-CnqSFvnT.js";import"./getThemeProps-1.0.40-CtGZuG5N.js";import"./Collapse-1.0.40-C90ayxyF.js";import"./AlertTitle-1.0.40-BbdAhoXf.js";import"./Close-1.0.40-DOQmTCBQ.js";import"./InputAdornment-1.0.40-F1_P81Q_.js";import"./useFormControl-1.0.40-BL8koKXQ.js";import"./Select-1.0.40-Db-Xnyoo.js";import"./utils-1.0.40-iop7lDec.js";import"./useControlled-1.0.40-B7yPDtn1.js";import"./MenuItem-1.0.40-UKMJrtYZ.js";import"./ThemeProvider-1.0.40-D9QtC9zH.js";import"./TableRow-1.0.40-BHEGtOW8.js";import"./ListItemIcon-1.0.40-B1zY5Zqz.js";import"./Divider-1.0.40-ckRk0tPv.js";import"./Switch-1.0.40-CJ3Ir4CS.js";import"./SwitchBase-1.0.40-BQrnL2Sx.js";import"./Slider-1.0.40-w2yGdRCB.js";import"./visuallyHidden-1.0.40-Dan1xhjv.js";import"./TimePicker-1.0.40-Bt78njGV.js";import"./useMobilePicker-1.0.40-B50hlSJR.js";import"./Popper-1.0.40-Jt4gcDMJ.js";import"./ListItem-1.0.40-C82esTyu.js";import"./timeViewRenderers-1.0.40-6VIYUxOa.js";import"./DateTimePicker-1.0.40-Bf1zagXk.js";import"./Tabs-1.0.40-grE1d1iH.js";import"./dateViewRenderers-1.0.40-DTQ1OjSw.js";import"./DatePicker-1.0.40-CJStl0bY.js";import"./lang-1.0.40-D4Y70Q_T.js";import"./RestApi-1.0.40-Uj1ofskP.js";import"./tab-1.0.40-BzKjBB9y.js";import"./TableContainer-1.0.40-DiO5TNZP.js";import"./AdminTheme-1.0.40-B669Ow89.js";import"./ActionsSettings-1.0.40-eUdZc7P-.js";import"./TargetEnum-1.0.40-CIW1jlU5.js";import"./ScopeEnum-1.0.40-B4DDvIDj.js";import"./BuilderMenu-1.0.40-wmot84K1.js";import"./useTableUpdater-1.0.40-0UQrI-Q9.js";import"./DynamicModeEnum-1.0.40-BXuL5kgA.js";import"./useFormDetails-1.0.40-DhJ-oNOJ.js";/* empty css                        */import"./TabPanel-1.0.40-svpV7m9Q.js";import"./useScreenSize-1.0.40-DAXf1AlH.js";import"./useChartSettings-1.0.40-CCxE4Zu8.js";import"./math-1.0.40-BQt3B2Pe.js";import"./AggregationLabelsEnum-1.0.40-B-3lhjpJ.js";import"./useTableCode-1.0.40-DYp9UhRD.js";import"./useStoreFormSettings-1.0.40-CICs2Pm_.js";import"./useTableColumnOrder-1.0.40-SiEYxTEI.js";import"./useMetadata-1.0.40-DdsiIGYX.js";import"./AlertDialog-1.0.40-CsMgd1A8.js";const tr=({openSelection:w,setOpenSelection:m,appLanguage:s,columnLabels:f,availableColumns:y,selectedColumns:l,setSelectedColumns:x})=>{const O=ne("(max-width:900px)"),S=ne("(max-width:600px)");return t.jsx(Oe,{open:w,onClose:()=>{m(!1)},children:t.jsxs(C,{sx:{position:"absolute",top:"25%",left:"50%",transform:"translate(-50%, -50%)",width:S?"80vw":O?"70vw":"60vw",maxWidth:"700px",bgcolor:"background.paper",boxShadow:24,borderRadius:"4px",p:4},children:[t.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"-20px"},children:[t.jsx("h3",{children:s.selectFromList}),t.jsx(I,{onClick:()=>{m(!1)},children:t.jsx(Pe,{})})]}),t.jsx(de,{fullWidth:!0,children:t.jsx($e,{multiple:!0,options:y,value:l,disableCloseOnSelect:!0,getOptionLabel:a=>f[a],onChange:(a,T)=>{x(T),a.stopPropagation()},renderInput:a=>t.jsx(De,{...a}),renderTags:(a,T)=>a.map((h,j)=>{const{key:k,...R}=T({index:j});return t.jsx(Le,{variant:"outlined",label:f[h],...R},k)})})})]})})},sr=({table:w,appId:m,metaData:s,bulkActions:f,tableStore:y,appLanguage:l,locale:x,refetch:O,componentWidth:S,aggregates:a})=>{d.debug(m,s,f);const T=Ue(),h=y.table,j=y.columns;Ye(m),Ge(m);const[k]=i.useState(y.table.clientSideProcessing),R=o=>{var e,r,n;for(let c=0;c<((e=s==null?void 0:s.columns)==null?void 0:e.length);c++)if(((r=s==null?void 0:s.columns[c])==null?void 0:r.column_name)===o)return(n=s==null?void 0:s.columns[c])==null?void 0:n.data_type;return"varchar"},z=o=>{var e,r,n;for(let c=0;c<((e=s==null?void 0:s.columns)==null?void 0:e.length);c++)if(((r=s==null?void 0:s.columns[c])==null?void 0:r.column_name)===o)return(n=s==null?void 0:s.columns[c])==null?void 0:n.column_type;return null},Q=o=>F.map(e=>{const r={};for(let n=0;n<p.length;n++)e[b[p[n]]]===null?o==="csv"?r[b[p[n]]]="":r[b[p[n]]]=null:oe(R(p[n]))==="number"?r[b[p[n]]]=Number(e[b[p[n]]]):r[b[p[n]]]=e[b[p[n]]];return r}),E=()=>{var o,e,r;return(o=s==null?void 0:s.src)!=null&&o.app_id?"ppBulkAction-"+s.src.app_id+"-"+s.src.cnt_id:(e=s==null?void 0:s.src)!=null&&e.dbs&&((r=s==null?void 0:s.src)!=null&&r.tbl)?"ppBulkAction-"+s.src.dbs+"-"+s.src.tbl:null},[cr,dr]=i.useState(()=>{try{const o=localStorage.getItem("ppBulkAction-pdforientation");if(o!==null)return o}catch(o){d.debug(o)}return"landscape"}),[ur,pr]=i.useState(()=>{try{const o=localStorage.getItem("ppBulkAction-pdfstyle");if(o!==null)return o}catch(o){d.debug(o)}return"striped"}),[mr,fr]=i.useState(()=>{try{const o=localStorage.getItem("ppBulkAction-poweredBy");if(o!==null)return o==="true"}catch(o){d.debug(o)}return!1});let H="csv";f.select!==void 0&&(H="select");const[u,ue]=i.useState(H),[pe,U]=i.useState(!1),me=i.useMemo(()=>Te(),[]),g=Xe(m),P=i.useMemo(()=>{const o={};return j.filter(e=>e.lookup!==void 0&&g!==void 0&&g[e.columnName]!==void 0).map(e=>{var r;if(g!==void 0&&g[e.columnName]!==void 0){const n=[];for(const c in g[e.columnName]){const G={key:c,value:Array.isArray(g[e.columnName][c])?g[e.columnName][c].join((r=e.lookup)==null?void 0:r.delimiter):g[e.columnName][c]};n.push(G)}o[e.columnName]=n}}),o},[g,j]);d.debug("lookupColumns",P);const N=i.useMemo(()=>{const o={};return j.filter(e=>e.computedField!==void 0).map(e=>{o[e.columnName]=e.computedField}),o},[j]);d.debug(N);const b=i.useMemo(()=>{const o={};return j.map(e=>{N[e.columnName]?o[e.columnName]=N[e.columnName].label:o[e.columnName]=e.columnLabel}),o},[N,j]);d.debug(b);const fe=(o,e)=>{if(P!==void 0&&P[o]!==void 0){const r=P[o].filter(n=>n.key===e);if(Array.isArray(r)&&r.length===1)return r[0].value}return e},W=w.getAllColumns(),v=w.getSelectedRowModel().rows,_=i.useMemo(()=>W.filter(o=>o.id!=="mrt-row-actions"&&o.id!=="mrt-row-select"&&o.id!=="mrt-row-expand").map(o=>o.id),[]);d.debug(_);const Y=i.useMemo(()=>_.map(o=>{const e=z(o);if(e===null)return 20;if(e.indexOf("(")!==-1){let r=e.substring(e.indexOf("(")+1);return r.indexOf(")")!==-1&&(r=r.substring(0,r.indexOf(")"))),r.indexOf(".")!==-1&&(r=r.substring(0,r.indexOf("."))),r.indexOf(",")!==-1&&(r=r.substring(0,r.indexOf(","))),Number(r)}return null}),[_]);d.debug(Y);const[Z,xr]=i.useState(()=>{const o=E();if(o!==null)try{const e=localStorage.getItem(o+"-wrapped-columns");if(e!==null)return JSON.parse(e)}catch(e){d.debug(e)}return _.filter((e,r)=>(Y[r]??99)<=20)});d.debug(Z);const $=i.useMemo(()=>{const o=E();if(o!==null)try{const e=localStorage.getItem(o);if(e!==null)return JSON.parse(e)}catch(e){d.debug(e)}return _},[_]);d.debug($);const[p,xe]=i.useState($);d.debug(p);const F=v.map(o=>{const e={};return W.map(r=>{r.id!=="mrt-row-actions"&&r.id!=="mrt-row-select"&&r.id!=="mrt-row-expand"&&(P!==void 0&&P[r.id]!==void 0?e[b[r.id]]=fe(r.id,o.getValue(r.id)):N[r.id]||(e[b[r.id]]=o.getValue(r.id)))}),e});d.debug(F);const L=v.map(o=>{const e={};return W.map(r=>{r.id!=="mrt-row-actions"&&r.id!=="mrt-row-select"&&r.id!=="mrt-row-expand"&&N[r.id]===void 0&&(e[r.id]=o.getValue(r.id))}),e});d.debug(L);const M=()=>{var o,e;return(s==null?void 0:s.src)===void 0?m:s.src.app_id&&((e=(o=s==null?void 0:s.app)==null?void 0:o.app[0])==null?void 0:e.app_title)!==""?s.app.app[0].app_title:s.src.dbs?s.src.tbl:m},D=Ve({filename:M(),fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),[ae,ar]=i.useState(()=>{const o=E();if(o!==null)try{const e=localStorage.getItem(o+"-pdf-title");if(e!==null)return e}catch(e){d.debug(e)}return M()});d.debug("pdfTitle",ae);const be=async()=>{},he=()=>{const o=ze(D)(Q("csv"));We(D)(o)},je=()=>{X(new Blob([JSON.stringify(Q("json"))],{type:"text/json;charset=utf-8"}),M()+".json")};i.useRef();const ge=()=>{const o=v.map(r=>{const n={};for(let c=0;c<p.length;c++)r.original[p[c]]!==void 0&&(n[p[c]]=r.original[p[c]]??"");return{row:n}}),e=Je.toXML({table:o});X(new Blob([e],{type:"text/plain;charset=utf-8"}),M()+".xml")},we=()=>{const o=_e(m);d.debug(o);let e="insert into "+o.tbl+" (";Object.keys(v[0].original).map(r=>{e+=r+","}),e=e.slice(0,-1)+") values ";for(let r=0;r<F.length;r++){const n=F[r];e+="(";for(const c in n){const G=oe(R(c));n[c]===null?e+="null,":G==="number"?e+=n[c]+",":e+="'"+n[c]+"',"}e=e.slice(0,-1),e+="),"}e=e.slice(0,-1)+`;
`,X(new Blob([e],{type:"text/plain;charset=utf-8"}),M()+".sql")},ye=()=>{T(re({appId:m,property:{isRowCountUpdated:!0}}));for(let o=0;o<F.length;o++){const e=Be(s,L[o]);Qe(m,e,r=>{if(r!=null&&r.code&&(r!=null&&r.message))switch(r.code){case"ok":q(l.deletedSuccessful,{variant:"success"}),O();break;default:d.error(r),q(r.message??l.invalidResponse,{variant:"error"})}else d.error(r),q(l.invalidResponse,{variant:"error"})},r=>{d.error("error",r),q(r??l.invalidResponse,{variant:"error"})})}w.setRowSelection({})},ve=()=>null,Ce=()=>null,[br,hr]=i.useState(0),[jr,gr]=i.useState(0),[Se,ee]=i.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Me,{variant:"popover",popupId:me,children:o=>{var e;return t.jsxs(t.Fragment,{children:[S<900?t.jsx(J,{title:l.bulkActions,children:t.jsx(I,{...te(o),children:t.jsx(se,{})})}):t.jsx(V,{variant:"contained",endIcon:t.jsx(se,{}),...te(o),children:l.bulkActions}),y.state.relTab===!0&&t.jsx(V,{variant:"contained",startIcon:t.jsx(Ne,{}),sx:{marginLeft:"10px"},onClick:()=>{T(re({appId:m,property:{isRelTabOpen:!1}}))},children:l.back}),t.jsx(er,{...Ie(o),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)"},children:t.jsxs(C,{sx:{display:"grid",gap:"20px",padding:"20px"},children:[k===!0?t.jsxs(C,{sx:{textAlign:"center",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[v.length===0?t.jsx(le,{sx:{textAlign:"center"},children:l.noRowsSelected}):t.jsx("span",{}),t.jsx(de,{children:t.jsx(B,{control:t.jsx(rr,{className:"pp-checkbox",checked:v.length>0,onChange:()=>{w.toggleAllRowsSelected()}}),label:t.jsx(C,{sx:{display:"flex",alignItems:"center"},children:l.selectAll})})})]}):t.jsx(t.Fragment,{children:v.length===0&&t.jsx(C,{sx:{textAlign:"center"},children:t.jsx(le,{children:l.noRowsSelected})})}),t.jsxs(or,{value:u,onChange:(r,n)=>{ue(n),r.stopPropagation()},children:[ve(),f.csv&&t.jsx(B,{value:"csv",label:l.exportToCsv,control:t.jsx(A,{})}),f.json&&t.jsx(B,{value:"json",label:l.exportToJson,control:t.jsx(A,{})}),Ce(),f.xml&&t.jsx(B,{value:"xml",label:l.exportToXml,control:t.jsx(A,{})}),f.sql&&!ke(m)&&t.jsx(B,{value:"sql",label:l.exportToSql,control:t.jsx(A,{})}),((e=s==null?void 0:s.privs)==null?void 0:e.delete)&&!Re(s)&&(f==null?void 0:f.delete)===!0&&h.transactions.delete&&t.jsx(B,{value:"delete",label:l.deletePermanently,control:t.jsx(A,{})}),(f.select??!1)&&t.jsx(B,{value:"select",label:l.addSelectedRow,control:t.jsx(A,{})})]}),t.jsxs(C,{sx:{display:"grid",gridTemplateColumns:u==="pdf"||u==="csv"||u==="json"||u==="excel"||u==="xml"?"1fr auto":"1fr",gap:"10px"},children:[t.jsx(V,{variant:"contained",onClick:()=>{if(u==="pdf"||u==="csv"||u==="json"||u==="excel"||u==="xml"){const r=E();if(r!==null)try{localStorage.setItem(r,JSON.stringify(p)),localStorage.setItem(r+"-wrapped-columns",JSON.stringify(Z))}catch(n){d.debug(n)}}switch(u){case"pdf":be();break;case"csv":he();break;case"json":je();break;case"excel":break;case"xml":ge();break;case"sql":we();break;case"delete":U(!0);break}},disabled:v.length===0||(u==="pdf"||u==="csv"||u==="json"||u==="excel"||u==="xml")&&(p==null?void 0:p.length)===0,children:l.apply}),(u==="pdf"||u==="csv"||u==="json"||u==="excel"||u==="xml")&&t.jsx(J,{title:x.showHideColumns,children:t.jsx(I,{onClick:()=>{ee(!0)},children:t.jsx(Ae,{})})})]})]})})]})}}),t.jsx(He,{title:l.deleteRowsTitle,message:l.deleteRowsMessage,open:pe,setOpen:U,onConfirm:()=>{ye()},theme:Ze}),t.jsx(tr,{openSelection:Se,setOpenSelection:ee,appLanguage:l,columnLabels:b,availableColumns:_,selectedColumns:p,setSelectedColumns:xe})]})},nr=i.lazy(()=>K(()=>import("./TableMap-1.0.40-Cdb7yVy8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url)),lr=i.lazy(()=>K(()=>import("./TableChart-1.0.40-FyoM_lWU.js"),__vite__mapDeps([24,2,3,4,10,11,12,13,14,6,7,8,9,15,16,17,5,25,26,27,28,29,30,31,32,22,19,20,33,34,35,36,37,1,38,39,40,41,23,18,21,42,43,44,45,46]),import.meta.url)),ir=i.lazy(()=>K(()=>import("./TableToolbarInlineEditingButton-1.0.40-B6dUKzBc.js"),__vite__mapDeps([47,2,3,4,48,1,5,6,7,8,9,49,41,50,17,13,14,15,51,52,53,54,55,56,27,57,23,16,42,38,39,40,58,59,60,61,62,63,64,12,19,65,66,18,20,21,67,68,69,33,70,71,72,73,30,74,22,45,32,29,46,75,76,31,34,28,77,35,78,36,79,80,81,82,83,84,85,11,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,44,105]),import.meta.url)),ft=({table:w,metaData:m,appId:s,bulkActions:f,hasBulkActions:y,tableStore:l,appLanguage:x,locale:O,refetch:S,showForm:a,appSettings:T,componentWidth:h,aggregates:j})=>{var R;const k=l.table;return Ke(s),t.jsxs(C,{sx:{display:"flex",flexWrap:"nowrap",gap:h<600?"0":"8px",alignItems:"center",whiteSpace:"nowrap"},className:"pp-toolbar-buttons",children:[t.jsx(J,{arrow:!0,title:x.refresh,className:"ppToolbarRefreshIcon",children:t.jsx(I,{onClick:()=>S(),children:t.jsx(Fe,{})})}),((R=k==null?void 0:k.transactions)==null?void 0:R.insert)&&t.jsx(t.Fragment,{children:h<900?t.jsx(J,{title:x.newRow,children:t.jsx(I,{onClick:()=>{a(null,ie.INSERT)},children:t.jsx(Ee,{})})}):t.jsx(V,{variant:"contained",startIcon:t.jsx(qe,{}),onClick:()=>{a(null,ie.INSERT)},children:x.newRow})}),y&&t.jsx(sr,{table:w,appId:s,metaData:m,bulkActions:f,tableStore:l,appLanguage:x,locale:O,refetch:S,componentWidth:h,aggregates:j}),l.table.maps.enabled&&!0&&t.jsx(i.Suspense,{children:t.jsx(nr,{appId:s,componentWidth:h,tableStore:l,appLanguage:x})}),l.table.charts.enabled===!0&&(l.table.charts.interactive===!0||!0)&&t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(lr,{appId:s,componentWidth:h,tableStore:l,metaData:m,appLanguage:x})}),l.table.inlineEditing.addColumnButton===!1&&l.columns.filter(z=>z.inlineEditing===!0).length>0&&t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(ir,{appId:s,metaData:m,locale:O,appLanguage:x,componentWidth:h,refetch:S})}),!1]})};export{ft as default};
