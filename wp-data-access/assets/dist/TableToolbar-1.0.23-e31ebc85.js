import{c$ as bt,l as C,r as y,j as u,dr as gt,a1 as ht,aT as yt,cO as xt,ck as jt,e as he,_ as Ke}from"./main-1.0.23.js";import{a as St}from"./useTableCode-1.0.23-486afaea.js";import{m as Tt,I as wt,M as Ot,E as _t}from"./index.esm-1.0.23-ba0465a2.js";import{P as Ct,b as qe,a as Rt}from"./index-1.0.23-5dd7ecd9.js";import{e as Ue,f as Et,g as At}from"./index.esm-1.0.23-5dc3dbfa.js";import{F as _e}from"./FileSaver.min-1.0.23-50350d46.js";import{d as kt}from"./ActionsDml-1.0.23-e3901c9d.js";import{C as Mt}from"./ConfirmDialog-1.0.23-f318040f.js";import{a as It}from"./RestApi-1.0.23-cc179eb9.js";import{c as Nt,h as Ft}from"./useTheme-1.0.23-55aea9bb.js";import{u as Bt}from"./TableQuery-1.0.23-dfe8ee93.js";import{M as Pt}from"./index.esm-1.0.23-3107c6b2.js";import{u as He}from"./colorManipulator-1.0.23-e382be1d.js";import{v as Lt,F as Je}from"./FallbackSpinner-1.0.23-96931408.js";import{T as xe}from"./Tooltip-1.0.23-1b58a848.js";import{I as le}from"./iconBase-1.0.23-43ac6f06.js";import{B as ye}from"./CardContent-1.0.23-cd3f2c87.js";import{P as qt}from"./Popover-1.0.23-6c9c65a6.js";import{B as se}from"./Spinner-1.0.23-90ab83ff.js";import{T as Ut}from"./Typography-1.0.23-19a0fd3e.js";import{R as Ht}from"./RadioGroup-1.0.23-053476ee.js";import{F as Q}from"./FormControlLabel-1.0.23-1ad68af6.js";import{R as Z}from"./Radio-1.0.23-7006053b.js";import{M as Jt}from"./Modal-1.0.23-3fe42627.js";import{F as Xt}from"./FormHelperText-1.0.23-83597bdf.js";import{A as Gt,C as $t}from"./Autocomplete-1.0.23-a5bc1209.js";import{T as Vt}from"./TextField-1.0.23-1657e9d4.js";import{R as Xe}from"./ThemeContainer-1.0.23-10b65460.js";import"./purify.es-1.0.23-68816782.js";import"./DialogContent-1.0.23-79893b13.js";import"./AdminTheme-1.0.23-7044caf5.js";import"./useStoreTable-1.0.23-508477d7.js";import"./SanitizeComponent-1.0.23-8b51bdfd.js";import"./index.esm-1.0.23-da98f1a9.js";import"./TableContainer-1.0.23-55f87dc7.js";import"./ActionsSettings-1.0.23-a601e9bf.js";import"./TargetEnum-1.0.23-b82380d5.js";import"./ScopeEnum-1.0.23-7caf102d.js";import"./TabPanel-1.0.23-ecd53346.js";import"./Tabs-1.0.23-d047285a.js";import"./ThemeProvider-1.0.23-f3e5cbc1.js";import"./createSvgIcon-1.0.23-f9410a01.js";/* empty css                        */import"./index.esm-1.0.23-4f58f177.js";import"./useControlled-1.0.23-1e71c28b.js";import"./MenuItem-1.0.23-0a5da249.js";import"./Menu-1.0.23-e889464a.js";import"./Collapse-1.0.23-a92fc278.js";import"./Checkbox-1.0.23-e63c68aa.js";import"./SwitchBase-1.0.23-adccc77c.js";import"./useFormControl-1.0.23-a0ae6ce7.js";import"./AlertTitle-1.0.23-db3e7867.js";import"./index-1.0.23-9af490ae.js";import"./useSlot-1.0.23-b9d48820.js";import"./Close-1.0.23-ea28bfa6.js";import"./InputAdornment-1.0.23-4e3a41ab.js";import"./ListItemIcon-1.0.23-db4c6871.js";import"./Divider-1.0.23-d1a6ffad.js";import"./Switch-1.0.23-86b06b05.js";import"./Grow-1.0.23-40b2ff68.js";import"./TimePicker-1.0.23-d0b1e0ce.js";import"./useMobilePicker-1.0.23-d86c6ab1.js";import"./Popper-1.0.23-4a0d0616.js";import"./ListItem-1.0.23-64a79cf3.js";import"./date-time-utils-1.0.23-aa0087e0.js";import"./DateTimePicker-1.0.23-f93dd334.js";import"./dateViewRenderers-1.0.23-cded121c.js";import"./DatePicker-1.0.23-0abda5fe.js";import"./Slider-1.0.23-75ca4c04.js";import"./useScreenSize-1.0.23-b1e8b94a.js";import"./index-1.0.23-8345d9bc.js";import"./AggregationLabelsEnum-1.0.23-30d037e3.js";import"./createStyled-1.0.23-528f26c2.js";import"./FormLabel-1.0.23-71a056b2.js";var Kt={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},zt=`\r
`,Wt="\uFEFF",Ce=o=>Object.assign({},Kt,o);class Yt extends Error{constructor(l){super(l),this.name="CsvGenerationError"}}class Qt extends Error{constructor(l){super(l),this.name="EmptyHeadersError"}}class Zt extends Error{constructor(l){super(l),this.name="CsvDownloadEnvironmentError"}}var ae=o=>o,I=o=>o,je=ae,D=ae,Ge=ae,$e=ae,Dt=function(o,l){return l=='"'&&o.indexOf('"')>-1?o.replace(/"/g,'""'):o},er=o=>Ge(typeof o=="object"?o.key:o),tr=o=>$e(typeof o=="object"?o.displayLabel:o),rr=(o,...l)=>l.reduce((t,p)=>p(t),o),nr=o=>l=>o.useBom?je(I(l)+Wt):l,or=o=>l=>o.showTitle?Re(je(I(l)+o.title))(D("")):l,Re=o=>l=>je(I(o)+I(l)+zt),ze=o=>(l,t)=>ir(o)(D(l+t)),ir=o=>l=>ae(I(l)+o.fieldSeparator),sr=(o,l)=>t=>{if(!o.showColumnHeaders)return t;if(l.length<1)throw new Qt("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let p=D("");for(let h=0;h<l.length;h++){const c=tr(l[h]);p=ze(o)(p,We(o,c))}return p=D(I(p).slice(0,-1)),Re(t)(p)},lr=(o,l,t)=>p=>{let h=p;for(var c=0;c<t.length;c++){let x=D("");for(let f=0;f<l.length;f++){const A=er(l[f]),U=typeof t[c][I(A)]>"u"?o.replaceUndefinedWith:t[c][I(A)];x=ze(o)(x,We(o,U))}x=D(I(x).slice(0,-1)),h=Re(h)(x)}return h},Ve=o=>+o===o&&(!isFinite(o)||!!(o%1)),We=(o,l)=>{if(o.decimalSeparator==="locale"&&Ve(l))return l.toLocaleString();if(o.decimalSeparator!=="."&&Ve(l))return l.toString().replace(".",o.decimalSeparator);if(typeof l=="string"){let t=l;return(o.quoteStrings||o.fieldSeparator&&l.indexOf(o.fieldSeparator)>-1||o.quoteCharacter&&l.indexOf(o.quoteCharacter)>-1||l.indexOf(`
`)>-1||l.indexOf("\r")>-1)&&(t=o.quoteCharacter+Dt(l,o.quoteCharacter)+o.quoteCharacter),t}if(typeof l=="boolean"&&o.boolDisplay){const t=l?"true":"false";return o.boolDisplay[t]}return l},ar=o=>l=>{const t=Ce(o),p=t.useKeysAsHeaders?Object.keys(l[0]):t.columnHeaders;let h=rr(je(""),nr(t),or(t),sr(t,p),lr(t,p,l));if(I(h).length<1)throw new Yt("Output is empty. Is your data formatted correctly?");return h},ur=o=>l=>{if(!window)throw new Zt("Downloading only supported in a browser environment.");const t=Ce(o),p=I(l),h=t.useTextFile?"plain":"csv",c=t.useTextFile?"txt":"csv";let x=new Blob([p],{type:`text/${h};charset=utf8;`}),f=document.createElement("a");f.download=`${t.filename}.${c}`,f.href=URL.createObjectURL(x),f.setAttribute("visibility","hidden"),document.body.appendChild(f),f.click(),document.body.removeChild(f)},Ye={};(function(o){(function(l,t){t(o)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:bt,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.toXML=void 0;function t(i){return c(i)||h(i)||N(i)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function c(i){if(Array.isArray(i))return P(i)}function x(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);e&&(d=d.filter(function(v){return Object.getOwnPropertyDescriptor(i,v).enumerable})),n.push.apply(n,d)}return n}function f(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x(Object(n),!0).forEach(function(d){A(i,d,n[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(n,d))})}return i}function A(i,e,n){return e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function U(i,e){return m(i)||G(i,e)||N(i,e)||B()}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(i,e){if(i){if(typeof i=="string")return P(i,e);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(i);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(i,e)}}function P(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,d=new Array(e);n<e;n++)d[n]=i[n];return d}function G(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var d=[],v=!0,S=!1,w,O;try{for(n=n.call(i);!(v=(w=n.next()).done)&&(d.push(w.value),!(e&&d.length===e));v=!0);}catch(E){S=!0,O=E}finally{try{!v&&n.return!=null&&n.return()}finally{if(S)throw O}}return d}}function m(i){if(Array.isArray(i))return i}function k(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(n){return typeof n}:k=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},k(i)}var j={ARRAY:"array",BOOLEAN:"boolean",DATE:"date",FUNCTION:"function",JSTOXML_OBJECT:"jstoxml-object",NULL:"null",NUMBER:"number",OBJECT:"object",STRING:"string"},ue=[j.STRING,j.NUMBER,j.BOOLEAN],Se='<?xml version="1.0" encoding="UTF-8"?>',R=["_selfCloseTag","_attrs"],H=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.repeat(n)},M=function(e){return Array.isArray(e)&&j.ARRAY||k(e)===j.OBJECT&&e!==null&&e._name&&j.JSTOXML_OBJECT||e instanceof Date&&j.DATE||e===null&&j.NULL||k(e)},F=function(e){return e.startsWith("<![CDATA[")},ce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,v=e;if(k(e)===j.STRING){if(F(e))return e;var S=new RegExp("(".concat(Object.keys(n).join("|"),")(?!(\\w|#)*;)"),"g");v=String(e).replace(S,function(w,O){return n[O]||""})}return typeof d=="function"?d(v):v},de=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,S=Array.isArray(e)?e:Object.entries(e).map(function(w){var O=U(w,2),E=O[0],q=O[1];return A({},E,q)});return S.reduce(function(w,O){var E=Object.keys(O)[0],q=O[E];if(k(d)===j.FUNCTION){var z=d(E,q);if(z)return w}var J=n?ce(q,n):q,te=!v&&J===!0?"":'="'.concat(J,'"');return w.push("".concat(E).concat(te)),w},[])},ee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,S=de(e,n,d,v);if(S.length===0)return"";var w=S.join(" ");return" ".concat(w)},$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).map(function(n){return{_name:n,_content:e[n]}})},K=function(e){return ue.includes(M(e))},pe=function(e){return!e.match("<")},T=function(e){var n=e.header,d=e.isOutputStart,v=n&&d;if(!v)return"";var S=k(n)===j.BOOLEAN;return S?Se:n},fe={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},L=function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=n.depth,v=d===void 0?0:d,S=n.indent,w=n._isFirstItem,O=n._isOutputStart,E=O===void 0?!0:O,q=n.header,z=n.attributeReplacements,J=z===void 0?{}:z,te=n.attributeFilter,ve=n.attributeExplicitTrue,re=ve===void 0?!1:ve,be=n.contentReplacements,a=be===void 0?{}:be,r=n.contentMap,s=n.selfCloseTags,b=s===void 0?!0:s,g=typeof J=="boolean"&&!J,V=g?{}:f(f({},fe),J),Qe=typeof a=="boolean"&&!a,Ze=Qe?{}:f(f({},fe),a),Ee=typeof S=="string",Te=H(S,v),De=M(e),Ae=T({header:q,indent:S,depth:v,isOutputStart:E}),ge=E&&!Ae&&w&&v===0,ke=Ee&&!ge?`
`:"",X="";switch(De){case j.JSTOXML_OBJECT:{var W=e._name,Y=e._content;if(Y===null&&typeof r!="function"){X="".concat(ke).concat(Te).concat(W);break}var et=Array.isArray(Y)&&Y.every(K);if(et){var tt=Y.map(function(_){return i({_name:W,_content:_},f(f({},n),{},{depth:v,_isOutputStart:!1}))});return tt.join("")}if(R.includes(W))break;var ne=i(Y,f(f({},n),{},{depth:v+1,_isOutputStart:ge})),rt=M(ne),nt=pe(ne),ot=F(ne),Me="".concat(ke).concat(Te);if(W==="_comment"){X+="".concat(Me,"<!-- ").concat(Y," -->");break}var Ie=rt==="undefined"||ne==="",it=b,Ne=e._selfCloseTag,Fe=k(Ne)===j.BOOLEAN?Ie&&Ne:Ie&&it,st=Fe?"/":"",lt=ee(e._attrs,V,te,re),at="<".concat(W).concat(lt).concat(st,">"),ut=Ee&&!nt&&!ot?`
`.concat(Te):"",ct=Fe?"":"".concat(ne).concat(ut,"</").concat(W,">");X+="".concat(Me).concat(at).concat(ct);break}case j.OBJECT:{var Be=Object.keys(e),dt=Be.map(function(_,oe){var we=f(f({},n),{},{_isFirstItem:oe===0,_isLastItem:oe+1===Be.length,_isOutputStart:ge}),ie={_name:_};if(M(e[_])===j.OBJECT){R.forEach(function(Oe){var Le=e[_][Oe];typeof Le<"u"&&(ie[Oe]=Le,delete e[_][Oe])});var mt=typeof e[_]._content<"u";if(mt&&Object.keys(e[_]).length>1){var Pe=Object.assign({},e[_]);delete Pe._content,ie._content=[].concat(t($(Pe)),[e[_]._content])}}typeof ie._content>"u"&&(ie._content=e[_]);var vt=i(ie,we);return vt},n);X=dt.join("");break}case j.FUNCTION:{var pt=e(n);X=i(pt,n);break}case j.ARRAY:{var ft=e.map(function(_,oe){var we=f(f({},n),{},{_isFirstItem:oe===0,_isLastItem:oe+1===e.length,_isOutputStart:ge});return i(_,we)});X=ft.join("");break}default:{X=ce(e,Ze,r);break}}return"".concat(Ae).concat(X)};l.toXML=L;var me={toXML:L};l.default=me})})(Ye);const cr=({table:o,appId:l,metaData:t,bulkActions:p,tableStore:h,appLanguage:c,refetch:x,componentWidth:f})=>{C.debug(l,t,p);const A=It(),U=h.table,B=h.columns;Nt(l);const N=He("(max-width:900px)"),P=He("(max-width:600px)");y.useState("landscape"),y.useState("striped");let G="csv";p.select!==void 0&&(G="select");const[m,k]=y.useState(G),[j,ue]=y.useState(!1),Se=y.useMemo(()=>Lt(),[]),R=Bt(l),H=y.useMemo(()=>{const a={};return B.filter(r=>r.lookup!==void 0&&R!==void 0&&R[r.columnName]!==void 0).map(r=>{var s;if(R!==void 0&&R[r.columnName]!==void 0){const b=[];for(const g in R[r.columnName]){const V={key:g,value:Array.isArray(R[r.columnName][g])?R[r.columnName][g].join((s=r.lookup)==null?void 0:s.delimiter):R[r.columnName][g]};b.push(V)}a[r.columnName]=b}}),a},[R,B]);C.debug("lookupColumns",H);const M=y.useMemo(()=>{const a={};return B.filter(r=>r.computedField!==void 0).map(r=>{a[r.columnName]=r.computedField}),a},[B]);C.debug(M);const F=y.useMemo(()=>{const a={};return B.map(r=>{M[r.columnName]?a[r.columnName]=M[r.columnName].label:a[r.columnName]=r.columnLabel}),a},[M,B]);C.debug(F);const ce=(a,r)=>{if(H!==void 0&&H[a]!==void 0){const s=H[a].filter(b=>b.key===r);if(Array.isArray(s)&&s.length===1)return s[0].value}return r},de=()=>{var a,r,s;return(a=t==null?void 0:t.src)!=null&&a.app_id?"ppBulkAction-"+t.src.app_id+"-"+t.src.cnt_id:(r=t==null?void 0:t.src)!=null&&r.dbs&&((s=t==null?void 0:t.src)!=null&&s.tbl)?"ppBulkAction-"+t.src.dbs+"-"+t.src.tbl:null},ee=o.getAllColumns(),$=o.getSelectedRowModel().rows,K=y.useMemo(()=>ee.filter(a=>a.id!=="mrt-row-actions"&&a.id!=="mrt-row-select"&&a.id!=="mrt-row-expand").map(a=>a.id),[]);C.debug(K);const pe=y.useMemo(()=>{const a=de();if(a!==null){const r=localStorage.getItem(a);if(r!==null)return JSON.parse(r)}return K},[K]);C.debug(pe);const[T,fe]=y.useState(pe);C.debug(T);const L=$.map(a=>{const r={};return ee.map(s=>{s.id!=="mrt-row-actions"&&s.id!=="mrt-row-select"&&s.id!=="mrt-row-expand"&&(H!==void 0&&H[s.id]!==void 0?r[F[s.id]]=ce(s.id,a.getValue(s.id)):M[s.id]||(r[F[s.id]]=a.getValue(s.id)))}),r});C.debug(L);const me=$.map(a=>{const r={};return ee.map(s=>{s.id!=="mrt-row-actions"&&s.id!=="mrt-row-select"&&s.id!=="mrt-row-expand"&&M[s.id]===void 0&&(r[s.id]=a.getValue(s.id))}),r});C.debug(me);const i=()=>{var a,r;return(t==null?void 0:t.src)===void 0?l:t.src.app_id&&((r=(a=t==null?void 0:t.app)==null?void 0:a.app[0])==null?void 0:r.app_title)!==""?t.app.app[0].app_title:t.src.dbs?t.src.tbl:l},e=Ce({filename:i(),fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),n=a=>{const r={};if(t.primary_key&&Array.isArray(t.primary_key))for(let s=0;s<t.primary_key.length;s++){const b=t.primary_key[s];r[b]=a[b]}return r},d=a=>{var r,s,b;for(let g=0;g<((r=t==null?void 0:t.columns)==null?void 0:r.length);g++)if(((s=t==null?void 0:t.columns[g])==null?void 0:s.column_name)===a)return(b=t==null?void 0:t.columns[g])==null?void 0:b.data_type;return"varchar"},v=()=>L.map(a=>{const r={};for(let s=0;s<T.length;s++)r[F[T[s]]]=a[F[T[s]]];return r}),S=async()=>{},w=()=>{const a=ar(e)(v());ur(e)(a)},O=()=>{_e(new Blob([JSON.stringify(v())],{type:"text/json;charset=utf-8"}),i()+".json")};y.useRef();const E=()=>{const a=$.map(s=>{const b={};for(let g=0;g<T.length;g++)s.original[T[g]]!==void 0&&(b[T[g]]=s.original[T[g]]??"");return{row:b}}),r=Ye.toXML({table:a});_e(new Blob([r],{type:"text/plain;charset=utf-8"}),i()+".xml")},q=()=>{const a=xt(l);C.debug(a);let r="insert into "+a.tbl+" (";for(const s in L[0])r+=s+",";r=r.slice(0,-1)+") values ";for(let s=0;s<L.length;s++){const b=L[s];r+="(";for(const g in b){const V=jt(d(g));b[g]===null?r+="null,":V==="number"?r+=b[g]+",":r+="'"+b[g]+"',"}r=r.slice(0,-1),r+="),"}r=r.slice(0,-1)+";",_e(new Blob([r],{type:"text/plain;charset=utf-8"}),i()+".sql")},z=()=>{for(let a=0;a<L.length;a++){const r=n(me[a]);kt(l,r,s=>{if(s!=null&&s.code&&(s!=null&&s.message))switch(s.code){case"ok":he(c.deletedSuccessful,{variant:"success"}),x();break;default:C.error(s),he(s.message??c.invalidResponse,{variant:"error"})}else C.error(s),he(c.invalidResponse,{variant:"error"})},s=>{C.error("error",s),he(s??c.invalidResponse,{variant:"error"})})}o.setRowSelection({})},J=()=>null,te=()=>null;y.useState(0),y.useState(0);const[ve,re]=y.useState(!1),be=y.useMemo(()=>Pt,[]);return u.jsxs(u.Fragment,{children:[u.jsx(Ct,{variant:"popover",popupId:Se,children:a=>{var r;return u.jsxs(u.Fragment,{children:[f<900?u.jsx(xe,{title:c.bulkActions,children:u.jsx(le,{...qe(a),children:u.jsx(Ue,{})})}):u.jsx(ye,{variant:"contained",endIcon:u.jsx(Ue,{}),...qe(a),children:c.bulkActions}),h.state.relTab===!0&&u.jsx(ye,{variant:"contained",startIcon:u.jsx(Tt,{}),sx:{marginLeft:"10px"},onClick:()=>{A(gt({appId:l}))},children:c.back}),u.jsx(qt,{...Rt(a),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)"},children:u.jsxs(se,{sx:{display:"grid",gap:"20px",padding:"20px"},children:[$.length===0&&u.jsx(Ut,{sx:{textAlign:"center",marginTop:"10px"},children:c.noRowsSelected}),u.jsxs(Ht,{value:m,onChange:(s,b)=>{k(b),s.stopPropagation()},children:[J(),p.csv&&u.jsx(Q,{value:"csv",label:c.exportToCsv,control:u.jsx(Z,{})}),p.json&&u.jsx(Q,{value:"json",label:c.exportToJson,control:u.jsx(Z,{})}),te(),p.xml&&u.jsx(Q,{value:"xml",label:c.exportToXml,control:u.jsx(Z,{})}),p.sql&&!ht(l)&&u.jsx(Q,{value:"sql",label:c.exportToSql,control:u.jsx(Z,{})}),((r=t==null?void 0:t.privs)==null?void 0:r.delete)&&!yt(t)&&(p==null?void 0:p.delete)===!0&&U.transactions.delete&&u.jsx(Q,{value:"delete",label:c.deletePermanently,control:u.jsx(Z,{})}),(p.select??!1)&&u.jsx(Q,{value:"select",label:c.addSelectedRow,control:u.jsx(Z,{})})]}),u.jsxs(se,{sx:{display:"grid",gridTemplateColumns:m==="pdf"||m==="csv"||m==="json"||m==="excel"||m==="xml"?"1fr auto":"1fr",gap:"10px"},children:[u.jsx(ye,{variant:"contained",onClick:()=>{if(m==="pdf"||m==="csv"||m==="json"||m==="excel"||m==="xml"){const s=de();s!==null&&localStorage.setItem(s,JSON.stringify(T))}switch(m){case"pdf":S();break;case"csv":w();break;case"json":O();break;case"excel":break;case"xml":E();break;case"sql":q();break;case"delete":ue(!0);break}},disabled:$.length===0||(m==="pdf"||m==="csv"||m==="json"||m==="excel"||m==="xml")&&(T==null?void 0:T.length)===0,children:c.apply}),(m==="pdf"||m==="csv"||m==="json"||m==="excel"||m==="xml")&&u.jsx(xe,{title:be.showHideColumns,children:u.jsx(le,{onClick:()=>{re(!0)},children:u.jsx(wt,{})})})]})]})})]})}}),u.jsx(Mt,{title:c.deleteRowsTitle,message:c.deleteRowsMessage,open:j,setOpen:ue,onConfirm:()=>{z()},theme:Ft}),u.jsx(Jt,{open:ve,onClose:()=>{re(!1)},children:u.jsxs(se,{sx:{position:"absolute",top:"25%",left:"50%",transform:"translate(-50%, -50%)",width:P?"80vw":N?"70vw":"60vw",maxWidth:"700px",bgcolor:"background.paper",boxShadow:24,borderRadius:"4px",p:4},children:[u.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"-20px"},children:[u.jsx("h3",{children:c.selectFromList}),u.jsx(le,{onClick:()=>{re(!1)},children:u.jsx(Ot,{})})]}),u.jsx(Xt,{fullWidth:!0,children:u.jsx(Gt,{multiple:!0,options:K,value:T,disableCloseOnSelect:!0,getOptionLabel:a=>F[a],onChange:(a,r)=>{fe(r),a.stopPropagation()},renderInput:a=>u.jsx(Vt,{...a}),renderTags:(a,r)=>a.map((s,b)=>{const{key:g,...V}=r({index:b});return u.jsx($t,{variant:"outlined",label:F[s],...V},g)})})})]})})]})},dr=y.lazy(()=>Ke(()=>import("./TableChart-1.0.23-02f1d71a.js"),["./TableChart-1.0.23-02f1d71a.js","./main-1.0.23.js","./index-1.0.23-5dd7ecd9.js","./DialogContent-1.0.23-79893b13.js","./Typography-1.0.23-19a0fd3e.js","./index.esm-1.0.23-ba0465a2.js","./iconBase-1.0.23-43ac6f06.js","./Modal-1.0.23-3fe42627.js","./RestApi-1.0.23-cc179eb9.js","./useTableSortableColumns-1.0.23-d43f93d8.js","./ChartTypeSelection-1.0.23-1c3ed074.js","./ChartTypes-1.0.23-6413b499.js","./index.esm-1.0.23-da98f1a9.js","./FormHelperText-1.0.23-83597bdf.js","./useFormControl-1.0.23-a0ae6ce7.js","./TextField-1.0.23-1657e9d4.js","./FormLabel-1.0.23-71a056b2.js","./Menu-1.0.23-e889464a.js","./ThemeProvider-1.0.23-f3e5cbc1.js","./Popover-1.0.23-6c9c65a6.js","./Grow-1.0.23-40b2ff68.js","./useControlled-1.0.23-1e71c28b.js","./createSvgIcon-1.0.23-f9410a01.js","./MenuItem-1.0.23-0a5da249.js","./ListItemIcon-1.0.23-db4c6871.js","./Chart-1.0.23-06cce95d.js","./useTheme-1.0.23-55aea9bb.js","./colorManipulator-1.0.23-e382be1d.js","./Spinner-1.0.23-90ab83ff.js","./Tooltip-1.0.23-1b58a848.js","./Popper-1.0.23-4a0d0616.js","./CardContent-1.0.23-cd3f2c87.js","./Autocomplete-1.0.23-a5bc1209.js","./Close-1.0.23-ea28bfa6.js","./index-1.0.23-9af490ae.js"],import.meta.url)),pr=y.lazy(()=>Ke(()=>import("./TableToolbarInlineEditingButton-1.0.23-af12835e.js"),["./TableToolbarInlineEditingButton-1.0.23-af12835e.js","./main-1.0.23.js","./TableQuery-1.0.23-dfe8ee93.js","./useStoreTable-1.0.23-508477d7.js","./RestApi-1.0.23-cc179eb9.js","./useTableCode-1.0.23-486afaea.js","./index.esm-1.0.23-ba0465a2.js","./Typography-1.0.23-19a0fd3e.js","./iconBase-1.0.23-43ac6f06.js","./ActionsDml-1.0.23-e3901c9d.js","./ConfirmDialog-1.0.23-f318040f.js","./AdminTheme-1.0.23-7044caf5.js","./DialogContent-1.0.23-79893b13.js","./Modal-1.0.23-3fe42627.js","./CardContent-1.0.23-cd3f2c87.js","./ConfirmDialog-1.0.23-9bff3a93.css","./SanitizeComponent-1.0.23-8b51bdfd.js","./purify.es-1.0.23-68816782.js","./index.esm-1.0.23-da98f1a9.js","./colorManipulator-1.0.23-e382be1d.js","./TableContainer-1.0.23-55f87dc7.js","./FallbackSpinner-1.0.23-96931408.js","./Spinner-1.0.23-90ab83ff.js","./ActionsSettings-1.0.23-a601e9bf.js","./TargetEnum-1.0.23-b82380d5.js","./ScopeEnum-1.0.23-7caf102d.js","./TabPanel-1.0.23-ecd53346.js","./Tabs-1.0.23-d047285a.js","./ThemeProvider-1.0.23-f3e5cbc1.js","./createSvgIcon-1.0.23-f9410a01.js","./useTheme-1.0.23-55aea9bb.js","./settings-1.0.23-871bbe9f.css","./index.esm-1.0.23-4f58f177.js","./FormHelperText-1.0.23-83597bdf.js","./useFormControl-1.0.23-a0ae6ce7.js","./useControlled-1.0.23-1e71c28b.js","./Tooltip-1.0.23-1b58a848.js","./Popper-1.0.23-4a0d0616.js","./Grow-1.0.23-40b2ff68.js","./FormControlLabel-1.0.23-1ad68af6.js","./createStyled-1.0.23-528f26c2.js","./TextField-1.0.23-1657e9d4.js","./FormLabel-1.0.23-71a056b2.js","./Menu-1.0.23-e889464a.js","./Popover-1.0.23-6c9c65a6.js","./MenuItem-1.0.23-0a5da249.js","./Collapse-1.0.23-a92fc278.js","./Radio-1.0.23-7006053b.js","./SwitchBase-1.0.23-adccc77c.js","./Checkbox-1.0.23-e63c68aa.js","./Autocomplete-1.0.23-a5bc1209.js","./Close-1.0.23-ea28bfa6.js","./index-1.0.23-9af490ae.js","./AlertTitle-1.0.23-db3e7867.js","./useSlot-1.0.23-b9d48820.js","./InputAdornment-1.0.23-4e3a41ab.js","./ListItemIcon-1.0.23-db4c6871.js","./Divider-1.0.23-d1a6ffad.js","./Switch-1.0.23-86b06b05.js","./TimePicker-1.0.23-d0b1e0ce.js","./useMobilePicker-1.0.23-d86c6ab1.js","./ListItem-1.0.23-64a79cf3.js","./date-time-utils-1.0.23-aa0087e0.js","./DateTimePicker-1.0.23-f93dd334.js","./dateViewRenderers-1.0.23-cded121c.js","./DatePicker-1.0.23-0abda5fe.js","./Slider-1.0.23-75ca4c04.js","./index.esm-1.0.23-3107c6b2.js","./useScreenSize-1.0.23-b1e8b94a.js","./ThemeContainer-1.0.23-10b65460.js","./index-1.0.23-8345d9bc.js","./AggregationLabelsEnum-1.0.23-30d037e3.js","./TableQuery-1.0.23-9815a209.css"],import.meta.url)),Nn=({table:o,metaData:l,appId:t,bulkActions:p,hasBulkActions:h,tableStore:c,appLanguage:x,locale:f,refetch:A,showForm:U,appSettings:B,componentWidth:N})=>{var G;const P=c.table;return St(t),u.jsxs(se,{sx:{display:"flex",flexWrap:"nowrap",gap:N<600?"0":"8px",alignItems:"center",whiteSpace:"nowrap"},className:"pp-toolbar-buttons",children:[u.jsx(xe,{arrow:!0,title:x.refresh,className:"ppToolbarRefreshIcon",children:u.jsx(le,{onClick:()=>A(),children:u.jsx(_t,{})})}),((G=P==null?void 0:P.transactions)==null?void 0:G.insert)&&u.jsx(u.Fragment,{children:N<900?u.jsx(xe,{title:x.newRow,children:u.jsx(le,{onClick:()=>{U(null,Xe.INSERT)},children:u.jsx(Et,{})})}):u.jsx(ye,{variant:"contained",startIcon:u.jsx(At,{}),onClick:()=>{U(null,Xe.INSERT)},children:x.newRow})}),h&&u.jsx(cr,{table:o,appId:t,metaData:l,bulkActions:p,tableStore:c,appLanguage:x,refetch:A,componentWidth:N}),c.table.charts.enabled===!0&&u.jsx(y.Suspense,{fallback:u.jsx(Je,{}),children:u.jsx(dr,{appId:t,componentWidth:N,table:o,tableStore:c,metaData:l,appLanguage:x})}),c.table.inlineEditing.addColumnButton===!1&&c.columns.filter(m=>m.inlineEditing===!0).length>0&&u.jsx(y.Suspense,{fallback:u.jsx(Je,{}),children:u.jsx(pr,{appId:t,metaData:l,locale:f,appLanguage:x,componentWidth:N,refetch:A})}),!1]})};export{Nn as default};
