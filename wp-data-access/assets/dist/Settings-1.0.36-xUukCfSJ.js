const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SettingsColumns-1.0.36-uMeeR36l.js","./cm-1.0.36-c_d2YVSf.js","./redux-1.0.36-Dw38apwx.js","./vendor-1.0.36-CN03Eozo.js","./useMetadataColumns-1.0.36-UmqN03AO.js","./index-1.0.36-Cdz_jNzK.js","./iconBase-1.0.36-Cg_-P7_6.js","./Typography-1.0.36-CpRCY5e-.js","./lib-1.0.36-RK2jtnD_.js","./loglevel-1.0.36-BZ7XahX3.js","./lodash-1.0.36-DFhYoGis.js","./moment-1.0.36-C5S46NFB.js","./useEnhancedEffect-1.0.36-CTzd5Szc.js","./notistack-1.0.36-BWLrSPn1.js","./LanguagesSupport-1.0.36-CNwr1suX.js","./useStoreTable-1.0.36-DAzrykvV.js","./hooks-1.0.36-DVpFeylj.js","./useFormStore-1.0.36-GV5p6sJj.js","./Spinner-1.0.36-BfGTD4Gb.js","./ConfirmDialog-1.0.36-_-4q7QfI.js","./AdminTheme-1.0.36-Bhvs-n11.js","./index-1.0.36-DGn82zAm.js","./ActionsDml-1.0.36-CcZ8-7p5.js","./RestApi-1.0.36-XUqEDvWp.js","./index-1.0.36-Dv-fkoQB.js","./TextField-1.0.36-7fMfIiaO.js","./useFormControl-1.0.36-DwbRv5ZH.js","./isHostComponent-1.0.36-DVu5iVWx.js","./FormHelperText-1.0.36-CywRqLJL.js","./debounce-1.0.36-Be36O1Ab.js","./FormLabel-1.0.36-wYb03Y2-.js","./Menu-1.0.36-BJc4ujw0.js","./ThemeProvider-1.0.36-BePdakPr.js","./useControlled-1.0.36-DU9XYnsb.js","./createSvgIcon-1.0.36-CIHUMY7B.js","./MenuItem-1.0.36-BUF9VZzL.js","./dividerClasses-1.0.36-cwzIcK9n.js","./index-1.0.36-B0PsaY_K.js","./useTableUpdater-1.0.36-hYY8Nrtx.js","./Stepper-1.0.36-Dom8khPE.js","./StepContent-1.0.36-DliWgcQP.js","./Collapse-1.0.36-DzOtbj0p.js","./FormControlLabel-1.0.36-DUOG-t_O.js","./Checkbox-1.0.36-BBYwR5K6.js","./SwitchBase-1.0.36-DQfS6hYA.js","./Link-1.0.36-k1HTh5ol.js","./AccordionSummary-1.0.36-Bkgwks40.js","./AccordionDetails-1.0.36-DkVLnrNK.js","./Switch-1.0.36-BYfunOZA.js","./main-1.0.36.js","./Tooltip-1.0.36-COg3Mxx7.js","./Tooltip-1.0.36--D4jr2go.css","./useFormUpdater-1.0.36-C8PacKlI.js","./PremiumFeature-1.0.36-bCWDv36W.js","./useStoreFormSettings-1.0.36-DjvLmz7r.js","./Slider-1.0.36-P1QSgbLL.js","./visuallyHidden-1.0.36-Dan1xhjv.js","./RadioGroup-1.0.36-Cdm5IN11.js","./Radio-1.0.36-hNRQPG6Z.js","./AppTheme-1.0.36-BB9LBkIC.js","./index-1.0.36-xGqEIHxf.js","./getThemeProps-1.0.36-R5fuQQuM.js","./EnumTypeEnum-1.0.36-Ws4BsaYD.js","./react-number-format.es-1.0.36-Cs3HzBGT.js","./ResizableDrawer-1.0.36-DprvuOUU.js","./useScreenSize-1.0.36-Cyh3FPEf.js","./SettingsForm-1.0.36-CJTrb2XI.js","./CssUnitTextField-1.0.36-lmkwemA7.js","./SettingsFormRelationships-1.0.36-sRVal3Iz.js","./ComponentColumn-1.0.36-DanyG7i0.js","./ActionsExplorer-1.0.36-XRmdxtYI.js","./Autocomplete-1.0.36-iUEM6sWc.js","./Close-1.0.36-Bg2BHC5L.js","./Popper-1.0.36-B2EKBEPA.js","./useLoadAppMetaData-1.0.36-V1rR8IcL.js","./StoreTypeEnum-1.0.36-7-S8NaGy.js","./Tooltip-1.0.36-BmrJt8sK.js","./ToggleButtonGroup-1.0.36-BXp32NTm.js","./useFormDetails-1.0.36-Bik4Yf-M.js","./useChartSettings-1.0.36-DKli_4MO.js","./ThemeSettings-1.0.36-CkjS7Prd.js","./useTheme-1.0.36-BoaurWjH.js","./index-1.0.36-BDOx_E1a.js","./Stack-1.0.36-K2HrciJA.js","./useThemeProps-1.0.36-BvrgfXwP.js","./SettingsFormCode-1.0.36-Byk9z9aG.js","./index-1.0.36-Dx_S8RK1.js","./index-1.0.36-BW5TOU2Q.js","./SettingsTableGlobalCode-1.0.36-BYrClDSG.js","./index-1.0.36-BaUawQwX.js","./TreeItem2Provider-1.0.36-99Nskicd.js","./SharedContainer-1.0.36-Ia8VTlF_.js","./dompurify-1.0.36-DhD2mIk-.js","./FallbackSpinner-1.0.36-D7KlMhQ_.js","./AlertDialog-1.0.36-PpU2DQEA.js","./SanitizeComponent-1.0.36-DO2eoRBQ.js","./SharedContainer-1.0.36-DR7D6eET.css","./ThemeContainer-1.0.36-BVl9MYuW.js","./useTableSettings-1.0.36-CsJX39Me.js"])))=>i.map(i=>d[i]);
import{_ as f}from"./main-1.0.36.js";import{j as e}from"./cm-1.0.36-c_d2YVSf.js";import{r}from"./redux-1.0.36-Dw38apwx.js";import{l as i,aW as J,S as u,a_ as U,_ as Q,P as Z,aX as I,a as y,s as ee,a$ as te,b0 as se,b1 as oe,b as T,b2 as re}from"./lib-1.0.36-RK2jtnD_.js";import{u as S,a as ie}from"./hooks-1.0.36-DVpFeylj.js";import{A as L}from"./AdminTheme-1.0.36-Bhvs-n11.js";import{c as ne,b as ae}from"./ActionsSettings-1.0.36-BoYKkBaN.js";import{S as O}from"./ScopeEnum-1.0.36-B4DDvIDj.js";import{e as d}from"./notistack-1.0.36-BWLrSPn1.js";import{T as _,C as z,a as M}from"./Tooltip-1.0.36-COg3Mxx7.js";import{m as le,j as me,f as ce,l as ue}from"./index-1.0.36-BaUawQwX.js";import{A as de,T as pe,M as fe}from"./index-1.0.36-Cdz_jNzK.js";import{B as ge,a as xe,T as Se,b as x}from"./TabPanel-1.0.36-CEnbl1IG.js";import{B as C,C as he}from"./ConfirmDialog-1.0.36-_-4q7QfI.js";import{u as be}from"./useFormStore-1.0.36-GV5p6sJj.js";import{T as P}from"./TargetEnum-1.0.36-DPFnTxiX.js";import{B as je,S as p}from"./Spinner-1.0.36-BfGTD4Gb.js";import{B as Te}from"./settings-1.0.36-CMky96jX.js";import{u as _e}from"./AppTheme-1.0.36-BB9LBkIC.js";import{D as Ce}from"./LanguagesSupport-1.0.36-CNwr1suX.js";import{T as Fe}from"./Typography-1.0.36-CpRCY5e-.js";import{I as F}from"./iconBase-1.0.36-Cg_-P7_6.js";import"./vendor-1.0.36-CN03Eozo.js";import"./loglevel-1.0.36-BZ7XahX3.js";import"./lodash-1.0.36-DFhYoGis.js";import"./moment-1.0.36-C5S46NFB.js";import"./RestApi-1.0.36-XUqEDvWp.js";import"./useEnhancedEffect-1.0.36-CTzd5Szc.js";import"./useThemeProps-1.0.36-BvrgfXwP.js";import"./getThemeProps-1.0.36-R5fuQQuM.js";import"./Menu-1.0.36-BJc4ujw0.js";import"./ThemeProvider-1.0.36-BePdakPr.js";import"./isHostComponent-1.0.36-DVu5iVWx.js";import"./debounce-1.0.36-Be36O1Ab.js";import"./MenuItem-1.0.36-BUF9VZzL.js";import"./dividerClasses-1.0.36-cwzIcK9n.js";import"./index-1.0.36-xGqEIHxf.js";const ke=t=>{const o=S(n=>n.ui.formSettings.isOpen&&n.ui.formSettings.appId===t);return i.debug(t,o),o},ve=()=>{const t=S(o=>o.ui.formSettings.hideThemeSettings);return i.debug("hideThemeSetting",t),t},Be=t=>{const o=S(n=>{var m,l;return(l=(m=n.forms[t])==null?void 0:m.state)==null?void 0:l.isUpdated});return i.debug("isUpdated",o),o},Ee=t=>{const o=S(n=>{var m,l;return((l=(m=n.tables[t])==null?void 0:m.state)==null?void 0:l.isUpdated)??!1});return i.debug("isTableUpdated",o),o},Ae=r.lazy(()=>f(()=>import("./SettingsColumns-1.0.36-uMeeR36l.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63]),import.meta.url)),De=r.lazy(()=>f(()=>import("./ResizableDrawer-1.0.36-DprvuOUU.js"),__vite__mapDeps([64,1,2,3,65,8,9,10,11,16,7,32,12,6,5,13,29]),import.meta.url)),Re=r.lazy(()=>f(()=>import("./SettingsForm-1.0.36-CJTrb2XI.js"),__vite__mapDeps([66,1,2,3,8,9,10,11,16,52,53,24,6,7,12,20,30,26,5,13,46,33,41,47,28,57,58,44,34,42,48,67,25,27,29,31,32,18,19,45,59,60,61,68,69,70,23,71,72,73,74,75,43,76,35,36,77,39,40,78,79,14,37,54]),import.meta.url)),Ue=r.lazy(()=>f(()=>import("./ThemeSettings-1.0.36-CkjS7Prd.js"),__vite__mapDeps([80,1,2,3,16,8,9,10,11,81,53,24,6,7,12,20,30,26,5,13,82,60,61,18,28,48,44,33,83,84,55,32,56,27,42,45,57,58,34,67,25,29,31,19,14,46,41,47]),import.meta.url)),ye=r.lazy(()=>f(()=>import("./SettingsFormCode-1.0.36-Byk9z9aG.js"),__vite__mapDeps([85,1,2,3,86,87,19,6,7,8,9,10,11,12,20,5,13,50,51,88,16,89,18,76,32,33,73,90,84,61,34,43,44,26,41,53,24,30,91,49,15,22,23,59,60,79,14,54,78,65,92,93,94,95,96,97,98,81,46,31,27,29]),import.meta.url)),bt=({appId:t})=>{var D,R;i.debug(t);const o=ie(),n=ve(),m=_e(t),[l]=r.useState(J.getSelectors().selectTableById(u.getState().tables,t));i.debug(l);const[h,N]=r.useState(U.getSelectors().selectForm(u.getState().forms,t));i.debug(h);const V=be(t),[w,Le]=r.useState(Q.getSelectors().selectThemeById(u.getState().themes,t));i.debug(w);const G=Ee(t),k=Be(t),g=a=>{o(te({appId:t,isUpdated:a}))},[H,v]=r.useState(!1),q=((D=L)==null?void 0:D.palette.mode)===Z.LIGHT?(R=L)==null?void 0:R.palette.primary.main:"",B=a=>{o(ee({anchor:a}))},E=()=>{h!==void 0&&o(oe({appId:t,formState:h}))},c=()=>{o(se({})),g(!1)},b=()=>{k?v(!0):(E(),c())},j=()=>{{const a=u.getState().ui.formSettings;i.debug(a),ne(t,O.GLOBAL,a.isRelationTable===!0?P.RFORM:P.FORM,s=>{if(i.debug(s),s!=null&&s.code&&(s==null?void 0:s.message)!==void 0)switch(s.code){case"ok":N(U.getSelectors().selectForm(u.getState().forms,t)),d(s.message,{variant:"success"}),V.columns.map((Y,$)=>{Y.lookup!==void 0&&o(re({appId:t,index:$}))});break;case"info":d(s.message,{variant:"info"});break;default:i.error(s),d(s.message??T.contactSupport,{variant:"error"})}else i.error(s),d(T.contactSupport,{variant:"error"})},s=>{i.error("error",s),d(s??T.contactSupport,{variant:"error"})}),G&&ae(t,O.GLOBAL,s=>{i.debug(s)},s=>{i.error("error",s)}),g(!1)}},K=()=>{k?(j(),setTimeout(()=>{c()},1e3)):c()},[A,W]=r.useState(0),X=r.useMemo(()=>{const a=[{title:"Form",icon:e.jsx(le,{})},{title:"Columns",icon:e.jsx(me,{})},{title:"Hooks",icon:e.jsx(ce,{})},{title:"Theme",icon:e.jsx(ue,{})}];return I(m)?a.splice(0,2):n?a.splice(0,3):a},[n]);return ke(t)!==!0?null:e.jsxs(e.Fragment,{children:[e.jsx(r.Suspense,{fallback:e.jsx(p,{}),children:e.jsxs(De,{closeDrawer:b,children:[e.jsxs(de,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(pe,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(Fe,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,paddingLeft:"6px"},children:"Form Builder"}),e.jsx(_,{title:"Dock to left",position:"bottom",children:e.jsx(F,{onClick:()=>{B(y.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(ge,{})})}),e.jsx(_,{title:"Dock to right",position:"bottom",children:e.jsx(F,{onClick:()=>{B(y.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(xe,{})})}),e.jsx(_,{title:"Close",position:"bottom",children:e.jsx(F,{onClick:b,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(fe,{})})})]}),e.jsx(Te,{menuItems:X,menuIndex:A,setMenu:W})]}),e.jsx(z,{className:"pp-settings-container",children:e.jsx(M,{sx:{padding:0,margin:0},children:e.jsx(Se,{value:A,children:e.jsxs(je,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(x,{value:0,children:e.jsx(r.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(Re,{appId:t})})}),e.jsx(x,{value:1,className:"pp-column-settings-container",children:e.jsx(r.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(Ae,{appId:t})})}),e.jsx(x,{value:2,children:e.jsx(r.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(ye,{appId:t,tableSettings:l,setUpdateStatus:g,buttonEditorOk:j})})}),n!==!0&&e.jsx(x,{value:3,children:e.jsx(r.Suspense,{fallback:e.jsx(p,{}),children:e.jsx(Ue,{appId:t,source:Ce.FORM,setIsUpdated:g})})})]})})})}),e.jsx(z,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:q},children:e.jsxs(M,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(C,{variant:"outlined",className:"footer_action_button_apply",onClick:j,children:"Apply"}),e.jsx(C,{variant:"outlined",className:"footer_action_button",onClick:K,children:"OK"}),e.jsx(C,{variant:"outlined",className:"footer_action_button",onClick:b,children:"Cancel"})]})})]})}),e.jsx(he,{title:"Close Form Builder?",message:"All uncommitted changes will be lost!",open:H,setOpen:v,onConfirm:()=>{E(),c()},onKeep:()=>{c()}})]})};export{bt as default};
