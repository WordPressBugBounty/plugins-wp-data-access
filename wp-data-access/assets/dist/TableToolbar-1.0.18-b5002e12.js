import{dI as ft,l as R,r as j,j as u,e2 as vt,ac as bt,b8 as gt,dk as ht,cD as yt,e as he,_ as xt}from"./main-1.0.18.js";import{a as jt}from"./useTableCode-1.0.18-d620ddcc.js";import{m as St,E as Tt,M as wt,z as Ot}from"./index.esm-1.0.18-12f13c4a.js";import{P as _t,b as qe,a as Ct}from"./index-1.0.18-d0588796.js";import{e as Ue,f as Rt,g as Et}from"./index.esm-1.0.18-bb69b89a.js";import{F as _e}from"./FileSaver.min-1.0.18-38588eff.js";import{d as At}from"./ActionsDml-1.0.18-7e1a74e9.js";import{C as kt}from"./ConfirmDialog-1.0.18-eb1f3988.js";import{a as Mt}from"./RestApi-1.0.18-cb72bd79.js";import{c as Nt,h as It}from"./useTheme-1.0.18-c1f3f722.js";import{u as Ft}from"./TableQuery-1.0.18-2fa0f849.js";import{M as Bt}from"./index.esm-1.0.18-3107c6b2.js";import{u as He}from"./colorManipulator-1.0.18-95bf61ec.js";import{v as Pt,F as Lt}from"./FallbackSpinner-1.0.18-e10446f4.js";import{T as xe}from"./Tooltip-1.0.18-5f32f0fd.js";import{I as se}from"./iconBase-1.0.18-3c21f5e2.js";import{B as ye}from"./CardContent-1.0.18-3d5e5525.js";import{P as qt}from"./Popover-1.0.18-54868205.js";import{B as ie}from"./Spinner-1.0.18-de8df990.js";import{T as Ut}from"./Typography-1.0.18-dc3c0740.js";import{R as Ht}from"./RadioGroup-1.0.18-4960e4a8.js";import{F as Y}from"./FormControlLabel-1.0.18-2840e084.js";import{R as Q}from"./Radio-1.0.18-210e4079.js";import{M as Jt}from"./Modal-1.0.18-870f459d.js";import{F as Xt}from"./FormHelperText-1.0.18-8b4ce85f.js";import{A as Gt,C as $t}from"./Autocomplete-1.0.18-a264f80a.js";import{T as Kt}from"./TextField-1.0.18-cf148b4e.js";import{R as Je}from"./ThemeContainer-1.0.18-fbd92e13.js";import"./purify.es-1.0.18-68816782.js";import"./DialogContent-1.0.18-5570cba4.js";import"./AdminTheme-1.0.18-73e13a4f.js";import"./useStoreTable-1.0.18-8a593f98.js";import"./SanitizeComponent-1.0.18-6764a6d1.js";import"./index.esm-1.0.18-32f5cee0.js";import"./TableContainer-1.0.18-20cdfb1b.js";import"./ActionsSettings-1.0.18-41fd8841.js";import"./TargetEnum-1.0.18-b82380d5.js";import"./TabPanel-1.0.18-2d718e76.js";import"./useScreenSize-1.0.18-62aeb4c4.js";import"./ThemeProvider-1.0.18-247b72cc.js";import"./Tabs-1.0.18-d7d53c1e.js";import"./createSvgIcon-1.0.18-dcf0276e.js";import"./ScopeEnum-1.0.18-7caf102d.js";/* empty css                        */import"./index.esm-1.0.18-9725e44a.js";import"./useControlled-1.0.18-12a74006.js";import"./MenuItem-1.0.18-0088f2a2.js";import"./Menu-1.0.18-e8cb0649.js";import"./Collapse-1.0.18-8e581380.js";import"./Checkbox-1.0.18-3ed60478.js";import"./SwitchBase-1.0.18-e2aa3211.js";import"./useFormControl-1.0.18-87a8487d.js";import"./AlertTitle-1.0.18-0fd475c6.js";import"./index-1.0.18-ff546563.js";import"./useSlot-1.0.18-71f9e7ae.js";import"./Close-1.0.18-d90e9fa7.js";import"./InputAdornment-1.0.18-958a8148.js";import"./ListItemIcon-1.0.18-7ee6feae.js";import"./Divider-1.0.18-eca54fd7.js";import"./Switch-1.0.18-cbb6329b.js";import"./Grow-1.0.18-4ebc2ce8.js";import"./TimePicker-1.0.18-01aff462.js";import"./useMobilePicker-1.0.18-1215309b.js";import"./Popper-1.0.18-20544c9b.js";import"./ListItem-1.0.18-e1cfc559.js";import"./date-time-utils-1.0.18-97c8c662.js";import"./DateTimePicker-1.0.18-b82ef175.js";import"./dateViewRenderers-1.0.18-21bd6103.js";import"./DatePicker-1.0.18-90c55de2.js";import"./Slider-1.0.18-32b00bb2.js";import"./index-1.0.18-e1774a35.js";import"./AggregationLabelsEnum-1.0.18-30d037e3.js";import"./createStyled-1.0.18-b238c9ff.js";import"./FormLabel-1.0.18-47dbe87d.js";var Vt={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},Wt=`\r
`,zt="\uFEFF",Ce=n=>Object.assign({},Vt,n);class Yt extends Error{constructor(l){super(l),this.name="CsvGenerationError"}}class Qt extends Error{constructor(l){super(l),this.name="EmptyHeadersError"}}class Zt extends Error{constructor(l){super(l),this.name="CsvDownloadEnvironmentError"}}var le=n=>n,N=n=>n,je=le,Z=le,Xe=le,Ge=le,Dt=function(n,l){return l=='"'&&n.indexOf('"')>-1?n.replace(/"/g,'""'):n},er=n=>Xe(typeof n=="object"?n.key:n),tr=n=>Ge(typeof n=="object"?n.displayLabel:n),rr=(n,...l)=>l.reduce((i,p)=>p(i),n),nr=n=>l=>n.useBom?je(N(l)+zt):l,or=n=>l=>n.showTitle?Re(je(N(l)+n.title))(Z("")):l,Re=n=>l=>je(N(n)+N(l)+Wt),Ke=n=>(l,i)=>ir(n)(Z(l+i)),ir=n=>l=>le(N(l)+n.fieldSeparator),sr=(n,l)=>i=>{if(!n.showColumnHeaders)return i;if(l.length<1)throw new Qt("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let p=Z("");for(let h=0;h<l.length;h++){const c=tr(l[h]);p=Ke(n)(p,Ve(n,c))}return p=Z(N(p).slice(0,-1)),Re(i)(p)},lr=(n,l,i)=>p=>{let h=p;for(var c=0;c<i.length;c++){let x=Z("");for(let m=0;m<l.length;m++){const I=er(l[m]),$=typeof i[c][N(I)]>"u"?n.replaceUndefinedWith:i[c][N(I)];x=Ke(n)(x,Ve(n,$))}x=Z(N(x).slice(0,-1)),h=Re(h)(x)}return h},$e=n=>+n===n&&(!isFinite(n)||!!(n%1)),Ve=(n,l)=>{if(n.decimalSeparator==="locale"&&$e(l))return l.toLocaleString();if(n.decimalSeparator!=="."&&$e(l))return l.toString().replace(".",n.decimalSeparator);if(typeof l=="string"){let i=l;return(n.quoteStrings||n.fieldSeparator&&l.indexOf(n.fieldSeparator)>-1||n.quoteCharacter&&l.indexOf(n.quoteCharacter)>-1||l.indexOf(`
`)>-1||l.indexOf("\r")>-1)&&(i=n.quoteCharacter+Dt(l,n.quoteCharacter)+n.quoteCharacter),i}if(typeof l=="boolean"&&n.boolDisplay){const i=l?"true":"false";return n.boolDisplay[i]}return l},ar=n=>l=>{const i=Ce(n),p=i.useKeysAsHeaders?Object.keys(l[0]):i.columnHeaders;let h=rr(je(""),nr(i),or(i),sr(i,p),lr(i,p,l));if(N(h).length<1)throw new Yt("Output is empty. Is your data formatted correctly?");return h},ur=n=>l=>{if(!window)throw new Zt("Downloading only supported in a browser environment.");const i=Ce(n),p=N(l),h=i.useTextFile?"plain":"csv",c=i.useTextFile?"txt":"csv";let x=new Blob([p],{type:`text/${h};charset=utf8;`}),m=document.createElement("a");m.download=`${i.filename}.${c}`,m.href=URL.createObjectURL(x),m.setAttribute("visibility","hidden"),document.body.appendChild(m),m.click(),document.body.removeChild(m)},We={};(function(n){(function(l,i){i(n)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:ft,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.toXML=void 0;function i(o){return c(o)||h(o)||L(o)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function c(o){if(Array.isArray(o))return q(o)}function x(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);e&&(d=d.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),t.push.apply(t,d)}return t}function m(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x(Object(t),!0).forEach(function(d){I(o,d,t[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(d){Object.defineProperty(o,d,Object.getOwnPropertyDescriptor(t,d))})}return o}function I(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function $(o,e){return f(o)||ae(o,e)||L(o,e)||_()}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(o,e){if(o){if(typeof o=="string")return q(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q(o,e)}}function q(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,d=new Array(e);t<e;t++)d[t]=o[t];return d}function ae(o,e){var t=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var d=[],v=!0,S=!1,w,O;try{for(t=t.call(o);!(v=(w=t.next()).done)&&(d.push(w.value),!(e&&d.length===e));v=!0);}catch(A){S=!0,O=A}finally{try{!v&&t.return!=null&&t.return()}finally{if(S)throw O}}return d}}function f(o){if(Array.isArray(o))return o}function k(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(t){return typeof t}:k=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(o)}var y={ARRAY:"array",BOOLEAN:"boolean",DATE:"date",FUNCTION:"function",JSTOXML_OBJECT:"jstoxml-object",NULL:"null",NUMBER:"number",OBJECT:"object",STRING:"string"},ue=[y.STRING,y.NUMBER,y.BOOLEAN],Se='<?xml version="1.0" encoding="UTF-8"?>',E=["_selfCloseTag","_attrs"],U=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.repeat(t)},M=function(e){return Array.isArray(e)&&y.ARRAY||k(e)===y.OBJECT&&e!==null&&e._name&&y.JSTOXML_OBJECT||e instanceof Date&&y.DATE||e===null&&y.NULL||k(e)},F=function(e){return e.startsWith("<![CDATA[")},ce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,v=e;if(k(e)===y.STRING){if(F(e))return e;var S=new RegExp("(".concat(Object.keys(t).join("|"),")(?!(\\w|#)*;)"),"g");v=String(e).replace(S,function(w,O){return t[O]||""})}return typeof d=="function"?d(v):v},de=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,S=Array.isArray(e)?e:Object.entries(e).map(function(w){var O=$(w,2),A=O[0],P=O[1];return I({},A,P)});return S.reduce(function(w,O){var A=Object.keys(O)[0],P=O[A];if(k(d)===y.FUNCTION){var V=d(A,P);if(V)return w}var H=t?ce(P,t):P,ee=!v&&H===!0?"":'="'.concat(H,'"');return w.push("".concat(A).concat(ee)),w},[])},D=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,S=de(e,t,d,v);if(S.length===0)return"";var w=S.join(" ");return" ".concat(w)},X=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).map(function(t){return{_name:t,_content:e[t]}})},K=function(e){return ue.includes(M(e))},pe=function(e){return!e.match("<")},T=function(e){var t=e.header,d=e.isOutputStart,v=t&&d;if(!v)return"";var S=k(t)===y.BOOLEAN;return S?Se:t},me={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},B=function o(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=t.depth,v=d===void 0?0:d,S=t.indent,w=t._isFirstItem,O=t._isOutputStart,A=O===void 0?!0:O,P=t.header,V=t.attributeReplacements,H=V===void 0?{}:V,ee=t.attributeFilter,ve=t.attributeExplicitTrue,te=ve===void 0?!1:ve,be=t.contentReplacements,a=be===void 0?{}:be,r=t.contentMap,s=t.selfCloseTags,b=s===void 0?!0:s,g=typeof H=="boolean"&&!H,G=g?{}:m(m({},me),H),ze=typeof a=="boolean"&&!a,Ye=ze?{}:m(m({},me),a),Ee=typeof S=="string",Te=U(S,v),Qe=M(e),Ae=T({header:P,indent:S,depth:v,isOutputStart:A}),ge=A&&!Ae&&w&&v===0,ke=Ee&&!ge?`
`:"",J="";switch(Qe){case y.JSTOXML_OBJECT:{var W=e._name,z=e._content;if(z===null&&typeof r!="function"){J="".concat(ke).concat(Te).concat(W);break}var Ze=Array.isArray(z)&&z.every(K);if(Ze){var De=z.map(function(C){return o({_name:W,_content:C},m(m({},t),{},{depth:v,_isOutputStart:!1}))});return De.join("")}if(E.includes(W))break;var re=o(z,m(m({},t),{},{depth:v+1,_isOutputStart:ge})),et=M(re),tt=pe(re),rt=F(re),Me="".concat(ke).concat(Te);if(W==="_comment"){J+="".concat(Me,"<!-- ").concat(z," -->");break}var Ne=et==="undefined"||re==="",nt=b,Ie=e._selfCloseTag,Fe=k(Ie)===y.BOOLEAN?Ne&&Ie:Ne&&nt,ot=Fe?"/":"",it=D(e._attrs,G,ee,te),st="<".concat(W).concat(it).concat(ot,">"),lt=Ee&&!tt&&!rt?`
`.concat(Te):"",at=Fe?"":"".concat(re).concat(lt,"</").concat(W,">");J+="".concat(Me).concat(st).concat(at);break}case y.OBJECT:{var Be=Object.keys(e),ut=Be.map(function(C,ne){var we=m(m({},t),{},{_isFirstItem:ne===0,_isLastItem:ne+1===Be.length,_isOutputStart:ge}),oe={_name:C};if(M(e[C])===y.OBJECT){E.forEach(function(Oe){var Le=e[C][Oe];typeof Le<"u"&&(oe[Oe]=Le,delete e[C][Oe])});var pt=typeof e[C]._content<"u";if(pt&&Object.keys(e[C]).length>1){var Pe=Object.assign({},e[C]);delete Pe._content,oe._content=[].concat(i(X(Pe)),[e[C]._content])}}typeof oe._content>"u"&&(oe._content=e[C]);var mt=o(oe,we);return mt},t);J=ut.join("");break}case y.FUNCTION:{var ct=e(t);J=o(ct,t);break}case y.ARRAY:{var dt=e.map(function(C,ne){var we=m(m({},t),{},{_isFirstItem:ne===0,_isLastItem:ne+1===e.length,_isOutputStart:ge});return o(C,we)});J=dt.join("");break}default:{J=ce(e,Ye,r);break}}return"".concat(Ae).concat(J)};l.toXML=B;var fe={toXML:B};l.default=fe})})(We);const cr=({table:n,appId:l,metaData:i,bulkActions:p,tableStore:h,appLanguage:c,refetch:x,componentWidth:m})=>{R.debug(l,i,p);const I=Mt(),$=h.table,_=h.columns;Nt(l);const L=He("(max-width:900px)"),q=He("(max-width:600px)");j.useState("landscape"),j.useState("striped");let ae="csv";p.select!==void 0&&(ae="select");const[f,k]=j.useState(ae),[y,ue]=j.useState(!1),Se=j.useMemo(()=>Pt(),[]),E=Ft(l),U=j.useMemo(()=>{const a={};return _.filter(r=>r.lookup!==void 0&&E!==void 0&&E[r.columnName]!==void 0).map(r=>{var s;if(E!==void 0&&E[r.columnName]!==void 0){const b=[];for(const g in E[r.columnName]){const G={key:g,value:Array.isArray(E[r.columnName][g])?E[r.columnName][g].join((s=r.lookup)==null?void 0:s.delimiter):E[r.columnName][g]};b.push(G)}a[r.columnName]=b}}),a},[E,_]);R.debug("lookupColumns",U);const M=j.useMemo(()=>{const a={};return _.filter(r=>r.computedField!==void 0).map(r=>{a[r.columnName]=r.computedField}),a},[_]);R.debug(M);const F=j.useMemo(()=>{const a={};return _.map(r=>{M[r.columnName]?a[r.columnName]=M[r.columnName].label:a[r.columnName]=r.columnLabel}),a},[M,_]);R.debug(F);const ce=(a,r)=>{if(U!==void 0&&U[a]!==void 0){const s=U[a].filter(b=>b.key===r);if(Array.isArray(s)&&s.length===1)return s[0].value}return r},de=()=>i.src.app_id?"ppBulkAction-"+i.src.app_id+"-"+i.src.cnt_id:i.src.dbs?"ppBulkAction-"+i.src.dbs+"-"+i.src.tbl:null,D=n.getAllColumns(),X=n.getSelectedRowModel().rows,K=j.useMemo(()=>D.filter(a=>a.id!=="mrt-row-actions"&&a.id!=="mrt-row-select"&&a.id!=="mrt-row-expand").map(a=>a.id),[]);R.debug(K);const pe=j.useMemo(()=>{const a=de();if(a!==null){const r=localStorage.getItem(a);if(r!==null)return JSON.parse(r)}return K},[K]);R.debug(pe);const[T,me]=j.useState(pe);R.debug(T);const B=X.map(a=>{const r={};return D.map(s=>{s.id!=="mrt-row-actions"&&s.id!=="mrt-row-select"&&s.id!=="mrt-row-expand"&&(U!==void 0&&U[s.id]!==void 0?r[F[s.id]]=ce(s.id,a.getValue(s.id)):M[s.id]||(r[F[s.id]]=a.getValue(s.id)))}),r});R.debug(B);const fe=X.map(a=>{const r={};return D.map(s=>{s.id!=="mrt-row-actions"&&s.id!=="mrt-row-select"&&s.id!=="mrt-row-expand"&&M[s.id]===void 0&&(r[s.id]=a.getValue(s.id))}),r});R.debug(fe);const o=()=>{var a,r;return(i==null?void 0:i.src)===void 0?l:i.src.app_id&&((r=(a=i==null?void 0:i.app)==null?void 0:a.app[0])==null?void 0:r.app_title)!==""?i.app.app[0].app_title:i.src.dbs?i.src.tbl:l},e=Ce({filename:o(),fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),t=a=>{const r={};if(i.primary_key&&Array.isArray(i.primary_key))for(let s=0;s<i.primary_key.length;s++){const b=i.primary_key[s];r[b]=a[b]}return r},d=a=>{var r,s,b;for(let g=0;g<((r=i==null?void 0:i.columns)==null?void 0:r.length);g++)if(((s=i==null?void 0:i.columns[g])==null?void 0:s.column_name)===a)return(b=i==null?void 0:i.columns[g])==null?void 0:b.data_type;return"varchar"},v=()=>B.map(a=>{const r={};for(let s=0;s<T.length;s++)r[F[T[s]]]=a[F[T[s]]];return r}),S=async()=>{},w=()=>{const a=ar(e)(v());ur(e)(a)},O=()=>{_e(new Blob([JSON.stringify(v())],{type:"text/json;charset=utf-8"}),o()+".json")};j.useRef();const A=()=>{const a=X.map(s=>{const b={};for(let g=0;g<T.length;g++)s.original[T[g]]!==void 0&&(b[T[g]]=s.original[T[g]]??"");return{row:b}}),r=We.toXML({table:a});_e(new Blob([r],{type:"text/plain;charset=utf-8"}),o()+".xml")},P=()=>{const a=ht(l);R.debug(a);let r="insert into "+a.tbl+" (";for(const s in B[0])r+=s+",";r=r.slice(0,-1)+") values ";for(let s=0;s<B.length;s++){const b=B[s];r+="(";for(const g in b){const G=yt(d(g));b[g]===null?r+="null,":G==="number"?r+=b[g]+",":r+="'"+b[g]+"',"}r=r.slice(0,-1),r+="),"}r=r.slice(0,-1)+";",_e(new Blob([r],{type:"text/plain;charset=utf-8"}),o()+".sql")},V=()=>{for(let a=0;a<B.length;a++){const r=t(fe[a]);At(l,r,s=>{if(s!=null&&s.code&&(s!=null&&s.message))switch(s.code){case"ok":he(c.deletedSuccessful,{variant:"success"}),x();break;default:R.error(s),he(s.message??c.invalidResponse,{variant:"error"})}else R.error(s),he(c.invalidResponse,{variant:"error"})},s=>{R.error("error",s),he(s??c.invalidResponse,{variant:"error"})})}n.setRowSelection({})},H=()=>null,ee=()=>null;j.useState(0),j.useState(0);const[ve,te]=j.useState(!1),be=j.useMemo(()=>Bt,[]);return u.jsxs(u.Fragment,{children:[u.jsx(_t,{variant:"popover",popupId:Se,children:a=>{var r;return u.jsxs(u.Fragment,{children:[m<600?u.jsx(xe,{title:c.bulkActions,children:u.jsx(se,{...qe(a),children:u.jsx(Ue,{})})}):u.jsx(ye,{variant:"contained",endIcon:u.jsx(Ue,{}),...qe(a),children:c.bulkActions}),h.state.relTab===!0&&u.jsx(ye,{variant:"contained",startIcon:u.jsx(St,{}),sx:{marginLeft:"10px"},onClick:()=>{I(vt({appId:l}))},children:c.back}),u.jsx(qt,{...Ct(a),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)"},children:u.jsxs(ie,{sx:{display:"grid",gap:"20px",padding:"20px"},children:[X.length===0&&u.jsx(Ut,{sx:{textAlign:"center",marginTop:"10px"},children:c.noRowsSelected}),u.jsxs(Ht,{value:f,onChange:(s,b)=>{k(b),s.stopPropagation()},children:[H(),p.csv&&u.jsx(Y,{value:"csv",label:c.exportToCsv,control:u.jsx(Q,{})}),p.json&&u.jsx(Y,{value:"json",label:c.exportToJson,control:u.jsx(Q,{})}),ee(),p.xml&&u.jsx(Y,{value:"xml",label:c.exportToXml,control:u.jsx(Q,{})}),p.sql&&!bt(l)&&u.jsx(Y,{value:"sql",label:c.exportToSql,control:u.jsx(Q,{})}),((r=i==null?void 0:i.privs)==null?void 0:r.delete)&&!gt(i)&&(p==null?void 0:p.delete)===!0&&$.transactions.delete&&u.jsx(Y,{value:"delete",label:c.deletePermanently,control:u.jsx(Q,{})}),(p.select??!1)&&u.jsx(Y,{value:"select",label:c.addSelectedRow,control:u.jsx(Q,{})})]}),u.jsxs(ie,{sx:{display:"grid",gridTemplateColumns:f==="pdf"||f==="csv"||f==="json"||f==="excel"||f==="xml"?"1fr auto":"1fr",gap:"10px"},children:[u.jsx(ye,{variant:"contained",onClick:()=>{if(f==="pdf"||f==="csv"||f==="json"||f==="excel"||f==="xml"){const s=de();s!==null&&localStorage.setItem(s,JSON.stringify(T))}switch(f){case"pdf":S();break;case"csv":w();break;case"json":O();break;case"excel":break;case"xml":A();break;case"sql":P();break;case"delete":ue(!0);break}},disabled:X.length===0||(f==="pdf"||f==="csv"||f==="json"||f==="excel"||f==="xml")&&(T==null?void 0:T.length)===0,children:c.apply}),(f==="pdf"||f==="csv"||f==="json"||f==="excel"||f==="xml")&&u.jsx(xe,{title:be.showHideColumns,children:u.jsx(se,{onClick:()=>{te(!0)},children:u.jsx(Tt,{})})})]})]})})]})}}),u.jsx(kt,{title:c.deleteRowsTitle,message:c.deleteRowsMessage,open:y,setOpen:ue,onConfirm:()=>{V()},theme:It}),u.jsx(Jt,{open:ve,onClose:()=>{te(!1)},children:u.jsxs(ie,{sx:{position:"absolute",top:"25%",left:"50%",transform:"translate(-50%, -50%)",width:q?"80vw":L?"70vw":"60vw",maxWidth:"700px",bgcolor:"background.paper",boxShadow:24,borderRadius:"4px",p:4},children:[u.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"-20px"},children:[u.jsx("h3",{children:c.selectFromList}),u.jsx(se,{onClick:()=>{te(!1)},children:u.jsx(wt,{})})]}),u.jsx(Xt,{fullWidth:!0,children:u.jsx(Gt,{multiple:!0,options:K,value:T,disableCloseOnSelect:!0,getOptionLabel:a=>F[a],onChange:(a,r)=>{me(r),a.stopPropagation()},renderInput:a=>u.jsx(Kt,{...a}),renderTags:(a,r)=>a.map((s,b)=>{const{key:g,...G}=r({index:b});return u.jsx($t,{variant:"outlined",label:F[s],...G},g)})})})]})})]})},dr=j.lazy(()=>xt(()=>import("./TableChart-1.0.18-dc115961.js"),["./TableChart-1.0.18-dc115961.js","./main-1.0.18.js","./index-1.0.18-d0588796.js","./DialogContent-1.0.18-5570cba4.js","./Typography-1.0.18-dc3c0740.js","./index.esm-1.0.18-12f13c4a.js","./iconBase-1.0.18-3c21f5e2.js","./Modal-1.0.18-870f459d.js","./RestApi-1.0.18-cb72bd79.js","./useTableSortableColumns-1.0.18-89de4e60.js","./ChartTypeSelection-1.0.18-2203eb3b.js","./ChartTypes-1.0.18-62bfd1db.js","./index.esm-1.0.18-32f5cee0.js","./FormHelperText-1.0.18-8b4ce85f.js","./useFormControl-1.0.18-87a8487d.js","./TextField-1.0.18-cf148b4e.js","./FormLabel-1.0.18-47dbe87d.js","./Menu-1.0.18-e8cb0649.js","./ThemeProvider-1.0.18-247b72cc.js","./Popover-1.0.18-54868205.js","./Grow-1.0.18-4ebc2ce8.js","./useControlled-1.0.18-12a74006.js","./createSvgIcon-1.0.18-dcf0276e.js","./MenuItem-1.0.18-0088f2a2.js","./ListItemIcon-1.0.18-7ee6feae.js","./Chart-1.0.18-142bb265.js","./useTheme-1.0.18-c1f3f722.js","./colorManipulator-1.0.18-95bf61ec.js","./Spinner-1.0.18-de8df990.js","./Tooltip-1.0.18-5f32f0fd.js","./Popper-1.0.18-20544c9b.js","./CardContent-1.0.18-3d5e5525.js","./Autocomplete-1.0.18-a264f80a.js","./Close-1.0.18-d90e9fa7.js","./index-1.0.18-ff546563.js"],import.meta.url)),Nn=({table:n,metaData:l,appId:i,bulkActions:p,hasBulkActions:h,tableStore:c,appLanguage:x,refetch:m,showForm:I,appSettings:$,componentWidth:_})=>{var q;const L=c.table;return jt(i),u.jsxs(ie,{sx:{display:"flex",flexWrap:"nowrap",gap:_<600?"0":"8px",alignItems:"center",whiteSpace:"nowrap"},className:"pp-toolbar-buttons",children:[u.jsx(xe,{arrow:!0,title:x.refresh,className:"ppToolbarRefreshIcon",children:u.jsx(se,{onClick:()=>m(),children:u.jsx(Ot,{})})}),((q=L==null?void 0:L.transactions)==null?void 0:q.insert)&&u.jsx(u.Fragment,{children:_<600?u.jsx(xe,{title:x.newRow,children:u.jsx(se,{onClick:()=>{I(null,Je.INSERT)},children:u.jsx(Rt,{})})}):u.jsx(ye,{variant:"contained",startIcon:u.jsx(Et,{}),onClick:()=>{I(null,Je.INSERT)},children:x.newRow})}),h&&u.jsx(cr,{table:n,appId:i,metaData:l,bulkActions:p,tableStore:c,appLanguage:x,refetch:m,componentWidth:_}),c.table.charts.enabled===!0&&u.jsx(j.Suspense,{fallback:u.jsx(Lt,{}),children:u.jsx(dr,{appId:i,componentWidth:_,table:n,tableStore:c,metaData:l,appLanguage:x})}),!1]})};export{Nn as default};
