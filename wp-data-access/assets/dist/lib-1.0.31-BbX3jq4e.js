import{c as b,a as Fe}from"./redux-1.0.31-CuzmJMK6.js";import{g as ie}from"./vendor-1.0.31-BmpNFhoq.js";import{r as _e}from"./loglevel-1.0.31-BZ7XahX3.js";import{r as Me}from"./lodash-1.0.31-BtCjXqrS.js";import{h as Ee}from"./moment-1.0.31-C5S46NFB.js";var ne=(e=>(e[e.SERVERSIDE=0]="SERVERSIDE",e[e.CLIENTSIDE=1]="CLIENTSIDE",e))(ne||{}),E=(e=>(e.RESPONSIVE="responsive",e.SCROLL="scroll",e))(E||{}),O=(e=>(e.OUTLINED="outlined",e.FILLED="filled",e.STANDARD="standard",e))(O||{}),N=(e=>(e.COMFORTABLE="comfortable",e.COMPACT="compact",e.SPACIOUS="spacious",e))(N||{}),k=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(k||{}),ue=(e=>(e[e.SEARCHBOX=0]="SEARCHBOX",e[e.DROPDOWN=1]="DROPDOWN",e[e.MULTISELECT=2]="MULTISELECT",e[e.SEARCHPANE=3]="SEARCHPANE",e))(ue||{}),ce=(e=>(e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e[e.AUTO=2]="AUTO",e))(ce||{}),y=(e=>(e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e))(y||{});const F={contactSupport:"Invalid response. Please contact support.",relationTablePrefix:"relationTableColumn___"};Object.freeze(F);var ke=_e();const l=ie(ke);let v={};const p={};if("PP_APP_CONFIG"in window){v=window.PP_APP_CONFIG;for(const e in v)p[e]=v[e]}if(p.title="WP Data Access",p.plugin=!0,p.skipWpSettings!==!0){const e=window.wpApiSettings;p.token=e.nonce,e?(p.urlRoot=e.root+"wpda/","PP_APP_CONFIG"in window?p.siteInfo={appSite:p.appSite,appLicenses:p.appLicenses,appIp:p.appIp,appUser:p.appUser,appRoles:p.appRoles,appLogin:p.appLogin,appVars:p.appVars}:p.appStatus=F.contactSupport):p.appStatus=F.contactSupport}var re;const A={appName:p.title,appSiteInfo:p.siteInfo,appToken:p.token,appPlugin:p.plugin,appStatus:p.status??"",appFeature:((re=p.appLicenses)==null?void 0:re.local)??!1,appDebug:p.appDebug?!!p.appDebug:!1,appUrl:p.urlRoot,appLocales:p.appLocales??"/public/locales/",appUrlAppInit:p.urlAppInit??"app/init",appUrlAppList:p.urlAppList??"app/list",appUrlAppMeta:p.urlAppMeta??"app/meta",appUrlAppSetSiteLanguage:p.urlAppSetSiteLanguage??"app/lang",appUrlTableMeta:p.urlTableMeta??"app/table/meta",appUrlAppCreate:p.urlAppCreate??"app/create",appUrlAppCreateApp:p.urlAppCreate??"app/createapp",appUrlAppDetails:p.urlAppDetails??"app/details",appUrlAppDetailMeta:p.urlAppDetailMeta??"app/detailmeta",appUrlAppDetailReorder:p.urlAppDetailReorder??"app/detailreorder",appUrlAppRelationshipCreate:p.urlAppRelationshipCreate??"app/relationship/create",appUrlAppRelationshipUpdate:p.urlAppRelationshipUpdate??"app/relationship/update",appUrlAppRelationshipDelete:p.urlAppRelationshipDelete??"app/relationship/delete",appUrlAppRemove:p.urlAppRemove??"app/remove",appUrlAppSave:p.urlAppSave??"app/save",appUrlAppSaveApp:p.urlAppSave??"app/saveapp",appUrlAppSettings:p.urlAppSettings??"app/settings",appUrlAppSelect:p.urlAppSelect??"app/select",appUrlAppGet:p.urlAppGet??"app/get",appUrlAppInsert:p.urlAppInsert??"app/insert",appUrlAppUpdate:p.urlAppUpdate??"app/update",appUrlAppUpdateInline:p.urlAppUpdate??"app/update/inline",appUrlAppDelete:p.urlAppDelete??"app/delete",appUrlAppCopy:p.urlAppCopy??"app/copy",appUrlAppExport:p.urlAppExport??"app/export",appUrlAppLov:p.urlAppLov??"app/lov",appUrlAppLookup:p.urlAppLookup??"app/lookup",appUrlAppLookupDbs:p.urlAppLookupDbs??"app/lookup/dbs",appUrlAppLookupTbl:p.urlAppLookupTbl??"app/lookup/tbl",appUrlAppLookupCls:p.urlAppLookupCls??"app/lookup/cls",appUrlQueryBuilderList:p.urlQueryBuilderList??"app/qb/list",appUrlRenameDatabase:p.urlRenameDatabase??"app/dbs/rename",appUrlChartData:p.urlChartData??"app/chart/data",appUrlTreeDbs:p.urlTreeDbs??"tree/dbs",appUrlTreeTbl:p.urlTreeTbl??"tree/tbl",appUrlTreeVws:p.urlTreeVws??"tree/vws",appUrlTreeCls:p.urlTreeCls??"tree/cls",appUrlTreeIdx:p.urlTreeIdx??"tree/idx",appUrlTreeFrk:p.urlTreeFrk??"tree/frk",appUrlTreeTrg:p.urlTreeTrg??"tree/trg",appUrlTreeFnc:p.urlTreeFnc??"tree/fnc",appUrlTreePrc:p.urlTreePrc??"tree/prc",appUrlMeta:p.urlMeta??"table/meta",appUrlGet:p.urlGet??"table/get",appUrlLov:p.urlLov??"table/lov",appUrlSelect:p.urlSelect??"table/select",appUrlInsert:p.urlInsert??"table/insert",appUrlUpdate:p.urlUpdate??"table/update",appUrlDelete:p.urlDelete??"table/delete",appUrlTable:p.urlTable??"table/datatable",appUrlSettings:"save-settings",appUrlActionRename:"action/rename",appUrlActionCopy:"action/copy",appUrlActionTruncate:"action/truncate",appUrlActionDrop:"action/drop",appUrlActionImport:"action/import",appOrig:v,defaultLanguage:{language:"English US",code:"en-US",dayjs:"en",app:"en"}};Object.freeze(A);l.debug("Config",A);var Pe=Me();const S=ie(Pe),u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));function Ve(e,a=0){return(u[e[a+0]]+u[e[a+1]]+u[e[a+2]]+u[e[a+3]]+"-"+u[e[a+4]]+u[e[a+5]]+"-"+u[e[a+6]]+u[e[a+7]]+"-"+u[e[a+8]]+u[e[a+9]]+"-"+u[e[a+10]]+u[e[a+11]]+u[e[a+12]]+u[e[a+13]]+u[e[a+14]]+u[e[a+15]]).toLowerCase()}let D;const Be=new Uint8Array(16);function Ge(){if(!D){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D=crypto.getRandomValues.bind(crypto)}return D(Be)}const ze=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),se={randomUUID:ze};function ya(e,a,t){if(se.randomUUID&&!a&&!e)return se.randomUUID();e=e||{};const s=e.random||(e.rng||Ge)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Ve(s)}var w=(e=>(e[e.TEXT=0]="TEXT",e[e.CODE=1]="CODE",e))(w||{}),be=(e=>(e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT",e[e.HEADER=4]="HEADER",e))(be||{});const Sa=["global","onAppOpen","onAppClose"],Ia=["renderDetailPanel","customActionsTop","customActionsBottom"],va=["render"],le={searchFormWidth:340,searchFormWidthUnit:"px"},He=[5,10,15,20,25,30,50,100],Ua=(e,a,t)=>({columnName:e,columnLabel:a??e,visible:t??!0,visibleTablet:!0,visibleMobile:!0,queryable:!0,orderable:!0,inlineSearch:!1,inlineSearchEnum:ue.SEARCHBOX,inlineSearchDefault:"",columnFilterOrder:1,inlineEditing:!1,inlineEditingEnum:void 0,inlineNumericMin:void 0,inlineNumericMax:void 0,computedField:void 0,alignment:k.LEFT,width:180,prefix:"",suffix:"",localize:!1,duration:!1,decimals:2,dateZeros:!0,timeZeros:!0,classNames:"",lookup:void 0,aggregation:void 0,allowMarkup:!1,columnCode:{}}),U={columns:[],table:{largeTableSupport:{saved:ce.AUTO,actual:y.ENABLED,skipCount:!1},clientSideProcessing:!1,processing:ne.SERVERSIDE,pagination:{position:"bottom",defaultPageSize:10,rowsPerPage:He,showFirstButton:!0,showLastButton:!0,showCompactButtons:!0},locale:A.defaultLanguage.code,design:{overflow:E.RESPONSIVE,density:{default:N.SPACIOUS,current:N.SPACIOUS,userCanChange:!0}},viewLink:!0,detailLink:!1,detailPdf:!1,transactions:{insert:!1,update:!1,delete:!1},formModal:!1,modal:{minWidth:void 0,minWidthUnit:void 0,maxWidth:void 0,maxWidthUnit:void 0,minHeight:void 0,minHeightUnit:void 0,maxHeight:void 0,maxHeightUnit:void 0},searchSettings:{enableGlobalSearch:!0,forceSearch:!1,forceInline:!1,highlightMatches:!0,searchForm:!1,searchFormPosition:be.TOP,searchFormAlwaysOpen:!1,searchFormWidth:le.searchFormWidth,searchFormWidthUnit:le.searchFormWidthUnit,cascade:!1},inlineEditing:{fieldVariant:O.OUTLINED,spacing:{fieldTop:8,fieldTopUnit:"px",fieldBottom:8,fieldBottomUnit:"px",fieldLeft:8,fieldLeftUnit:"px",fieldRight:8,fieldRightUnit:"px"},addColumnButton:!0},bulkActions:{pdf:!1,csv:!0,json:!0,excel:!1,xml:!0,sql:!1,delete:!1,select:void 0},defaultWhere:"",defaultOrderBy:[],tableCode:{},globalCode:{},enableColumnHiding:!1,enableColumnOrdering:!1,showHeader:!0,stickyHeader:!1,showFooter:!1,stickyFooter:!1,charts:{enabled:!1}},state:{exploring:!1,fullScreen:!1,isUpdated:!1,sortedColumns:[],computedFieldIndex:-1,data:{},masterDetailConditions:void 0,deleteColumnFilter:void 0,showColumnFilters:!1,relTab:void 0,isRelTabOpen:void 0,detailKey:void 0,relation:void 0,staticFilter:void 0,shortcodeArgs:void 0,requery:void 0,inlineEditingErrors:[]}};Object.freeze(U);const $e=e=>{var s,o,d;l.debug("initTableSlice",U,e);const a={};for(const r in e)r!=="state"&&Object.prototype.hasOwnProperty.call(U,r)&&(r==="columns"?a[r]=[...e[r]]:a[r]={...e[r]}),r==="state"&&e[r].masterDetailConditions!==void 0&&(a[r]={},a[r].masterDetailConditions={...e[r].masterDetailConditions});for(let r=0;r<a.columns.length;r++)a.columns[r].prefix="",a.columns[r].suffix="",a.columns[r].classNames="";const t=S({},U,a);return(o=(s=a==null?void 0:a.table)==null?void 0:s.pagination)!=null&&o.rowsPerPage&&(t.table.pagination.rowsPerPage=[...a.table.pagination.rowsPerPage]),(d=a==null?void 0:a.table)!=null&&d.defaultOrderBy&&(t.table.defaultOrderBy=[...a.table.defaultOrderBy]),t},fe=b({name:"tables",initialState:{},reducers:{initTable:(e,a)=>{l.debug(e,a);const{appId:t,tableState:s,tableAccess:o,isView:d,exploring:r}=a.payload;e[t]||(e[t]=$e(s),e[t].state.exploring=r,(d||!o.update)&&(e[t].table.transactions.update=!1),(d||!o.insert)&&(e[t].table.transactions.insert=!1),(d||!o.delete)&&(e[t].table.transactions.delete=!1)),e[t].columns.length>0&&(e[t].state.sortedColumns=e[t].columns.map(i=>i.columnName))},rollbackTable:(e,a)=>{l.debug(e,a);const{appId:t,tableState:s}=a.payload;e[t].table=s.table,e[t].columns=s.columns,e[t].state.sortedColumns=e[t].columns.map(o=>o.columnName)},deleteTable:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;delete e[t]},deleteTableComputeColumn:(e,a)=>{l.debug(e,a);const{appId:t,index:s}=a.payload;e[t].columns.splice(s,1),e[t].state.sortedColumns=e[t].columns.map(o=>o.columnName)},tableSettings:(e,a)=>{l.debug(e,a);const{appId:t,tableSettings:s}=a.payload;l.debug(t,s),e[t].table=s},addTableComputeColumn:(e,a)=>{l.debug(e,a)},reorderColumns:(e,a)=>{l.debug(e,a)},setLocale:(e,a)=>{l.debug(e,a)},updateData:(e,a)=>{l.debug(e,a)},setRelTab:(e,a)=>{l.debug(e,a)},setGlobalCode:(e,a)=>{l.debug(e,a)},setGlobalCodeVisibility:(e,a)=>{l.debug(e,a)},setGlobalCodeEnabled:(e,a)=>{l.debug(e,a)},applyGlobalCode:(e,a)=>{l.debug(e,a)},deleteGlobalCode:(e,a)=>{l.debug(e,a)},setTableCode:(e,a)=>{l.debug(e,a)},setTableCodeVisibility:(e,a)=>{l.debug(e,a)},setTableCodeEnabled:(e,a)=>{l.debug(e,a)},applyTableCode:(e,a)=>{l.debug(e,a)},deleteTableCode:(e,a)=>{l.debug(e,a)},setTableColumnCode:(e,a)=>{l.debug(e,a)},setTableColumnCodeVisibility:(e,a)=>{l.debug(e,a)},setTableColumnCodeEnabled:(e,a)=>{l.debug(e,a)},applyTableColumnCode:(e,a)=>{l.debug(e,a)},deleteTableColumnCode:(e,a)=>{l.debug(e,a)},setDensity:(e,a)=>{l.debug(e,a);const{appId:t,density:s}=a.payload;e[t].table.design.density.current=s},columnInlineSearchEnumPrepare:(e,a)=>{l.debug(e,a)},setTableStateProperty:(e,a)=>{var o;l.debug(e,a);const{appId:t,property:s}=a.payload;l.debug(t,s),((o=e[t])==null?void 0:o.state)!==void 0&&(e[t].state={...e[t].state,...s})},setTableColumnProperty:(e,a)=>{l.debug(e,a);const{appId:t,index:s,property:o}=a.payload;l.debug(t,s,o),e[t].columns[s]!==void 0&&(e[t].columns[s]={...e[t].columns[s],...o})}},selectors:{selectTableById:(e,a)=>e[a],selectTableColumnsById:(e,a)=>e[a].columns,selectTableExploring:(e,a)=>{var t,s;return((s=(t=e[a])==null?void 0:t.state)==null?void 0:s.exploring)??!1},selectTableIsUpdated:(e,a)=>{var t,s;return((s=(t=e[a])==null?void 0:t.state)==null?void 0:s.isUpdated)??!1},selectShowColumnFilters:(e,a)=>{var t,s;return((s=(t=e[a])==null?void 0:t.state)==null?void 0:s.showColumnFilters)??!1},selectTableComputedField:(e,a,t)=>({label:"",type:w.TEXT,expression:""})}}),{initTable:La,rollbackTable:Ra,deleteTable:xa,deleteTableComputeColumn:Oa,tableSettings:wa,addTableComputeColumn:Da,reorderColumns:Na,columnInlineSearchEnumPrepare:Fa,setLocale:_a,updateData:Ma,setRelTab:Ea,setGlobalCode:ka,setGlobalCodeVisibility:Pa,setGlobalCodeEnabled:Va,applyGlobalCode:Ba,deleteGlobalCode:Ga,setTableCode:za,setTableCodeVisibility:Ha,setTableCodeEnabled:$a,applyTableCode:Ya,deleteTableCode:Wa,setTableColumnCode:ja,setTableColumnCodeVisibility:qa,setTableColumnCodeEnabled:Ka,applyTableColumnCode:Za,deleteTableColumnCode:Xa,setDensity:Ja,setTableStateProperty:Qa,setTableColumnProperty:et}=fe.actions,Ye=fe.reducer;var ge=(e=>(e.AUTO="auto",e.START="start",e.END="end",e))(ge||{}),me=(e=>(e[e.FORM=0]="FORM",e[e.COLUMN=1]="COLUMN",e))(me||{}),Ae=(e=>(e[e.ACOORDION=0]="ACOORDION",e[e.TAB=1]="TAB",e[e.TITLE=2]="TITLE",e))(Ae||{});const at=["customActionsBottom"],tt=["onChange","onClick"],st=(e,a,t)=>({columnName:e,columnLabel:a??e,visible:t??!0,updatable:!0,updatableEnum:void 0,cells:1,cellClass:ge.AUTO,numericMin:void 0,numericMax:void 0,computedField:void 0,alignment:k.LEFT,prefix:"",suffix:"",localize:!1,duration:!1,classNames:"",hint:"",lookup:void 0,defaultValue:null,more:!1,allowMarkup:!1,columnCode:{},isCode:!1,allowHtml:!0,minRows:3,maxRows:10,maxLength:void 0}),We={aroundGridTop:50,aroundGridTopUnit:"px",aroundGridBottom:50,aroundGridBottomUnit:"px",aroundGridLeft:50,aroundGridLeftUnit:"px",aroundGridRight:50,aroundGridRightUnit:"px",betweenCells:30,betweenCellsUnit:"px",cellTop:0,cellTopUnit:"px",cellBottom:0,cellBottomUnit:"px",cellLeft:0,cellLeftUnit:"px",cellRight:0,cellRightUnit:"px",fieldTop:16.5,fieldTopUnit:"px",fieldBottom:16.5,fieldBottomUnit:"px",fieldLeft:14,fieldLeftUnit:"px",fieldRight:14,fieldRightUnit:"px"},je={showGrid:!1,cellsPerRow:1,spacing:We,fieldVariant:O.OUTLINED,preserveSpacesOnUpdate:!1,detailDisplayType:Ae.TAB,hideHintsInViewMode:!0,formCode:{}},L={form:je,columns:[],context:{},state:{data:[],initialData:[],validation:{},isUpdated:!1,sortedColumns:[],computedFieldIndex:-1,details:void 0,m2mDetail:void 0,m2mUpdate:!1,more:!1}};Object.freeze(L);const qe=e=>{l.debug("initFormSlice",L,e);const a={};for(const t in e)t!=="state"&&Object.prototype.hasOwnProperty.call(L,t)&&(t==="columns"?a[t]=[...e[t]]:a[t]={...e[t]});for(let t=0;t<a.columns.length;t++)a.columns[t].prefix="",a.columns[t].suffix="",a.columns[t].classNames="",a.columns[t].hint="";return S({},L,a)},Te=b({name:"forms",initialState:{},reducers:{initForm:(e,a)=>{l.debug(e,a);const{appId:t,formState:s}=a.payload;l.debug(t,s),e[t]=qe(s),e[t].columns.length>0&&(e[t].state.sortedColumns=e[t].columns.map(o=>o.columnName))},rollbackForm:(e,a)=>{l.debug(e,a);const{appId:t,formState:s}=a.payload;l.debug(t,s),e[t].form=s.form,e[t].columns=s.columns,e[t].state.validation=s.state.validation,e[t].state.sortedColumns=e[t].columns.map(o=>o.columnName)},deleteForm:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;delete e[t]},initData:(e,a)=>{l.debug(e,a);const{appId:t,data:s,context:o}=a.payload;if(e[t]){l.debug(s),e[t].state.data=s,e[t].state.initialData=s,l.debug(o),e[t].context=o;const d={};for(const r in s)d[r]={error:!1,text:"",type:me.FORM};l.debug(d),e[t].state.validation=d}},update:(e,a)=>{l.debug(e,a);const{appId:t,columnName:s,columnValue:o}=a.payload;l.debug(t,s,o),e[t].state.data[s]!==void 0&&(e[t].state.data[s]=o)},updateMediaColumn:(e,a)=>{l.debug(e,a);const{appId:t,columnName:s,columnValue:o}=a.payload;l.debug(t,s,o),e[t].context.media&&(e[t].context.media[s]=o)},validate:(e,a)=>{l.debug(e,a);const{appId:t,columnName:s,columnError:o,columnText:d,columnType:r}=a.payload;l.debug(t,s,o,d,r),e[t].state.validation[s]!==void 0?(e[t].state.validation[s].error=o,e[t].state.validation[s].text=d,e[t].state.validation[s].type=r):e[t].state.validation[s]={error:o,text:d,type:r}},deleteFormComputeColumn:(e,a)=>{l.debug(e,a);const{appId:t,index:s}=a.payload;e[t].columns.splice(s,1),e[t].state.sortedColumns=e[t].columns.map(o=>o.columnName)},setMore:(e,a)=>{l.debug(e,a);const{appId:t,more:s}=a.payload;l.debug(t,s),e[t].state.more=s},setPreserveSpacesOnUpdate:(e,a)=>{l.debug(e,a);const{appId:t,preserveSpaces:s}=a.payload;l.debug(t,s),e[t].form.preserveSpacesOnUpdate=s},rerenderFormLookup:(e,a)=>{var o;l.debug(e,a);const{appId:t,index:s}=a.payload;if(l.debug(t,s),((o=e[t].columns[s])==null?void 0:o.lookup)!==void 0){const d=e[t].columns[s].lookup;d!==void 0&&(d.rerender=!d.rerender,e[t].columns[s].lookup=d)}},reorderColumns:(e,a)=>{l.debug(e,a)},addFormComputeColumn:(e,a)=>{l.debug(e,a)},setFormCellsPerColumn:(e,a)=>{l.debug(e,a)},setFormGrid:(e,a)=>{l.debug(e,a)},setFormSpacing:(e,a)=>{l.debug(e,a)},setFormFieldVariant:(e,a)=>{l.debug(e,a)},setHideHintsInViewMode:(e,a)=>{l.debug(e,a)},setFormComputedFieldIndex:(e,a)=>{l.debug(e,a)},setDetailDisplayType:(e,a)=>{l.debug(e,a);const{appId:t,displayType:s}=a.payload;l.debug(t,s),e[t].form.detailDisplayType=s},setDetailColumn:(e,a)=>{l.debug(e,a);const{appId:t,columnName:s}=a.payload;l.debug(t,s),e[t].columns.map((o,d)=>{o.columnName===s&&(e[t].columns[d].updatable=!1,e[t].columns[d].visible=!1)})},addDetails:(e,a)=>{l.debug(e,a);const{appId:t,details:s}=a.payload;e[t].state.details=s},addDetail:(e,a)=>{var o;l.debug(e,a);const{appId:t,detail:s}=a.payload;e[t].state.details===void 0&&(e[t].state.details=[]),(o=e[t].state.details)==null||o.push(s)},updateDetail:(e,a)=>{l.debug(e,a);const{appId:t,detail:s}=a.payload;if(e[t].state.details!==void 0&&e[t].state.details!==null){const o=JSON.parse(JSON.stringify(e[t].state.details));for(let d=0;d<o.length;d++)o[d].appId===s.appId&&(o[d]=s);e[t].state.details=o}},deleteDetail:(e,a)=>{var o;l.debug(e,a);const{appId:t,detailAppId:s}=a.payload;if(e[t].state.details!==void 0){let d=-1;const r=e[t].state.details??[];for(let i=0;i<r.length;i++)r[i].appId===s&&(d=i);d!==-1&&((o=e[t].state.details)==null||o.splice(d,1))}},addM2mDetail:(e,a)=>{var o;l.debug(e,a);const{appId:t,m2mDetail:s}=a.payload;l.debug(t,s),e[t].state.m2mDetail===void 0&&(e[t].state.m2mDetail=[]),(o=e[t].state.m2mDetail)==null||o.push(s)},deleteM2mDetail:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;l.debug(t),e[t].state.m2mDetail=[]},setM2MUpdate:(e,a)=>{l.debug(e,a);const{appId:t,update:s}=a.payload;e[t]!==void 0&&(e[t].state.m2mUpdate=s)},setFormCode:(e,a)=>{l.debug(e,a)},setFormCodeVisibility:(e,a)=>{l.debug(e,a)},setFormCodeEnabled:(e,a)=>{l.debug(e,a)},applyFormCode:(e,a)=>{l.debug(e,a)},deleteFormCode:(e,a)=>{l.debug(e,a)},setFormColumnCode:(e,a)=>{l.debug(e,a)},setFormColumnCodeVisibility:(e,a)=>{l.debug(e,a)},setFormColumnCodeEnabled:(e,a)=>{l.debug(e,a)},applyFormColumnCode:(e,a)=>{l.debug(e,a)},deleteFormColumnCode:(e,a)=>{l.debug(e,a)},setFormUpdate:(e,a)=>{l.debug(e,a);const{appId:t,isUpdated:s}=a.payload;e[t].state.isUpdated=s},setFormColumnProperty:(e,a)=>{l.debug(e,a);const{appId:t,index:s,property:o}=a.payload;l.debug(t,s,o),e[t].columns[s]!==void 0&&(e[t].columns[s]={...e[t].columns[s],...o})}},selectors:{selectForm:(e,a)=>e[a],selectFormState:(e,a)=>{var t;return(t=e[a])==null?void 0:t.state},selectFormColumns:(e,a)=>{var t;return((t=e[a])==null?void 0:t.columns)??[]},selectFormComputedField:(e,a,t)=>({label:"",type:w.TEXT,expression:""}),selectAppIdRoot:(e,a)=>a}}),{initForm:lt,rollbackForm:ot,deleteForm:dt,initData:pt,update:rt,updateMediaColumn:it,validate:nt,deleteFormComputeColumn:ut,setMore:ct,setPreserveSpacesOnUpdate:bt,rerenderFormLookup:ft,reorderColumns:gt,addFormComputeColumn:mt,setFormCellsPerColumn:At,setFormGrid:Tt,setFormSpacing:ht,setFormFieldVariant:Ct,setHideHintsInViewMode:yt,setFormComputedFieldIndex:St,setDetailDisplayType:It,setDetailColumn:vt,addDetails:Ut,addDetail:Lt,updateDetail:Rt,deleteDetail:xt,addM2mDetail:Ot,deleteM2mDetail:wt,setM2MUpdate:Dt,setFormCode:Nt,setFormCodeVisibility:Ft,setFormCodeEnabled:_t,applyFormCode:Mt,deleteFormCode:Et,setFormColumnCode:kt,setFormColumnCodeVisibility:Pt,setFormColumnCodeEnabled:Vt,applyFormColumnCode:Bt,deleteFormColumnCode:Gt,setFormUpdate:zt,setFormColumnProperty:Ht}=Te.actions,Ke=Te.reducer;var he=(e=>(e.RIGHT="right",e.LEFT="left",e))(he||{});const Ce=b({name:"ui",initialState:{tableSettings:{isOpen:!1,appId:null,hideThemeSettings:!1},formSettings:{isOpen:!1,appId:null,hideThemeSettings:!1,isRelationForm:!1,isRelationTable:!1},chartSettings:{isOpen:!1,appId:null},drawer:{anchor:he.RIGHT},explorerAction:void 0},reducers:{openTableSettings:(e,a)=>{l.debug(e,a);const{appId:t,hideThemeSettings:s}=a.payload;e.tableSettings.isOpen=!0,e.tableSettings.appId=t,e.tableSettings.hideThemeSettings=s},closeTableSettings:(e,a)=>{l.debug(e,a),e.tableSettings.isOpen=!1},openFormSettings:(e,a)=>{l.debug(e,a);const{appId:t,hideThemeSettings:s,isRelationForm:o,isRelationTable:d}=a.payload;l.debug(t,s,o,d),e.formSettings.isOpen=!0,e.formSettings.appId=t,e.formSettings.hideThemeSettings=s,e.formSettings.isRelationForm=o,e.formSettings.isRelationTable=d??!1},closeFormSettings:(e,a)=>{l.debug(e,a),e.formSettings.isOpen=!1},openChartSettings:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;e.chartSettings.isOpen=!0,e.chartSettings.appId=t},closeChartSettings:(e,a)=>{l.debug(e,a),e.chartSettings.isOpen=!1},setDrawerAnchor:(e,a)=>{l.debug(e,a);const{anchor:t}=a.payload;e.drawer.anchor=t},doExplorerAction:(e,a)=>{l.debug(e,a);const{dbs:t,tbl:s,typ:o,explorerAction:d}=a.payload;l.debug(t,s,o,d),e.explorerAction={dbs:t,tbl:s,typ:o,action:d}},stopExplorerAction:(e,a)=>{l.debug(e,a),e.explorerAction=void 0}}}),{openTableSettings:$t,closeTableSettings:Yt,openFormSettings:Wt,closeFormSettings:jt,openChartSettings:qt,closeChartSettings:Kt,setDrawerAnchor:Zt,doExplorerAction:Xt,stopExplorerAction:Jt}=Ce.actions,Ze=Ce.reducer,P=b({name:"metaData",initialState:{},reducers:{addMetaData:(e,a)=>{l.debug(e,a);const{appId:t,metaData:s}=a.payload;e[t]=s},deleteMetaData:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;delete e[t]},updateMetaData:(e,a)=>{l.debug(e,a);const{appId:t,metaData:s}=a.payload;e[t]=s}},selectors:{selectMetaDataById:(e,a)=>e[a]}}),{addMetaData:Qt,deleteMetaData:es,updateMetaData:as}=P.actions,Xe=P.reducer;var h=(e=>(e[e.DATATABLE=0]="DATATABLE",e[e.DATAENTRY=1]="DATAENTRY",e[e.MASTERDETAIL=2]="MASTERDETAIL",e[e.REGISTRATION=3]="REGISTRATION",e[e.UPDATEFORM=4]="UPDATEFORM",e[e.APPCONTAINER=5]="APPCONTAINER",e[e.CHART=6]="CHART",e))(h||{}),ye=(e=>(e.DATATABLE="Data Table",e.DATAENTRY="Data Administration",e.MASTERDETAIL="Master Detail",e.REGISTRATION="Registration Form",e.UPDATEFORM="Update Form",e.APPCONTAINER="Data App",e.CHART="Chart",e))(ye||{});const Se=()=>Object.values(ye),ts=e=>{const a=Se()[e];return l.debug(a),a},ss=()=>{const e=Se(),a=[];for(let t=0;t<e.length;t++)(e[t]==="Data Table"||e[t]==="Data Administration"||e[t]==="Registration Form"||e[t]==="Data App"||e[t]==="Chart")&&a.push({id:t,text:e[t]});return a.sort((t,s)=>t.text>s.text?1:s.text>t.text?-1:0),l.debug(a),a};var R=(e=>(e[e.INSERT=0]="INSERT",e[e.UPDATE=1]="UPDATE",e[e.VIEW=2]="VIEW",e))(R||{}),Je=(e=>(e[e.INSERT=0]="INSERT",e[e.UPDATE=1]="UPDATE",e[e.VIEW=2]="VIEW",e))(Je||{});const ls=(e,a)=>{switch(e==null?void 0:e.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":return a===!0?"float":"number";case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return"number";case"datetime":case"timestamp":return a===!0?"datetime":"date";case"time":return a===!0?"time":"date";case"date":return"date";default:return"string"}},os=e=>{var a,t;return(t=(a=e==null?void 0:e.table_info)==null?void 0:a.type)==null?void 0:t.toLowerCase().includes("view")},ds=e=>e.table_info.count,ps=e=>{var a;if(Number(e==null?void 0:e.table_info.count)>4e4){const t=(a=e==null?void 0:e.table_info)==null?void 0:a.engine;return(t==null?void 0:t.toLocaleLowerCase())==="innodb"?y.ENABLED:y.DISABLED}else return y.DISABLED},rs=(e,a)=>{var t;if(((t=e==null?void 0:e.columns)==null?void 0:t.length)>0){for(let s=0;s<e.columns.length;s++)if(e.columns[s].column_name===a)return e.columns[s]}},is=(e,a)=>{var t;if(((t=e==null?void 0:e.columns)==null?void 0:t.length)>0){for(let s=0;s<e.columns.length;s++)if(e.columns[s].column_name===a)return s}},ns=(e,a)=>{var t;l.debug(e,a);for(let s=0;s<e.length;s++)if((t=e[s])!=null&&t.columnName&&e[s].columnName==a)return s},us=e=>"app-"+e.toString(),cs=(e,a=!1)=>{const t={app_name:e.appName,app_title:e.appTitle,app_type:e.appType,app_settings:JSON.stringify({rest_api:e.appRestApi,settings:{app_menu_title:e.appMenuTitle??e.appTitle,app_language:e.appLanguage,app_fullscreen:e.fullScreen,app_safe_mode:e.safeMode,...e.appType==h.REGISTRATION&&{app_registration:{message:e.registration.message,showMessage:e.registration.showMessage,url:e.registration.url,showUrl:e.registration.showUrl,urlTime:e.registration.urlTime,allowUpdates:e.registration.allowUpdates}},...e.appType==h.CHART&&{app_chart:{cacheData:e.appChart.cacheData,updateValue:e.appChart.updateValue,updateUnit:e.appChart.updateUnit}}}}),app_dbs:e.appDatabase,app_tbl:e.appTable,app_cls:e.appColumns};return a&&(t.app_id=e.appDbId,t.app_add_to_menu=e.appAddToMenu?1:0),e.appType==h.CHART&&(t.app_tbl="wp-data-access-chart",t.app_query=e.appQuery),t},bs=e=>{var a,t,s,o,d,r,i,n;return A.appSiteInfo.appLogin===!0&&((t=(a=e==null?void 0:e.settings)==null?void 0:a.env)==null?void 0:t.login)===!0&&Array.isArray(A.appSiteInfo.appRoles)&&A.appSiteInfo.appRoles.includes("administrator")&&Array.isArray((o=(s=e==null?void 0:e.settings)==null?void 0:s.env)==null?void 0:o.roles)&&((r=(d=e==null?void 0:e.settings)==null?void 0:d.env)==null?void 0:r.roles.includes("administrator"))&&A.appSiteInfo.appUser!=="anonymous"&&((n=(i=e==null?void 0:e.settings)==null?void 0:i.env)==null?void 0:n.user)!=="anonymous"||!1},Qe=e=>{const a=P.getSelectors().selectMetaDataById(ga.getState().metaData,e);return a==null?void 0:a.src},fs=e=>{const a=Qe(e);return(a==null?void 0:a.app_id)>0},gs=e=>"",ms=(e,a)=>a,As=(e,a,t,s)=>{if(l.debug(e,a,t,s),(e==null?void 0:e.expression)===void 0||(e==null?void 0:e.expression)===null||(e==null?void 0:e.expression)==="")return null;let o=e.expression;return Object.keys(a).map(d=>{o=o==null?void 0:o.replaceAll(`{:${d}}`,a[d])}),t!=null&&s!==void 0&&s!==null&&t.map(d=>{if(d.lookup!==void 0&&s[d.columnName]!==void 0&&s[d.columnName]!==null&&(o.includes(`{:lookup['${d.columnName}']`)||o.includes(`{:lookup["${d.columnName}"]`))){const r=d.lookup.value.split(",");if(a[d.columnName]!==void 0&&a[d.columnName]!==null&&a[d.columnName].trim()!==""){const i=a[d.columnName];i!=null&&i.trim()!==""&&s[d.columnName][i]!==void 0&&(d.lookup.value.includes(",")?r.map((n,c)=>{o=o==null?void 0:o.replaceAll(`{:lookup['${d.columnName}']['${n}']}`,s[d.columnName][i][c]),o=o==null?void 0:o.replaceAll(`{:lookup["${d.columnName}"]["${n}"]}`,s[d.columnName][i][c]),o=o==null?void 0:o.replaceAll(`{:lookup["${d.columnName}"]['${n}']}`,s[d.columnName][i][c]),o=o==null?void 0:o.replaceAll(`{:lookup['${d.columnName}']["${n}"]}`,s[d.columnName][i][c])}):(o=o==null?void 0:o.replaceAll(`{:lookup['${d.columnName}']}`,s[d.columnName][i]),o=o==null?void 0:o.replaceAll(`{:lookup["${d.columnName}"]}`,s[d.columnName][i])))}else r.map(i=>{o=o==null?void 0:o.replaceAll(`{:lookup['${d.columnName}']['${i}']}`,""),o=o==null?void 0:o.replaceAll(`{:lookup["${d.columnName}"]["${i}"]}`,""),o=o==null?void 0:o.replaceAll(`{:lookup["${d.columnName}"]['${i}']}`,""),o=o==null?void 0:o.replaceAll(`{:lookup['${d.columnName}']["${i}"]}`,"")})}}),o},Ts=(e,a,t,s)=>(l.debug(e,a,t),t||a===w.TEXT?e:ea(e,t,!0,s)),ea=(e,a,t,s)=>{if(l.debug(e,a,t,s),a)return e;try{const o=s?Object.keys(s):["log"],d=s?Object.values(s):[l];return l.debug(o,d),e==null&&(e=""),t?Function(...o,`
				let codeField = ""

				try { 
					codeField = ${e}
				} catch(error) {
					codeField = "ERR: Check console"
					console.error(error)
				}

				return codeField
			`)(...d):Function(...o,`
					try { 
						${e}
					} catch(error) {
						console.error(error)
						return "ERR: Check console"
					}
				`)(...d)}catch(o){return l.error(o),l.error("expression",e),"ERR: Check console"}},oe=(e,a)=>{if(a==null||a==="")return!0;const t=a.trim().replace(/\s\s+/g," ").toLowerCase().split(" ");return a===""||(t.some(s=>{if(s.charAt(0)!=="-")return e.toLowerCase().includes(s)})||t.filter(s=>s.charAt(0)==="-").length===t.length&&t.length>0)&&t.filter(s=>{if(s.charAt(0)==="-"&&s.length>1)return e.toLowerCase().includes(s.substring(1))}).length===0},de={A:"A",a:"a",B:"",c:"YYYY-MM-DDTHH:mm:ssZ",D:"ddd",d:"DD",e:"zz",F:"MMMM",G:"H",g:"h",H:"HH",h:"hh",I:"",i:"mm",j:"D",l:"dddd",L:"",M:"MMM",m:"MM",N:"E",n:"M",O:"ZZ",o:"GGGG",P:"Z",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",S:"o",s:"ss",T:"z",t:"",U:"X",u:"SSSSSS",v:"SSS",W:"W",w:"d",Y:"YYYY",y:"YY",Z:"",z:""},hs=(e,a)=>{const t=Ee(a.toISOString()),s=[];for(let o=0;o<e.length;o++){const d=e[o];if(d==="\\")o++,s.push("["+e[o]+"]");else if(de[d]){const r=de[d];typeof r!="string"?s.push("["+r(t)+"]"):s.push(r)}else s.push("["+d+"]")}return t.format(s.join("[]"))},Cs=e=>{const a=(e==null?void 0:e.cnt_relation)!==void 0&&(e==null?void 0:e.cnt_relation)!==null&&(e==null?void 0:e.cnt_relation)!==""?JSON.parse(e==null?void 0:e.cnt_relation):null;return l.debug("relation",a),a},ys=e=>{const a=e==null?void 0:e.toLocaleLowerCase(),t=["httpGet","httpPost","httpRequest"],s=[];return t.map(o=>{let d=0;for(;(d=a.indexOf(o==null?void 0:o.toLocaleLowerCase(),d))!==-1;){l.debug(d);const r=a.indexOf("["),i=a.indexOf("]");if(r!==-1&&i!==-1){const n=a.substring(r+1,i).replaceAll("'","").replaceAll('"',"");l.debug(n),s.filter(c=>c.paramName===n).length===0&&s.push({paramName:n,paramType:o})}d++}}),s},Ss=e=>O.OUTLINED,Is=e=>{const t=new Intl.NumberFormat(e).format(9999.99);return{thousandSeperator:t.substring(1,2),decimalSeperator:t.substring(5,6)}},aa=(e,a,t)=>`--${t}-${e}-${a}`,vs=(e,a,t,s)=>aa(e,a,s)+`-${t.replaceAll(" ","-")}`,Us=e=>e.design.overflow===E.RESPONSIVE&&e.detailLink,pe=(e,a)=>{const t=a.filter(s=>s.columnName===e);return t.length===1?t[0].columnLabel:e},Ls=(e,a,t,s,o,d)=>{const r=e.getRowModel().rows,i=[];i.push([a].concat(t));const n=[];return n.push([pe(a,o)].concat(t.map(c=>pe(c,o)))),r.map(c=>{const m=[];if(i[0].map((g,f)=>{if(f===0)m.push(c.original[g]);else{const C=d.columns.filter(I=>I.column_name===g);if(C.length===1)switch(C[0].data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":m.push(Number(c.original[g]));break}}}),s){const g=n.findIndex(f=>f[0]===c.original[a]);if(g>0)for(let f=1;f<n[g].length;f++)n[g][f]+=m[f];else n.push(m)}else n.push(m)}),l.debug(n),n},Rs=e=>e===null?"":e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#039;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F/g,"/").replace(/&#x3D;/g,"=").replace(/&#x60;/g,"`"),xs=e=>{var a,t,s;try{const o=JSON.parse((t=(a=e==null?void 0:e.app)==null?void 0:a.app[0])==null?void 0:t.app_settings);return((s=o==null?void 0:o.settings)==null?void 0:s.app_safe_mode)??!1}catch{return!1}},Os=(e,a,t,s)=>s===R.VIEW||s===R.UPDATE&&(e.primary_key.includes(a.column_name)||t.updatable===!1)||s===R.INSERT&&a.extra==="auto_increment"||t.updatable===!1&&(a.is_nullable==="YES"||a.column_default!==null&&a.column_default!=="NULL"&&a.column_default!==""),ws=(e,a)=>{const t={};return e.primary_key&&Array.isArray(e.primary_key)&&e.primary_key.map(s=>{t[s]=a[s]}),t},Ds=(e,a)=>{var s,o;let t="pp-form-modal"+("-"+a);return((s=e==null?void 0:e.src)==null?void 0:s.cnt_id)!==void 0?t+="-"+e.src.cnt_id:((o=e==null?void 0:e.src)==null?void 0:o.tbl)!==void 0&&(t+="-"+e.src.tbl),t},Ie=b({name:"explorer",initialState:{},reducers:{initExplorer:(e,a)=>{l.debug(e,a);const{dbs:t,dbsTypes:s}=a.payload;l.debug(t,s),e.database={};for(let o=0;o<t.length;o++)e.database[t[o].dbs]={tables:[],tablesSelected:[],tablesContext:void 0,tablesLoaded:!1,views:[],viewsSelected:[],viewsLoaded:!1,columns:{},columnsLoaded:{},indexes:{},indexesLoaded:{},triggers:{},triggersLoaded:{},foreignKeys:{},foreignKeysLoaded:{},functions:[],functionsLoaded:!1,procedures:[],proceduresLoaded:!1,dbsType:t[o].dbsType,pdsDbs:t[o].pdsDbs};e.dbsTypes=s,e.selected={},e.error="",e.context={}},addTables:(e,a)=>{l.debug(e,a);const{dbs:t,tbl:s,context:o}=a.payload;l.debug(t,s,o),e.database[t].tables=s,e.database[t].tablesLoaded=!0,e.database[t].tablesContext=o},invalidateTables:(e,a)=>{l.debug(e,a);const{dbs:t}=a.payload;l.debug(t),e.database[t].tables=[],e.database[t].tablesLoaded=!1,e.database[t].tablesContext=void 0,e.database[t].columns={},e.database[t].columnsLoaded={},e.database[t].indexes={},e.database[t].indexesLoaded={},e.database[t].triggers={},e.database[t].triggersLoaded={},e.database[t].foreignKeys={},e.database[t].foreignKeysLoaded={}},addViews:(e,a)=>{l.debug(e,a);const{dbs:t,vws:s}=a.payload;l.debug(t,s),e.database[t].views=s,e.database[t].viewsLoaded=!0,e.database[t].columns={},e.database[t].columnsLoaded={}},invalidateViews:(e,a)=>{l.debug(e,a);const{dbs:t}=a.payload;l.debug(t),e.database[t].views=[],e.database[t].viewsLoaded=!1},addColumns:(e,a)=>{l.debug(e,a);const{dbs:t,tbl:s,cls:o}=a.payload;l.debug(t,s,o),e.database[t].columns[s]=o,e.database[t].columnsLoaded[s]=!0},addIndexes:(e,a)=>{l.debug(e,a);const{dbs:t,tbl:s,idx:o}=a.payload;l.debug(t,s,o),e.database[t].indexes[s]=o,e.database[t].indexesLoaded[s]=!0},addForeignKeys:(e,a)=>{l.debug(e,a);const{dbs:t,tbl:s,frk:o}=a.payload;l.debug(t,s,o),e.database[t].foreignKeys[s]=o,e.database[t].foreignKeysLoaded[s]=!0},addTriggers:(e,a)=>{l.debug(e,a);const{dbs:t,tbl:s,trg:o}=a.payload;l.debug(t,s,o),e.database[t].triggers[s]=o,e.database[t].triggersLoaded[s]=!0},addFunctions:(e,a)=>{l.debug(e,a);const{dbs:t,fnc:s}=a.payload;l.debug(t,s),e.database[t].functions=s,e.database[t].functionsLoaded=!0},invalidateFunctions:(e,a)=>{l.debug(e,a);const{dbs:t}=a.payload;l.debug(t),e.database[t].functions=[],e.database[t].functionsLoaded=!1},addProcedures:(e,a)=>{l.debug(e,a);const{dbs:t,prc:s}=a.payload;l.debug(t,s),e.database[t].procedures=s,e.database[t].proceduresLoaded=!0},invalidateProcedures:(e,a)=>{l.debug(e,a);const{dbs:t}=a.payload;l.debug(t),e.database[t].procedures=[],e.database[t].proceduresLoaded=!1},setError:(e,a)=>{l.debug(e,a);const{error:t}=a.payload;l.debug(t),e.error=t},setDbsTypes:(e,a)=>{l.debug(e,a);const{dbsType:t}=a.payload;l.debug(t),e.dbsTypes=t},addDbsType:(e,a)=>{l.debug(e,a);const{dbsType:t}=a.payload;l.debug(t),e.dbsTypes.push(t)},deleteDbsType:(e,a)=>{l.debug(e,a);const{dbsType:t}=a.payload;l.debug(t);const s=e.dbsTypes.indexOf(t);s!==-1&&e.dbsTypes.splice(s,1)},setSelected:(e,a)=>{l.debug(e,a);const{dbs:t}=a.payload;l.debug(t),e.selected=t},selectedTable:(e,a)=>{l.debug(e,a);const{dbs:t,tbl:s,isSelected:o}=a.payload;if(l.debug(t,s,o),o===!0)e.database[t].tablesSelected.push(s);else{const d=e.database[t].tablesSelected.indexOf(s);d>=0&&e.database[t].tablesSelected.splice(d,1)}},selectedAllTables:(e,a)=>{l.debug(e,a);const{dbs:t,isSelected:s,search:o}=a.payload;if(l.debug(t,s,o),s===!0){const d=[];e.database[t].tables.map(r=>{oe(r,o)&&d.push(r)}),e.database[t].tablesSelected=d}else e.database[t].tablesSelected=[]},selectedView:(e,a)=>{l.debug(e,a);const{dbs:t,vws:s,isSelected:o}=a.payload;if(l.debug(t,s,o),o===!0)e.database[t].viewsSelected.push(s);else{const d=e.database[t].viewsSelected.indexOf(s);d>=0&&e.database[t].viewsSelected.splice(d,1)}},selectedAllViews:(e,a)=>{l.debug(e,a);const{dbs:t,isSelected:s,search:o}=a.payload;if(l.debug(t,s,o),s===!0){const d=[];e.database[t].views.map(r=>{oe(r,o)&&d.push(r)}),e.database[t].viewsSelected=d}else e.database[t].viewsSelected=[]},setContext:(e,a)=>{l.debug(e,a);const{context:t}=a.payload;l.debug(t),e.context=t}},selectors:{selectSelected:e=>e.selected}}),{initExplorer:Ns,addTables:Fs,invalidateTables:_s,addViews:Ms,invalidateViews:Es,addColumns:ks,addIndexes:Ps,addForeignKeys:Vs,addTriggers:Bs,addFunctions:Gs,invalidateFunctions:zs,addProcedures:Hs,invalidateProcedures:$s,setError:Ys,setDbsTypes:Ws,addDbsType:js,deleteDbsType:qs,setSelected:Ks,selectedTable:Zs,selectedAllTables:Xs,selectedView:Js,selectedAllViews:Qs,setContext:el}=Ie.actions,ta=Ie.reducer;var T=(e=>(e.AUTHORIZED="authorized",e.ANONYMOUS="anonymous",e))(T||{});const sa={table_settings:{row_count_estimate:null,row_count_estimate_value:"plugin",row_count_estimate_value_hard:"",row_level_security:"false",query_buffer_size:"",hyperlink_definition:"json"},list_labels:{},form_labels:{},column_media:{},rest_api:null},ve=b({name:"manager",initialState:{settings:{},metaData:{}},reducers:{initManager:(e,a)=>{l.debug(e,a);const{settings:t,metaData:s}=a.payload;l.debug(t,s),e.settings=S({},sa,t),e.metaData=s},updateSettings:(e,a)=>{l.debug(e,a);const{settings:t}=a.payload;l.debug(t),e.settings=t},restApiOff:(e,a)=>{l.debug(e,a),e.settings.rest_api=null},restApiOn:(e,a)=>{l.debug(e,a),e.settings.rest_api={select:{authorization:T.AUTHORIZED,methods:[],authorized_roles:[],authorized_users:[]},insert:{authorization:T.AUTHORIZED,methods:[],authorized_roles:[],authorized_users:[]},update:{authorization:T.AUTHORIZED,methods:[],authorized_roles:[],authorized_users:[]},delete:{authorization:T.AUTHORIZED,methods:[],authorized_roles:[],authorized_users:[]}}},setRestApi:(e,a)=>{l.debug(e,a);const{rest_api:t}=a.payload;l.debug(t),e.settings.rest_api=t},deleteManager:(e,a)=>{l.debug(e,a),e.settings={},e.metaData={}}},selectors:{selectManagerSettings:e=>e.settings}}),{initManager:al,updateSettings:tl,restApiOff:sl,restApiOn:ll,setRestApi:ol,deleteManager:dl}=ve.actions,la=ve.reducer;var _=(e=>(e[e.ONE_TO_ONE=0]="ONE_TO_ONE",e[e.ONE_TO_MANY=1]="ONE_TO_MANY",e[e.MANY_TO_MANY=2]="MANY_TO_MANY",e))(_||{});const pl=e=>({authorization:e,authorized_roles:[],authorized_users:[]}),Ue=b({name:"app",initialState:{appList:[],appApps:{},appMetaData:null,databases:[],dbSearch:"",dbTypes:[],showAppStructure:!0,wpDatabase:"",defaultDatabase:"",tables:[],views:[],reload:!1,designMode:{isActive:!1,appDbId:0},app:{appDbId:0,appId:"",appName:"",appTitle:"",appType:h.DATATABLE,appCntId:0,appCntIdMaster:null,appCntSeqNr:0,appDatabase:null,appTable:null,appColumns:[],appQuery:"",appRelationTable:null,appRelationColumns:[],appRestApi:{authorization:T.AUTHORIZED,authorized_roles:[],authorized_users:[]},appAddToMenu:!1,appMenuTitle:"",appMetaData:{},appLanguage:void 0,updateSiteLanguage:!1,fullScreen:!0,safeMode:!1,appApps:[],registration:{message:void 0,showMessage:!1,url:"",showUrl:!1,urlTime:3,allowUpdates:!0},appChart:{cacheData:!1,updateValue:12,updateUnit:"h"}},relationshipWizard:{cardinality:_.ONE_TO_MANY,title:"",dbs:"",tbl:"",cls:[],joins:"",sql:"",relationTbl:"",relationCls:[],relationJoins:"",relationSql:""}},reducers:{setList:(e,a)=>{l.debug(e,a);const{appList:t,appApps:s}=a.payload;l.debug(t,s),e.appList=t,e.appApps=s},setAppMetaData:(e,a)=>{l.debug(e,a);const{appMetaData:t}=a.payload;l.debug(t),e.appMetaData=t},setAppId:(e,a)=>{l.debug(e,a);const{appDbId:t,appId:s,appName:o,appTitle:d,appType:r,appCntId:i,appCntIdMaster:n,appCntSeqNr:c,appDatabase:m,appTable:g,appColumns:f,appQuery:C,appRelationTable:I,appRelationColumns:V,appRestApi:B,appAddToMenu:G,appMenuTitle:z,appMetaData:H,appLanguage:$,fullScreen:Y,safeMode:W,appApps:j,registrationMessage:q,registrationShowMessage:K,registrationUrl:Z,registrationShowUrl:X,registrationUrlTime:J,registrationAllowUpdates:Q,cacheData:ee,updateValue:ae,updateUnit:te}=a.payload;l.debug(t,s,o,d,r,i,n,c,m,g,f,C,I,V,B,G,z,H,$,Y,W,j,q,K,Z,X,J,Q,ee,ae,te),e.app={appDbId:t,appId:s,appName:o,appTitle:d,appType:r,appCntId:i,appCntIdMaster:n,appCntSeqNr:c,appDatabase:m,appTable:g,appColumns:f,appQuery:C,appRelationTable:I,appRelationColumns:V,appRestApi:B,appAddToMenu:G,appMenuTitle:z,appMetaData:H,appLanguage:$,updateSiteLanguage:!1,fullScreen:Y??!0,safeMode:W??!1,appApps:j,registration:{message:q,showMessage:K??!1,url:Z??"",showUrl:X??!1,urlTime:J??3,allowUpdates:Q??!0},appChart:{cacheData:ee,updateValue:ae,updateUnit:te}}},unsetAppId:(e,a)=>{l.debug(e,a),e.app={appDbId:0,appId:"",appName:"",appTitle:"",appType:h.DATATABLE,appCntId:0,appCntIdMaster:null,appCntSeqNr:0,appDatabase:null,appTable:null,appColumns:[],appQuery:"",appRelationTable:null,appRelationColumns:[],appRestApi:{authorization:T.AUTHORIZED,authorized_roles:[],authorized_users:[]},appAddToMenu:!1,appMenuTitle:"",appMetaData:{},appLanguage:void 0,updateSiteLanguage:!1,fullScreen:!0,safeMode:!1,appApps:[],registration:{message:void 0,showMessage:!1,url:"",showUrl:!1,urlTime:3,allowUpdates:!0},appChart:{cacheData:!1,updateValue:12,updateUnit:"h"}}},setAppDatabase:(e,a)=>{l.debug(e,a);const{appDatabase:t}=a.payload;l.debug(t),e.app.appDatabase=t,e.app.appTable=null,e.app.appColumns=[]},setAppTable:(e,a)=>{l.debug(e,a);const{appTable:t}=a.payload;l.debug(t),e.app.appTable=t,e.app.appColumns=[]},setAppRelationTable:(e,a)=>{l.debug(e,a);const{appRelationTable:t}=a.payload;l.debug(t),e.app.appRelationTable=t,e.app.appRelationColumns=[]},setAppColumnsAndMetaData:(e,a)=>{l.debug(e,a);const{appColumns:t,appMetaData:s}=a.payload;l.debug(t,s),e.app.appColumns=t,e.app.appMetaData=s},setDesignMode:(e,a)=>{l.debug(e,a);const{isActive:t,appDbId:s}=a.payload;l.debug(t,s),e.designMode.isActive=t,e.designMode.appDbId=s},initRelationshipWizard:(e,a)=>{l.debug(e,a),e.relationshipWizard={cardinality:_.ONE_TO_MANY,title:"",dbs:"",tbl:"",cls:[],joins:"",sql:"",relationTbl:"",relationCls:[],relationJoins:"",relationSql:""}},setRegistration:(e,a)=>{l.debug(e,a);const{message:t,showMessage:s,url:o,showUrl:d,urlTime:r,allowUpdates:i}=a.payload;l.debug(t,s,o,d,r,i),e.app.registration={message:t,showMessage:s,url:o,showUrl:d,urlTime:r,allowUpdates:i}},setAppChartCaching:(e,a)=>{l.debug(e,a);const{cacheData:t,updateValue:s,updateUnit:o}=a.payload;l.debug(t,s,o),e.app.appChart={cacheData:t,updateValue:s,updateUnit:o}},setReload:(e,a)=>{l.debug(e,a),e.reload=!e.reload},setStateProperty:(e,a)=>{l.debug(e,a);const{property:t,propertyValue:s}=a.payload;e[t]=s},setAppProperty:(e,a)=>{l.debug(e,a);const{property:t}=a.payload;l.debug(t),e.app={...e.app,...t}}},selectors:{selectAppAppsList:e=>e.appApps}}),{setList:rl,setAppMetaData:il,setAppId:nl,unsetAppId:ul,setAppDatabase:cl,setAppTable:bl,setAppRelationTable:fl,setAppColumnsAndMetaData:gl,setDesignMode:ml,initRelationshipWizard:Al,setRegistration:Tl,setAppChartCaching:hl,setReload:Cl,setStateProperty:yl,setAppProperty:Sl}=Ue.actions,oa=Ue.reducer,Le=b({name:"appData",initialState:{},reducers:{addAppData:(e,a)=>{l.debug(e,a);const{appId:t,mode:s}=a.payload;e[t]={mode:s}},deleteAppData:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;delete e[t]}}}),{addAppData:Il,deleteAppData:vl}=Le.actions,da=Le.reducer,Re=b({name:"appApps",initialState:{},reducers:{addApp:(e,a)=>{l.debug(e,a);const{appId:t,apps:s,titles:o,appSettings:d}=a.payload;e[t]={apps:s,titles:o,appSettings:d,activeAppId:void 0}},deleteApp:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;delete e[t]},setAppActiveApp:(e,a)=>{l.debug(e,a);const{appId:t,activeAppId:s}=a.payload;e[t]!==void 0&&(e[t].activeAppId=s)}},selectors:{selectApps:(e,a)=>e[a]}}),{addApp:Ul,deleteApp:Ll,setAppActiveApp:Rl}=Re.actions,pa=Re.reducer,xe=b({name:"lookups",initialState:{},reducers:{addLookup:(e,a)=>{l.debug(e,a);const{appId:t,columnName:s,lookup:o}=a.payload;l.debug(t,s,o),e[t]===void 0?e[t]={[s]:o}:e[t][s]=o},addLookupValue:(e,a)=>{l.debug(e,a);const{appId:t,columnName:s,lookupValue:o}=a.payload;l.debug(t,s,o),e[t]===void 0?e[t]={[s]:{[o.key]:o.value}}:e[t][s]===void 0?e[t][s]={[o.key]:o.value}:e[t][s][o.key]=o.value},invalidateLookup:(e,a)=>{l.debug(e,a);const{appId:t,columnName:s}=a.payload;l.debug(t,s),e[t]&&e[t][s]&&delete e[t][s]},deleteLookups:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;l.debug(t),e[t]!==void 0&&delete e[t]}},selectors:{selectLookupValue:(e,a,t,s)=>{if(e[a]&&e[a][t]&&e[a][t][s])return e[a][t][s]}}}),{addLookup:xl,addLookupValue:Ol,invalidateLookup:wl,deleteLookups:Dl}=xe.actions,ra=xe.reducer,M={majorAxisColumn:"",minorAxisColumns:[],data:[],chartTypes:[],chartType:void 0,grouped:!1,options:{title:void 0,width:void 0,height:void 0,isStacked:!1,is3D:!1,showRowNumber:!0,legend:{position:"top",alignment:void 0,orientation:"horizontal"},hAxis:{title:"",viewWindow:{max:void 0,min:void 0}},vAxis:{title:"",viewWindow:{max:void 0,min:void 0}},chartArea:{top:"auto",right:"auto",bottom:"auto",left:"auto",width:"auto",height:"auto"},colors:void 0},docked:"undocked",userSettings:!0,enablePrinting:!1,height:400};Object.freeze(M);const ia=e=>(l.debug("initChartSlice",M,e),S({},M,e)),Oe=b({name:"charts",initialState:{},reducers:{initChart:(e,a)=>{l.debug(e,a);const{appId:t,chartState:s}=a.payload;l.debug(t,s),e[t]=ia(s)},rollbackChart:(e,a)=>{l.debug(e,a);const{appId:t,chartState:s}=a.payload;l.debug(t,s),e[t]=s},setChartProperty:(e,a)=>{l.debug(e,a);const{appId:t,property:s}=a.payload;if(l.debug(t,s),e[t]){const o=e[t];l.debug(t,s,o,{...o,...s}),e[t]={...o,...s}}},deleteChart:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;l.debug(t),delete e[t]}},selectors:{selectChart:(e,a)=>e[a]}}),{initChart:Nl,rollbackChart:Fl,setChartProperty:_l,deleteChart:Ml}=Oe.actions,na=Oe.reducer;var we=(e=>(e.LIGHT="light",e.DARK="dark",e))(we||{});const El={black:"#000",white:"#fff"},kl={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Pl={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Vl={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Bl={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},Gl={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},zl={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hl={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$l={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"},Yl={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"},Wl={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},jl={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"},ql={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"},Kl={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"},Zl={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},Xl={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Jl={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"},Ql={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"},ua={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},x={inheritFontFamily:!0,fontFamily:A.appPlugin?["inherit"]:["Roboto","Helvetica","Arial","sans-serif"],customFontFamily:"",fontSize:void 0,mode:we.LIGHT,color:ua,colorLabel:"grey",shade:"900",borderRadius:"4px",elevation:4,inputFontSize:1,inputFontSizeUnit:"rem",labelFontSize:1,labelFontSizeUnit:"rem",hintFontSize:.75,hintFontSizeUnit:"rem",useCustomColor:!1,customTextColor:"#000000",customContrastColor:"#ffffff"};Object.freeze(x);const ca=e=>(l.debug("initThemeSlice",x,e),S({},x,e)),De=b({name:"themes",initialState:{},reducers:{initTheme:(e,a)=>{l.debug(e,a);const{appId:t,themeState:s}=a.payload;e[t]=ca(s)},deleteTheme:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;delete e[t]},rollbackTheme:(e,a)=>{l.debug(e,a),a.payload},setThemeProperty:(e,a)=>{l.debug(e,a);const{appId:t,property:s}=a.payload;l.debug(t,s)}},selectors:{selectThemeById:(e,a)=>x}}),{initTheme:eo,deleteTheme:ao,rollbackTheme:to,setThemeProperty:so}=De.actions,ba=De.reducer,Ne=b({name:"lovs",initialState:{},reducers:{addLov:(e,a)=>{l.debug(e,a)},invalidateLov:(e,a)=>{l.debug(e,a)},deleteLovs:(e,a)=>{l.debug(e,a);const{appId:t}=a.payload;l.debug(t),e[t]!==void 0&&delete e[t]}}}),{addLov:lo,invalidateLov:oo,deleteLovs:po}=Ne.actions,fa=Ne.reducer,ga=Fe({reducer:{tables:Ye,forms:Ke,ui:Ze,explorer:ta,metaData:Xe,manager:la,apps:oa,appApps:pa,appData:da,lookups:ra,charts:na,lovs:fa,themes:ba}});export{ct as $,h as A,zl as B,A as C,Vl as D,kl as E,Hl as F,Wl as G,Xl as H,Tl as I,hl as J,R as K,ea as L,Cs as M,Te as N,pt as O,we as P,Dt as Q,T as R,ga as S,Ds as T,me as U,rs as V,nt as W,rt as X,is as Y,_ as Z,bs as _,he as a,Bs as a$,Je as a0,fe as a1,Wt as a2,$t as a3,Jt as a4,dl as a5,Il as a6,fs as a7,xs as a8,_l as a9,P as aA,xa as aB,dt as aC,Dl as aD,po as aE,ao as aF,es as aG,Ll as aH,vl as aI,Ml as aJ,wt as aK,xt as aL,je as aM,O as aN,Ys as aO,Ua as aP,ce as aQ,ps as aR,st as aS,Ie as aT,ns as aU,Ul as aV,La as aW,os as aX,lt as aY,ks as aZ,Ps as a_,Gl as aa,Pl as ab,Ql as ac,Yl as ad,Bl as ae,Jl as af,jl as ag,$l as ah,Zl as ai,ql as aj,Kl as ak,x as al,qt as am,Re as an,Qa as ao,Rl as ap,Oe as aq,De as ar,Kt as as,Fl as at,L as au,S as av,M as aw,Nl as ax,eo as ay,Qt as az,F as b,oo as b$,Vs as b0,Js as b1,Zs as b2,Xt as b3,Fs as b4,Ms as b5,Hs as b6,Gs as b7,js as b8,qs as b9,ue as bA,hs as bB,ys as bC,y as bD,ds as bE,aa as bF,As as bG,Ts as bH,Us as bI,vs as bJ,be as bK,E as bL,N as bM,Ja as bN,Ls as bO,xl as bP,ws as bQ,cs as bR,fl as bS,bl as bT,gl as bU,wa as bV,le as bW,Lt as bX,Rt as bY,et as bZ,wl as b_,Xs as ba,_s as bb,Qs as bc,Es as bd,$s as be,zs as bf,Ns as bg,Ks as bh,el as bi,ve as bj,al as bk,Qe as bl,Ra as bm,Yt as bn,zt as bo,ot as bp,jt as bq,ft as br,w as bs,tl as bt,sl as bu,ll as bv,ol as bw,xe as bx,Ol as by,ls as bz,Cl as c,Oa as c0,Sa as c1,Ia as c2,va as c3,ge as c4,Ht as c5,ut as c6,We as c7,bt as c8,at as c9,tt as ca,Os as cb,Ss as cc,ms as cd,Is as ce,gs as cf,it as cg,ml as d,nl as e,us as f,ts as g,Ue as h,k as i,oe as j,Sl as k,l,Rs as m,cl as n,pl as o,U as p,ss as q,yl as r,Zt as s,ye as t,ul as u,ya as v,rl as w,il as x,El as y,ua as z};
