import{j as r,l as e,e as m}from"./main-1.0.23.js";import{a as v}from"./TableQuery-1.0.23-dfe8ee93.js";import{F as f}from"./index.esm-1.0.23-ba0465a2.js";import{e as y}from"./ActionsDml-1.0.23-e3901c9d.js";import{T as R}from"./Tooltip-1.0.23-1b58a848.js";import{I as h}from"./iconBase-1.0.23-43ac6f06.js";import{B as x}from"./CardContent-1.0.23-cd3f2c87.js";import"./useStoreTable-1.0.23-508477d7.js";import"./RestApi-1.0.23-cc179eb9.js";import"./useTableCode-1.0.23-486afaea.js";import"./ConfirmDialog-1.0.23-f318040f.js";import"./AdminTheme-1.0.23-7044caf5.js";import"./Typography-1.0.23-19a0fd3e.js";import"./DialogContent-1.0.23-79893b13.js";import"./Modal-1.0.23-3fe42627.js";import"./SanitizeComponent-1.0.23-8b51bdfd.js";import"./purify.es-1.0.23-68816782.js";import"./index.esm-1.0.23-da98f1a9.js";import"./colorManipulator-1.0.23-e382be1d.js";import"./TableContainer-1.0.23-55f87dc7.js";import"./FallbackSpinner-1.0.23-96931408.js";import"./Spinner-1.0.23-90ab83ff.js";import"./ActionsSettings-1.0.23-a601e9bf.js";import"./TargetEnum-1.0.23-b82380d5.js";import"./ScopeEnum-1.0.23-7caf102d.js";import"./TabPanel-1.0.23-ecd53346.js";import"./Tabs-1.0.23-d047285a.js";import"./ThemeProvider-1.0.23-f3e5cbc1.js";import"./createSvgIcon-1.0.23-f9410a01.js";import"./useTheme-1.0.23-55aea9bb.js";/* empty css                        */import"./index.esm-1.0.23-4f58f177.js";import"./FormHelperText-1.0.23-83597bdf.js";import"./useFormControl-1.0.23-a0ae6ce7.js";import"./useControlled-1.0.23-1e71c28b.js";import"./FormControlLabel-1.0.23-1ad68af6.js";import"./createStyled-1.0.23-528f26c2.js";import"./TextField-1.0.23-1657e9d4.js";import"./FormLabel-1.0.23-71a056b2.js";import"./Menu-1.0.23-e889464a.js";import"./Popover-1.0.23-6c9c65a6.js";import"./Grow-1.0.23-40b2ff68.js";import"./MenuItem-1.0.23-0a5da249.js";import"./Collapse-1.0.23-a92fc278.js";import"./Radio-1.0.23-7006053b.js";import"./SwitchBase-1.0.23-adccc77c.js";import"./Checkbox-1.0.23-e63c68aa.js";import"./Autocomplete-1.0.23-a5bc1209.js";import"./Close-1.0.23-ea28bfa6.js";import"./index-1.0.23-9af490ae.js";import"./Popper-1.0.23-4a0d0616.js";import"./AlertTitle-1.0.23-db3e7867.js";import"./useSlot-1.0.23-b9d48820.js";import"./InputAdornment-1.0.23-4e3a41ab.js";import"./ListItemIcon-1.0.23-db4c6871.js";import"./Divider-1.0.23-d1a6ffad.js";import"./Switch-1.0.23-86b06b05.js";import"./TimePicker-1.0.23-d0b1e0ce.js";import"./useMobilePicker-1.0.23-d86c6ab1.js";import"./ListItem-1.0.23-64a79cf3.js";import"./date-time-utils-1.0.23-aa0087e0.js";import"./DateTimePicker-1.0.23-f93dd334.js";import"./dateViewRenderers-1.0.23-cded121c.js";import"./DatePicker-1.0.23-0abda5fe.js";import"./Slider-1.0.23-75ca4c04.js";import"./index.esm-1.0.23-3107c6b2.js";import"./useScreenSize-1.0.23-b1e8b94a.js";import"./ThemeContainer-1.0.23-10b65460.js";import"./index-1.0.23-8345d9bc.js";import"./AggregationLabelsEnum-1.0.23-30d037e3.js";const At=({appId:s,metaData:k,locale:c,appLanguage:o,componentWidth:j,refetch:l})=>{const i=v(s),d=Object.keys(i).length>0,u=()=>{let p=0;Object.keys(i).map(b=>{const a={...i[b]},n={};k.primary_key.map(t=>{n[t]=i[b][t],delete a[t]}),console.debug(a,n),y(s,n,a,t=>{if(e.debug(t),p++,t!=null&&t.code&&(t!=null&&t.message))switch(t.code){case"ok":m(o.updatedSuccessful,{variant:"success"});break;case"info":m(o.nothingToUpdate,{variant:"info"});break;default:e.error(t),m(t.message??o.invalidResponse,{variant:"error"})}else e.error(t),m(t.message??o.invalidResponse,{variant:"error"});p===Object.keys(i).length&&setTimeout(()=>{l()},500)},t=>{e.error("error",t),p++,m(t??o.invalidResponse,{variant:"error"}),p===Object.keys(i).length&&setTimeout(()=>{l()},500)})})};return j<900?r.jsx(R,{title:c.save,children:r.jsx(h,{disabled:!d,onClick:()=>{u()},children:r.jsx(f,{})})}):r.jsx(x,{disabled:!d,color:"primary",variant:"contained",onClick:()=>{u()},endIcon:r.jsx(f,{}),children:c.save})};export{At as default};
