const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableMap-1.0.41-ChoIIKbH.js","./main-1.0.41.js","./cm-1.0.41-DxZ4itL_.js","./redux-1.0.41-DJjpZqD1.js","./vendor-1.0.41-CN03Eozo.js","./notistack-1.0.41-Bq-EKqc7.js","./lib-1.0.41-DFdWuh_n.js","./loglevel-1.0.41-BZ7XahX3.js","./lodash-1.0.41-Cd8grAqB.js","./moment-1.0.41-C5S46NFB.js","./index-1.0.41-Wbyk3QBm.js","./index-1.0.41-Ca6zW1RM.js","./ConfirmDialog-1.0.41-NKESMhfW.js","./iconBase-1.0.41-BNQFQdHp.js","./Typography-1.0.41-BIN1Ddvh.js","./useEnhancedEffect-1.0.41-BVsyj6AW.js","./AdminTheme-1.0.41-4tiUoVeb.js","./index-1.0.41-CpXj521P.js","./Tooltip-1.0.41-g4uuOuci.js","./ThemeProvider-1.0.41-D1lNQgXT.js","./useControlled-1.0.41-BEhJe3xs.js","./Popper-1.0.41-Dl4_0sfD.js","./Menu-1.0.41-DBfdBNVU.js","./Spinner-1.0.41-fWZy8imI.js","./TableChart-1.0.41-BX-HiH8a.js","./ChartTypeSelection-1.0.41-yqUacsyw.js","./ChartTypes-1.0.41-D9WtxIbZ.js","./index-1.0.41-B2jO0d0P.js","./FormHelperText-1.0.41-BPSj83yP.js","./utils-1.0.41-iop7lDec.js","./useFormControl-1.0.41-1E9QEnRo.js","./TextField-1.0.41-CGPjmVeQ.js","./Select-1.0.41-aTzlc-HZ.js","./createSvgIcon-1.0.41-0lRWzB2Q.js","./FormLabel-1.0.41-CgxisugM.js","./MenuItem-1.0.41-DCc8qvzQ.js","./ListItemIcon-1.0.41-D1zPE5kJ.js","./Chart-1.0.41-ezidIvc3.js","./useChartSettings-1.0.41-B9jmOMx5.js","./useRemoveAppFromStore-1.0.41-CfqgzE5H.js","./lang-1.0.41-Bm0VdcRH.js","./hooks-1.0.41-sDnKeMy7.js","./useMetadata-1.0.41-DKmF8A3i.js","./TableChartSelection-1.0.41-RZ4txyIa.js","./useTableColumnOrder-1.0.41-BULSaVGM.js","./Autocomplete-1.0.41-82-5yXGC.js","./Close-1.0.41-Dkp5SdDZ.js","./Chip-1.0.41-C0GI7jZZ.js","./TableToolbarInlineEditingButton-1.0.41-BCBqlHNV.js","./TableQuery-1.0.41-C5L4ViN_.js","./useStoreTable-1.0.41-B5fmNNPS.js","./index-1.0.41-CAqb3AfW.js","./ActionsDml-1.0.41--r5h77NM.js","./RestApi-1.0.41-CZ_yORv3.js","./Tooltip-1.0.41-BQBkdKQ5.js","./Tooltip-1.0.41--D4jr2go.css","./SanitizeComponent-1.0.41-B18z6eJi.js","./dompurify-1.0.41-DhD2mIk-.js","./SharedContainer-1.0.41-ChmyKXs8.js","./useStoreFormSettings-1.0.41-6QwIhzSX.js","./useFormDetails-1.0.41-B5EIEVl2.js","./DynamicModeEnum-1.0.41-BXuL5kgA.js","./AppTheme-1.0.41-BMrYDtWL.js","./index-1.0.41-zQwWCc96.js","./getThemeProps-1.0.41-BXG_2HDV.js","./useScreenSize-1.0.41-B3FN-Ith.js","./dayjs.min-1.0.41-CD-l-E21.js","./FallbackSpinner-1.0.41-2QUzxGrn.js","./AlertDialog-1.0.41-BPsbbiwH.js","./SharedContainer-1.0.41-DR7D6eET.css","./tanstack-1.0.41-m5KXsrwn.js","./index.esm-1.0.41-Ko2zZhVm.js","./Stack-1.0.41-g2eT-h-q.js","./useThemeProps-1.0.41-BJkkrkB6.js","./Radio-1.0.41-S-npPzGQ.js","./SwitchBase-1.0.41-C_lqznV-.js","./Checkbox-1.0.41-C_619ZQC.js","./Collapse-1.0.41-QlMDtjRk.js","./AlertTitle-1.0.41-DjDM8Ttb.js","./InputAdornment-1.0.41-BaGp3m3T.js","./TableRow-1.0.41-CTJevnEe.js","./TableHead-1.0.41-R3d_gFkF.js","./Divider-1.0.41-CupjOoMR.js","./FormControlLabel-1.0.41-OBCouq3I.js","./Switch-1.0.41-BrkxB2Jy.js","./Slider-1.0.41-eJAQRlhH.js","./visuallyHidden-1.0.41-Dan1xhjv.js","./TimePicker-1.0.41-CdMSQWSE.js","./useMobilePicker-1.0.41-Bl-98x2q.js","./ListItem-1.0.41-CMjqURej.js","./timeViewRenderers-1.0.41-3MJVY4qK.js","./DateTimePicker-1.0.41-FGXdJ7he.js","./Tabs-1.0.41-C8-7orxg.js","./dateViewRenderers-1.0.41-Dd4MHWu8.js","./DatePicker-1.0.41-BRrjz6z9.js","./tab-1.0.41-DafQO3Rq.js","./TableContainer-1.0.41-BCfBk3XE.js","./ActionsSettings-1.0.41-3gFM2W6T.js","./TargetEnum-1.0.41-CIW1jlU5.js","./ScopeEnum-1.0.41-B4DDvIDj.js","./index-1.0.41-DGYaemnA.js","./BuilderMenu-1.0.41-CI6mFW4W.js","./useTableUpdater-1.0.41-B3-EY98i.js","./CardContent-1.0.41-Cwtu331C.js","./TabPanel-1.0.41-BJuUpIHA.js","./settings-1.0.41-Bx2jvYL6.css","./math-1.0.41-BQt3B2Pe.js","./AggregationLabelsEnum-1.0.41-B-3lhjpJ.js","./useTableCode-1.0.41-DiyDJHPf.js","./TableQuery-1.0.41-uJ6MlsKy.css"])))=>i.map(i=>d[i]);
import{_ as H}from"./main-1.0.41.js";import{j as t}from"./cm-1.0.41-DxZ4itL_.js";import{r as l}from"./redux-1.0.41-DJjpZqD1.js";import{l as d,v as ke,G as oe,bs as Re,as as Pe,bF as _e,ca as te,cr as Be}from"./lib-1.0.41-DFdWuh_n.js";import{G as Oe,M as Ne,o as Fe,P as Ae,a4 as Me}from"./index-1.0.41-CpXj521P.js";import{P as Ie,b as se,a as Ee}from"./index-1.0.41-Wbyk3QBm.js";import{q as ne,r as qe,s as Ve}from"./index-1.0.41-DGYaemnA.js";import{G as Je,j as ze,B as We,L as Ge}from"./jstoxml-1.0.41-Di389-xj.js";import{F as X}from"./FileSaver.min-1.0.41-CFZnymRv.js";import"./dompurify-1.0.41-DhD2mIk-.js";import{u as Ke,a as Xe,b as He}from"./TableQuery-1.0.41-C5L4ViN_.js";import{d as Qe}from"./ActionsDml-1.0.41--r5h77NM.js";import{B as J,C as Ue}from"./ConfirmDialog-1.0.41-NKESMhfW.js";import{e as V}from"./notistack-1.0.41-Bq-EKqc7.js";import{a as Ye}from"./hooks-1.0.41-sDnKeMy7.js";import{a as Ze}from"./useRemoveAppFromStore-1.0.41-CfqgzE5H.js";import{a as $e}from"./AppTheme-1.0.41-BMrYDtWL.js";import{u as ie}from"./index-1.0.41-zQwWCc96.js";import{B as v}from"./Spinner-1.0.41-fWZy8imI.js";import{I as E}from"./iconBase-1.0.41-BNQFQdHp.js";import{F as ue}from"./FormHelperText-1.0.41-BPSj83yP.js";import{A as Le}from"./Autocomplete-1.0.41-82-5yXGC.js";import{C as De}from"./Chip-1.0.41-C0GI7jZZ.js";import{T as er}from"./TextField-1.0.41-CGPjmVeQ.js";import{T as z}from"./Tooltip-1.0.41-g4uuOuci.js";import{P as rr}from"./Menu-1.0.41-DBfdBNVU.js";import{F as le}from"./FormLabel-1.0.41-CgxisugM.js";import{F as R}from"./FormControlLabel-1.0.41-OBCouq3I.js";import{C as or}from"./Checkbox-1.0.41-C_619ZQC.js";import{R as tr}from"./RadioGroup-1.0.41-BzP_AWOa.js";import{R as N}from"./Radio-1.0.41-S-npPzGQ.js";import{R as ce}from"./SharedContainer-1.0.41-ChmyKXs8.js";import{F as de}from"./FallbackSpinner-1.0.41-2QUzxGrn.js";import"./moment-1.0.41-C5S46NFB.js";import"./vendor-1.0.41-CN03Eozo.js";import"./loglevel-1.0.41-BZ7XahX3.js";import"./lodash-1.0.41-Cd8grAqB.js";import"./Typography-1.0.41-BIN1Ddvh.js";import"./useEnhancedEffect-1.0.41-BVsyj6AW.js";import"./index-1.0.41-Ca6zW1RM.js";import"./jstoxml-1.0.41-DkGlThlH.js";import"./useStoreTable-1.0.41-B5fmNNPS.js";import"./index-1.0.41-CAqb3AfW.js";import"./Tooltip-1.0.41-BQBkdKQ5.js";import"./SanitizeComponent-1.0.41-B18z6eJi.js";import"./index-1.0.41-B2jO0d0P.js";import"./tanstack-1.0.41-m5KXsrwn.js";import"./index.esm-1.0.41-Ko2zZhVm.js";import"./createSvgIcon-1.0.41-0lRWzB2Q.js";import"./Stack-1.0.41-g2eT-h-q.js";import"./useThemeProps-1.0.41-BJkkrkB6.js";import"./getThemeProps-1.0.41-BXG_2HDV.js";import"./Collapse-1.0.41-QlMDtjRk.js";import"./AlertTitle-1.0.41-DjDM8Ttb.js";import"./Close-1.0.41-Dkp5SdDZ.js";import"./InputAdornment-1.0.41-BaGp3m3T.js";import"./useFormControl-1.0.41-1E9QEnRo.js";import"./Select-1.0.41-aTzlc-HZ.js";import"./utils-1.0.41-iop7lDec.js";import"./useControlled-1.0.41-BEhJe3xs.js";import"./MenuItem-1.0.41-DCc8qvzQ.js";import"./ThemeProvider-1.0.41-D1lNQgXT.js";import"./TableRow-1.0.41-CTJevnEe.js";import"./ListItemIcon-1.0.41-D1zPE5kJ.js";import"./TableHead-1.0.41-R3d_gFkF.js";import"./Divider-1.0.41-CupjOoMR.js";import"./Switch-1.0.41-BrkxB2Jy.js";import"./SwitchBase-1.0.41-C_lqznV-.js";import"./Slider-1.0.41-eJAQRlhH.js";import"./visuallyHidden-1.0.41-Dan1xhjv.js";import"./TimePicker-1.0.41-CdMSQWSE.js";import"./useMobilePicker-1.0.41-Bl-98x2q.js";import"./Popper-1.0.41-Dl4_0sfD.js";import"./ListItem-1.0.41-CMjqURej.js";import"./timeViewRenderers-1.0.41-3MJVY4qK.js";import"./DateTimePicker-1.0.41-FGXdJ7he.js";import"./Tabs-1.0.41-C8-7orxg.js";import"./dateViewRenderers-1.0.41-Dd4MHWu8.js";import"./DatePicker-1.0.41-BRrjz6z9.js";import"./lang-1.0.41-Bm0VdcRH.js";import"./RestApi-1.0.41-CZ_yORv3.js";import"./tab-1.0.41-DafQO3Rq.js";import"./TableContainer-1.0.41-BCfBk3XE.js";import"./AdminTheme-1.0.41-4tiUoVeb.js";import"./ActionsSettings-1.0.41-3gFM2W6T.js";import"./TargetEnum-1.0.41-CIW1jlU5.js";import"./ScopeEnum-1.0.41-B4DDvIDj.js";import"./BuilderMenu-1.0.41-CI6mFW4W.js";import"./useTableUpdater-1.0.41-B3-EY98i.js";import"./DynamicModeEnum-1.0.41-BXuL5kgA.js";import"./useFormDetails-1.0.41-B5EIEVl2.js";/* empty css                        */import"./CardContent-1.0.41-Cwtu331C.js";import"./TabPanel-1.0.41-BJuUpIHA.js";import"./useScreenSize-1.0.41-B3FN-Ith.js";import"./useChartSettings-1.0.41-B9jmOMx5.js";import"./math-1.0.41-BQt3B2Pe.js";import"./AggregationLabelsEnum-1.0.41-B-3lhjpJ.js";import"./useTableCode-1.0.41-DiyDJHPf.js";import"./useStoreFormSettings-1.0.41-6QwIhzSX.js";import"./useTableColumnOrder-1.0.41-BULSaVGM.js";import"./useMetadata-1.0.41-DKmF8A3i.js";import"./dayjs.min-1.0.41-CD-l-E21.js";import"./AlertDialog-1.0.41-BPsbbiwH.js";const sr=({openSelection:C,setOpenSelection:m,appLanguage:s,columnLabels:f,availableColumns:w,selectedColumns:i,setSelectedColumns:x})=>{const P=ie("(max-width:900px)"),S=ie("(max-width:600px)");return t.jsx(Oe,{open:C,onClose:()=>{m(!1)},children:t.jsxs(v,{sx:{position:"absolute",top:"25%",left:"50%",transform:"translate(-50%, -50%)",width:S?"80vw":P?"70vw":"60vw",maxWidth:"700px",bgcolor:"background.paper",boxShadow:24,borderRadius:"4px",p:4},children:[t.jsxs(v,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"-20px"},children:[t.jsx("h3",{children:s.selectFromList}),t.jsx(E,{onClick:()=>{m(!1)},children:t.jsx(Ne,{})})]}),t.jsx(ue,{fullWidth:!0,children:t.jsx(Le,{multiple:!0,options:w,value:i,disableCloseOnSelect:!0,getOptionLabel:a=>f[a],onChange:(a,_)=>{x(_),a.stopPropagation()},renderInput:a=>t.jsx(er,{...a}),renderTags:(a,_)=>a.map((b,F)=>{const{key:j,...T}=_({index:F});return t.jsx(De,{variant:"outlined",label:f[b],...T},j)})})})]})})},nr=({table:C,appId:m,metaData:s,bulkActions:f,tableStore:w,appLanguage:i,locale:x,refetch:P,componentWidth:S,aggregates:a,toggleAllRows:_})=>{d.debug(m,s,f);const b=Ye(),F=w.table,j=w.columns;Ze(m),Ke(m);const[T]=l.useState(w.table.clientSideProcessing),A=o=>{var e,r,n;for(let c=0;c<((e=s==null?void 0:s.columns)==null?void 0:e.length);c++)if(((r=s==null?void 0:s.columns[c])==null?void 0:r.column_name)===o)return(n=s==null?void 0:s.columns[c])==null?void 0:n.data_type;return"varchar"},W=o=>{var e,r,n;for(let c=0;c<((e=s==null?void 0:s.columns)==null?void 0:e.length);c++)if(((r=s==null?void 0:s.columns[c])==null?void 0:r.column_name)===o)return(n=s==null?void 0:s.columns[c])==null?void 0:n.column_type;return null},Q=o=>M.map(e=>{const r={};for(let n=0;n<p.length;n++)e[h[p[n]]]===null?o==="csv"?r[h[p[n]]]="":r[h[p[n]]]=null:te(A(p[n]))==="number"?r[h[p[n]]]=Number(e[h[p[n]]]):r[h[p[n]]]=e[h[p[n]]];return r}),q=()=>{var o,e,r;return(o=s==null?void 0:s.src)!=null&&o.app_id?"ppBulkAction-"+s.src.app_id+"-"+s.src.cnt_id:(e=s==null?void 0:s.src)!=null&&e.dbs&&((r=s==null?void 0:s.src)!=null&&r.tbl)?"ppBulkAction-"+s.src.dbs+"-"+s.src.tbl:null},[dr,ur]=l.useState(()=>{try{const o=localStorage.getItem("ppBulkAction-pdforientation");if(o!==null)return o}catch(o){d.debug(o)}return"landscape"}),[pr,mr]=l.useState(()=>{try{const o=localStorage.getItem("ppBulkAction-pdfstyle");if(o!==null)return o}catch(o){d.debug(o)}return"striped"}),[fr,xr]=l.useState(()=>{try{const o=localStorage.getItem("ppBulkAction-poweredBy");if(o!==null)return o==="true"}catch(o){d.debug(o)}return!1});let U="csv";f.select!==void 0&&(U="select");const[u,pe]=l.useState(U),[me,Y]=l.useState(!1),fe=l.useMemo(()=>ke(),[]),g=Xe(m),B=l.useMemo(()=>{const o={};return j.filter(e=>e.lookup!==void 0&&g!==void 0&&g[e.columnName]!==void 0).map(e=>{var r;if(g!==void 0&&g[e.columnName]!==void 0){const n=[];for(const c in g[e.columnName]){const K={key:c,value:Array.isArray(g[e.columnName][c])?g[e.columnName][c].join((r=e.lookup)==null?void 0:r.delimiter):g[e.columnName][c]};n.push(K)}o[e.columnName]=n}}),o},[g,j]);d.debug("lookupColumns",B);const O=l.useMemo(()=>{const o={};return j.filter(e=>e.computedField!==void 0).map(e=>{o[e.columnName]=e.computedField}),o},[j]);d.debug(O);const h=l.useMemo(()=>{const o={};return j.map(e=>{O[e.columnName]?o[e.columnName]=O[e.columnName].label:o[e.columnName]=e.columnLabel}),o},[O,j]);d.debug(h);const xe=(o,e)=>{if(B!==void 0&&B[o]!==void 0){const r=B[o].filter(n=>n.key===e);if(Array.isArray(r)&&r.length===1)return r[0].value}return e},G=C.getAllColumns(),y=C.getSelectedRowModel().rows,k=l.useMemo(()=>G.filter(o=>o.id!=="mrt-row-actions"&&o.id!=="mrt-row-select"&&o.id!=="mrt-row-expand").map(o=>o.id),[]);d.debug(k);const Z=l.useMemo(()=>k.map(o=>{const e=W(o);if(e===null)return 20;if(e.indexOf("(")!==-1){let r=e.substring(e.indexOf("(")+1);return r.indexOf(")")!==-1&&(r=r.substring(0,r.indexOf(")"))),r.indexOf(".")!==-1&&(r=r.substring(0,r.indexOf("."))),r.indexOf(",")!==-1&&(r=r.substring(0,r.indexOf(","))),Number(r)}return null}),[k]);d.debug(Z);const[$,ar]=l.useState(()=>{const o=q();if(o!==null)try{const e=localStorage.getItem(o+"-wrapped-columns");if(e!==null)return JSON.parse(e)}catch(e){d.debug(e)}return k.filter((e,r)=>(Z[r]??99)<=20)});d.debug($);const L=l.useMemo(()=>{const o=q();if(o!==null)try{const e=localStorage.getItem(o);if(e!==null)return JSON.parse(e)}catch(e){d.debug(e)}return k},[k]);d.debug(L);const[p,ae]=l.useState(L);d.debug(p);const M=y.map(o=>{const e={};return G.map(r=>{r.id!=="mrt-row-actions"&&r.id!=="mrt-row-select"&&r.id!=="mrt-row-expand"&&(B!==void 0&&B[r.id]!==void 0?e[h[r.id]]=xe(r.id,o.getValue(r.id)):O[r.id]||(e[h[r.id]]=o.getValue(r.id)))}),e});d.debug(M);const D=y.map(o=>{const e={};return G.map(r=>{r.id!=="mrt-row-actions"&&r.id!=="mrt-row-select"&&r.id!=="mrt-row-expand"&&O[r.id]===void 0&&(e[r.id]=o.getValue(r.id))}),e});d.debug(D);const I=()=>{var o,e;return(s==null?void 0:s.src)===void 0?m:s.src.app_id&&((e=(o=s==null?void 0:s.app)==null?void 0:o.app[0])==null?void 0:e.app_title)!==""?s.app.app[0].app_title:s.src.dbs?s.src.tbl:m},ee=Je({filename:I(),fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),[be,br]=l.useState(()=>{const o=q();if(o!==null)try{const e=localStorage.getItem(o+"-pdf-title");if(e!==null)return e}catch(e){d.debug(e)}return I()});d.debug("pdfTitle",be);const he=async()=>{},je=()=>{const o=We(ee)(Q("csv"));Ge(ee)(o)},ge=()=>{X(new Blob([JSON.stringify(Q("json"))],{type:"text/json;charset=utf-8"}),I()+".json")};l.useRef();const we=()=>{const o=y.map(r=>{const n={};for(let c=0;c<p.length;c++)r.original[p[c]]!==void 0&&(n[p[c]]=r.original[p[c]]??"");return{row:n}}),e=ze.toXML({table:o});X(new Blob([e],{type:"text/plain;charset=utf-8"}),I()+".xml")},ye=()=>{const o=_e(m);d.debug(o);let e="insert into "+o.tbl+" (";Object.keys(y[0].original).map(r=>{e+=r+","}),e=e.slice(0,-1)+") values ";for(let r=0;r<M.length;r++){const n=M[r];e+="(";for(const c in n){const K=te(A(c));n[c]===null?e+="null,":K==="number"?e+=n[c]+",":e+="'"+n[c]+"',"}e=e.slice(0,-1),e+="),"}e=e.slice(0,-1)+`;
`,X(new Blob([e],{type:"text/plain;charset=utf-8"}),I()+".sql")},ve=()=>{b(oe({appId:m,property:{isRowCountUpdated:!0}}));for(let o=0;o<M.length;o++){const e=Be(s,D[o]);Qe(m,e,r=>{if(r!=null&&r.code&&(r!=null&&r.message))switch(r.code){case"ok":V(i.deletedSuccessful,{variant:"success"}),P();break;default:d.error(r),V(r.message??i.invalidResponse,{variant:"error"})}else d.error(r),V(i.invalidResponse,{variant:"error"})},r=>{d.error("error",r),V(r??i.invalidResponse,{variant:"error"})})}C.setRowSelection({})},Ce=()=>null,Se=()=>null,[hr,jr]=l.useState(0),[gr,wr]=l.useState(0),[Te,re]=l.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Ie,{variant:"popover",popupId:fe,children:o=>{var e;return t.jsxs(t.Fragment,{children:[S<900?t.jsx(z,{title:i.bulkActions,children:t.jsx(E,{...se(o),children:t.jsx(ne,{})})}):t.jsx(J,{variant:"contained",endIcon:t.jsx(ne,{}),...se(o),children:i.bulkActions}),w.state.relTab===!0&&t.jsx(J,{variant:"contained",startIcon:t.jsx(Fe,{}),sx:{marginLeft:"10px"},onClick:()=>{b(oe({appId:m,property:{isRelTabOpen:!1}}))},children:i.back}),t.jsx(rr,{...Ee(o),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)"},children:t.jsxs(v,{sx:{display:"grid",gap:"20px",padding:"20px"},children:[T===!0?t.jsx(t.Fragment,{children:y.length===0&&t.jsxs(v,{sx:{textAlign:"center",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[t.jsx(le,{sx:{textAlign:"center"},children:i.noRowsSelected}),t.jsx(ue,{children:t.jsx(R,{control:t.jsx(or,{className:"pp-checkbox",checked:y.length>0,onChange:()=>{_()}}),label:t.jsx(v,{sx:{display:"flex",alignItems:"center"},children:i.selectAll})})})]})}):t.jsx(t.Fragment,{children:y.length===0&&t.jsx(v,{sx:{textAlign:"center"},children:t.jsx(le,{children:i.noRowsSelected})})}),t.jsxs(tr,{value:u,onChange:(r,n)=>{pe(n),r.stopPropagation()},children:[Ce(),f.csv&&t.jsx(R,{value:"csv",label:i.exportToCsv,control:t.jsx(N,{})}),f.json&&t.jsx(R,{value:"json",label:i.exportToJson,control:t.jsx(N,{})}),Se(),f.xml&&t.jsx(R,{value:"xml",label:i.exportToXml,control:t.jsx(N,{})}),f.sql&&!Re(m)&&t.jsx(R,{value:"sql",label:i.exportToSql,control:t.jsx(N,{})}),((e=s==null?void 0:s.privs)==null?void 0:e.delete)&&!Pe(s)&&(f==null?void 0:f.delete)===!0&&F.transactions.delete&&t.jsx(R,{value:"delete",label:i.deletePermanently,control:t.jsx(N,{})}),(f.select??!1)&&t.jsx(R,{value:"select",label:i.addSelectedRow,control:t.jsx(N,{})})]}),t.jsxs(v,{sx:{display:"grid",gridTemplateColumns:u==="pdf"||u==="csv"||u==="json"||u==="excel"||u==="xml"?"1fr auto":"1fr",gap:"10px"},children:[t.jsx(J,{variant:"contained",onClick:()=>{if(u==="pdf"||u==="csv"||u==="json"||u==="excel"||u==="xml"){const r=q();if(r!==null)try{localStorage.setItem(r,JSON.stringify(p)),localStorage.setItem(r+"-wrapped-columns",JSON.stringify($))}catch(n){d.debug(n)}}switch(u){case"pdf":he();break;case"csv":je();break;case"json":ge();break;case"excel":break;case"xml":we();break;case"sql":ye();break;case"delete":Y(!0);break}},disabled:y.length===0||(u==="pdf"||u==="csv"||u==="json"||u==="excel"||u==="xml")&&(p==null?void 0:p.length)===0,children:i.apply}),(u==="pdf"||u==="csv"||u==="json"||u==="excel"||u==="xml")&&t.jsx(z,{title:x.showHideColumns,children:t.jsx(E,{onClick:()=>{re(!0)},children:t.jsx(Ae,{})})})]})]})})]})}}),t.jsx(Ue,{title:i.deleteRowsTitle,message:i.deleteRowsMessage,open:me,setOpen:Y,onConfirm:()=>{ve()},theme:$e}),t.jsx(sr,{openSelection:Te,setOpenSelection:re,appLanguage:i,columnLabels:h,availableColumns:k,selectedColumns:p,setSelectedColumns:ae})]})},ir=l.lazy(()=>H(()=>import("./TableMap-1.0.41-ChoIIKbH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url)),lr=l.lazy(()=>H(()=>import("./TableChart-1.0.41-BX-HiH8a.js"),__vite__mapDeps([24,2,3,4,10,11,12,13,14,6,7,8,9,15,16,17,5,25,26,27,28,29,30,31,32,22,19,20,33,34,35,36,37,1,38,39,40,41,23,18,21,42,43,44,45,46,47]),import.meta.url)),cr=l.lazy(()=>H(()=>import("./TableToolbarInlineEditingButton-1.0.41-BCBqlHNV.js"),__vite__mapDeps([48,2,3,4,49,1,5,6,7,8,9,50,41,51,17,13,14,15,52,53,54,55,56,57,27,58,23,16,42,38,39,40,59,60,61,62,63,64,65,12,66,19,67,68,18,20,21,69,70,71,33,72,73,74,75,30,76,22,47,77,78,46,31,32,29,34,28,79,35,80,36,81,82,83,84,45,85,86,87,88,11,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,44,109]),import.meta.url)),jt=({table:C,metaData:m,appId:s,bulkActions:f,hasBulkActions:w,tableStore:i,appLanguage:x,locale:P,refetch:S,showForm:a,appSettings:_,componentWidth:b,aggregates:F,toggleAllRows:j})=>{var A;const T=i.table;return He(s),t.jsxs(v,{sx:{display:"flex",flexWrap:"nowrap",gap:b<600?"0":"8px",alignItems:"center",whiteSpace:"nowrap"},className:"pp-toolbar-buttons",children:[t.jsx(z,{arrow:!0,title:x.refresh,className:"ppToolbarRefreshIcon",children:t.jsx(E,{onClick:()=>S(),children:t.jsx(Me,{})})}),((A=T==null?void 0:T.transactions)==null?void 0:A.insert)&&t.jsx(t.Fragment,{children:b<900?t.jsx(z,{title:x.newRow,children:t.jsx(E,{onClick:()=>{a(null,ce.INSERT)},children:t.jsx(qe,{})})}):t.jsx(J,{variant:"contained",startIcon:t.jsx(Ve,{}),onClick:()=>{a(null,ce.INSERT)},children:x.newRow})}),w&&t.jsx(nr,{table:C,appId:s,metaData:m,bulkActions:f,tableStore:i,appLanguage:x,locale:P,refetch:S,componentWidth:b,aggregates:F,toggleAllRows:j}),i.table.maps.enabled&&!0&&t.jsx(l.Suspense,{children:t.jsx(ir,{appId:s,componentWidth:b,tableStore:i,appLanguage:x})}),i.table.charts.enabled===!0&&(i.table.charts.interactive===!0||!0)&&t.jsx(l.Suspense,{fallback:t.jsx(de,{}),children:t.jsx(lr,{appId:s,componentWidth:b,tableStore:i,metaData:m,appLanguage:x})}),i.table.inlineEditing.addColumnButton===!1&&i.columns.filter(W=>W.inlineEditing===!0).length>0&&t.jsx(l.Suspense,{fallback:t.jsx(de,{}),children:t.jsx(cr,{appId:s,metaData:m,locale:P,appLanguage:x,componentWidth:b,refetch:S})}),!1]})};export{jt as default};
