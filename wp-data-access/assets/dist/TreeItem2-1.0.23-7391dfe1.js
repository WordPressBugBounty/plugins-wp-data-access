import{b as r,i as C,m as N,_ as A,c as _,n as z}from"./Typography-1.0.23-19a0fd3e.js";import{j as y,r as U}from"./main-1.0.23.js";import{s as V}from"./createStyled-1.0.23-528f26c2.js";import{u as $,T as W,a as q,t as J,b as Q,g as X}from"./TreeItem2Provider-1.0.23-9f893bc1.js";import{C as Y}from"./Collapse-1.0.23-a92fc278.js";import{u as Z,g as b,r as B}from"./iconBase-1.0.23-43ac6f06.js";import{H as T}from"./index.esm-1.0.23-ba0465a2.js";import{a as R}from"./colorManipulator-1.0.23-e382be1d.js";const me=["global"],h=({itemId:e,children:n})=>{const{instance:a,selection:{multiSelect:u}}=$(),i={expandable:!!(Array.isArray(n)?n.length:n),expanded:a.isItemExpanded(e),focused:a.isItemFocused(e),selected:a.isItemSelected(e),disabled:a.isItemDisabled(e)};return{interactions:{handleExpansion:s=>{if(i.disabled)return;i.focused||a.focusItem(s,e);const p=u&&(s.shiftKey||s.ctrlKey||s.metaKey);i.expandable&&!(p&&a.isItemExpanded(e))&&a.toggleItemExpansion(s,e)},handleSelection:s=>{if(i.disabled)return;i.focused||a.focusItem(s,e),u&&(s.shiftKey||s.ctrlKey||s.metaKey)?s.shiftKey?a.selectRange(s,{end:e}):a.selectItem(s,e,!0):a.selectItem(s,e)}},status:i}},H=e=>{const{runItemPlugins:n,selection:{multiSelect:a},disabledItemsFocusable:u,instance:i,publicAPI:x}=$(),{id:I,itemId:c,label:s,children:p,rootRef:f}=e,{rootRef:w,contentRef:E}=n(e),{interactions:P,status:d}=h({itemId:c,children:p}),K=i.getTreeItemId(c,I),S=Z(f,w),m=t=>o=>{var G;if((G=t.onFocus)==null||G.call(t,o),o.defaultMuiPrevented)return;const l=!d.disabled||u;!d.focused&&l&&o.currentTarget===o.target&&i.focusItem(o,c)},k=t=>o=>{var l;(l=t.onBlur)==null||l.call(t,o),!o.defaultMuiPrevented&&i.removeFocusedItem()},g=t=>o=>{var l;(l=t.onKeyDown)==null||l.call(t,o),!o.defaultMuiPrevented&&i.handleItemKeyDown(o,c)},v=t=>o=>{var l;(l=t.onClick)==null||l.call(t,o),!o.defaultMuiPrevented&&(P.handleExpansion(o),P.handleSelection(o))},M=t=>o=>{var l;(l=t.onMouseDown)==null||l.call(t,o),!o.defaultMuiPrevented&&(o.shiftKey||o.ctrlKey||o.metaKey||d.disabled)&&o.preventDefault()};return{getRootProps:(t={})=>{const o=r({},b(e),b(t));let l;return a?l=d.selected:d.selected&&(l=!0),r({},o,{ref:S,role:"treeitem",tabIndex:i.canItemBeTabbed(c)?0:-1,id:K,"aria-expanded":d.expandable?d.expanded:void 0,"aria-selected":l,"aria-disabled":d.disabled||void 0},t,{onFocus:m(o),onBlur:k(o),onKeyDown:g(o)})},getContentProps:(t={})=>{const o=r({},b(e),b(t));return r({},o,t,{ref:E,onClick:v(o),onMouseDown:M(o),status:d})},getGroupTransitionProps:(t={})=>{const o=r({},b(e),b(t));return r({},o,{unmountOnExit:!0,component:"ul",role:"group",in:d.expanded,children:p},t)},getIconContainerProps:(t={})=>{const o=r({},b(e),b(t));return r({},o,t)},getLabelProps:(t={})=>{const o=r({},b(e),b(t));return r({},o,{children:s},t)},rootRef:S,status:d,publicAPI:x}};function ee(e){const{slots:n,slotProps:a,status:u}=e,i=$(),x=r({},i.icons.slots,{expandIcon:i.icons.slots.expandIcon??W,collapseIcon:i.icons.slots.collapseIcon??q}),I=i.icons.slotProps;let c;n!=null&&n.icon?c="icon":u.expandable?u.expanded?c="collapseIcon":c="expandIcon":c="endIcon";const s=(n==null?void 0:n[c])??x[c],p=T({elementType:s,externalSlotProps:f=>r({},B(I[c],f),B(a==null?void 0:a[c],f)),ownerState:{}});return s?y.jsx(s,r({},p)):null}const oe=["id","itemId","label","disabled","children","slots","slotProps"],te=C("li",{name:"MuiTreeItem2",slot:"Root",overridesResolver:(e,n)=>n.root})({listStyle:"none",margin:0,padding:0,outline:0}),ne=C("div",{name:"MuiTreeItem2",slot:"Content",overridesResolver:(e,n)=>n.content,shouldForwardProp:e=>V(e)&&e!=="status"})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`& .${J.groupTransition}`]:{margin:0,padding:0,paddingLeft:12},variants:[{props:({status:n})=>n.disabled,style:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"}},{props:({status:n})=>n.focused,style:{backgroundColor:(e.vars||e).palette.action.focus}},{props:({status:n})=>n.selected,style:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:R(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:R(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:R(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},{props:({status:n})=>n.selected&&n.focused,style:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:R(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}]})),se=C("div",{name:"MuiTreeItem2",slot:"Label",overridesResolver:(e,n)=>n.label})(({theme:e})=>r({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)),ae=C("div",{name:"MuiTreeItem2",slot:"IconContainer",overridesResolver:(e,n)=>n.iconContainer})({width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}}),re=C(Y,{name:"MuiTreeItem2GroupTransition",slot:"GroupTransition",overridesResolver:(e,n)=>n.groupTransition})({margin:0,padding:0,paddingLeft:12}),ie=e=>{const{classes:n}=e;return z({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],groupTransition:["groupTransition"]},X,n)},ye=U.forwardRef(function(n,a){const u=N({props:n,name:"MuiTreeItem2"}),{id:i,itemId:x,label:I,disabled:c,children:s,slots:p={},slotProps:f={}}=u,w=A(u,oe),{getRootProps:E,getContentProps:P,getIconContainerProps:d,getLabelProps:K,getGroupTransitionProps:S,status:m}=H({id:i,itemId:x,children:s,label:I,disabled:c}),k=r({},u,m),g=ie(k),v=p.root??te,M=T({elementType:v,getSlotProps:E,externalForwardedProps:w,externalSlotProps:f.root,additionalProps:{ref:a},ownerState:{},className:g.root}),O=p.content??ne,D=T({elementType:O,getSlotProps:P,externalSlotProps:f.content,ownerState:{},className:_(g.content,m.expanded&&g.expanded,m.selected&&g.selected,m.focused&&g.focused,m.disabled&&g.disabled)}),j=p.iconContainer??ae,L=T({elementType:j,getSlotProps:d,externalSlotProps:f.iconContainer,ownerState:{},className:g.iconContainer}),F=p.label??se,t=T({elementType:F,getSlotProps:K,externalSlotProps:f.label,ownerState:{},className:g.label}),o=p.groupTransition??void 0,l=T({elementType:o,getSlotProps:S,externalSlotProps:f.groupTransition,ownerState:{},className:g.groupTransition});return y.jsx(Q,{itemId:x,children:y.jsxs(v,r({},M,{children:[y.jsxs(O,r({},D,{children:[y.jsx(j,r({},L,{children:y.jsx(ee,{status:m,slots:p,slotProps:f})})),y.jsx(F,r({},t))]})),s&&y.jsx(re,r({as:o},l))]}))})});export{ye as T,me as g};
