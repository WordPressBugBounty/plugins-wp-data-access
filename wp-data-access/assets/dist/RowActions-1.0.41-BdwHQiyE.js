import{j as r}from"./cm-1.0.41-DxZ4itL_.js";import{m as b,aL as B,k as U}from"./index-1.0.41-CpXj521P.js";import{a as q}from"./hooks-1.0.41-sDnKeMy7.js";import{l,as as P,cn as c,be as w,G}from"./lib-1.0.41-DFdWuh_n.js";import{R as A}from"./SharedContainer-1.0.41-ChmyKXs8.js";import{C as K}from"./ConfirmDialog-1.0.41-NKESMhfW.js";import{r as S}from"./redux-1.0.41-DJjpZqD1.js";import{d as W}from"./ActionsDml-1.0.41--r5h77NM.js";import{e as p}from"./notistack-1.0.41-Bq-EKqc7.js";import{a as F}from"./AppTheme-1.0.41-BMrYDtWL.js";import{B as H}from"./Spinner-1.0.41-fWZy8imI.js";import{C as J}from"./Checkbox-1.0.41-C_619ZQC.js";import{T as f}from"./Tooltip-1.0.41-g4uuOuci.js";import{I as x}from"./iconBase-1.0.41-BNQFQdHp.js";import"./vendor-1.0.41-CN03Eozo.js";import"./Typography-1.0.41-BIN1Ddvh.js";import"./useEnhancedEffect-1.0.41-BVsyj6AW.js";import"./loglevel-1.0.41-BZ7XahX3.js";import"./lodash-1.0.41-Cd8grAqB.js";import"./moment-1.0.41-C5S46NFB.js";import"./main-1.0.41.js";import"./AdminTheme-1.0.41-4tiUoVeb.js";import"./useStoreTable-1.0.41-B5fmNNPS.js";import"./useMetadata-1.0.41-DKmF8A3i.js";import"./useChartSettings-1.0.41-B9jmOMx5.js";import"./useRemoveAppFromStore-1.0.41-CfqgzE5H.js";import"./lang-1.0.41-Bm0VdcRH.js";import"./useStoreFormSettings-1.0.41-6QwIhzSX.js";import"./useFormDetails-1.0.41-B5EIEVl2.js";import"./DynamicModeEnum-1.0.41-BXuL5kgA.js";import"./useScreenSize-1.0.41-B3FN-Ith.js";import"./dompurify-1.0.41-DhD2mIk-.js";import"./dayjs.min-1.0.41-CD-l-E21.js";import"./ThemeProvider-1.0.41-D1lNQgXT.js";import"./FallbackSpinner-1.0.41-2QUzxGrn.js";import"./AlertDialog-1.0.41-BPsbbiwH.js";import"./SanitizeComponent-1.0.41-B18z6eJi.js";import"./RestApi-1.0.41-CZ_yORv3.js";import"./index-1.0.41-zQwWCc96.js";import"./getThemeProps-1.0.41-BXG_2HDV.js";import"./SwitchBase-1.0.41-C_lqznV-.js";import"./useFormControl-1.0.41-1E9QEnRo.js";import"./useControlled-1.0.41-BEhJe3xs.js";import"./createSvgIcon-1.0.41-0lRWzB2Q.js";import"./Popper-1.0.41-Dl4_0sfD.js";const qi=({metaData:t,appId:s,rowId:m,rowData:C,storeTableSettings:n,appLanguage:o,tableDensity:e,showForm:h,refetch:M,rowIndex:d,rowSelected:j,hasBulkActions:T,hideRowSelection:y})=>{var v,R;l.debug(t,s,m,C,e,d,j);const u=q(),[E,a]=S.useState(!1),k=Object.keys(m).length>0,O=n.viewLink,z=!P(t)&&((v=t==null?void 0:t.privs)==null?void 0:v.update)&&n.transactions.update&&k,V=!P(t)&&((R=t==null?void 0:t.privs)==null?void 0:R.delete)&&n.transactions.delete&&k;return r.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:0},children:[T&&!y&&r.jsx(J,{checked:j,size:e===c.COMPACT?"small":"medium"}),O&&r.jsx(f,{title:o.view,children:r.jsx(x,{color:"primary",size:e===c.COMPACT?"small":"medium",onClick:i=>{Object.keys(m).length===0&&u(w({appId:s,data:C,context:null})),h(m,A.VIEW,d),i.stopPropagation()},children:r.jsx(b,{})})}),z&&r.jsx(f,{title:o.edit,children:r.jsx(x,{color:"primary",size:e===c.COMPACT?"small":"medium",onClick:i=>{h(m,A.UPDATE,d),i.stopPropagation()},children:r.jsx(B,{})})}),V&&r.jsxs(r.Fragment,{children:[r.jsx(f,{title:o.delete,children:r.jsx(x,{color:"error",size:e===c.COMPACT?"small":"medium",onClick:i=>{a(!0),i.stopPropagation()},children:r.jsx(U,{})})}),r.jsx(K,{title:o.deleteRowTitle,message:o.deleteRowMessage,open:E,setOpen:a,onConfirm:()=>{u(G({appId:s,property:{isRowCountUpdated:!0}})),W(s,m,i=>{if(i!=null&&i.code&&(i!=null&&i.message))switch(i.code){case"ok":p(o.deletedSuccessful,{variant:"success"}),M();break;default:l.error(i),p(i.message??o.invalidResponse,{variant:"error"})}else l.error(i),p(o.invalidResponse,{variant:"error"})},i=>{l.error("error",i),p(i??o.invalidResponse,{variant:"error"})})},locale:o,theme:F})]})]})};export{qi as default};
