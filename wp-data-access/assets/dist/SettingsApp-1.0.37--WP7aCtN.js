import{j as e}from"./cm-1.0.37-CEr77VZi.js";import{A as F,a as P,b as k,c as E}from"./MainAppBuilder-1.0.37-D2gHQRwY.js";import{r as C}from"./redux-1.0.37-C4JSQ-MG.js";import{w as b,x as B}from"./index-1.0.37-B60ShF2d.js";import{T as h}from"./TargetEnum-1.0.37-CIW1jlU5.js";import{B as x,C as D}from"./ConfirmDialog-1.0.37-BDQ_OfRf.js";import{s as G}from"./ActionsSettings-1.0.37-DQdLIvID.js";import{e as g}from"./notistack-1.0.37-CEqipxDI.js";import{l as p,b as T,m as v,T as u,A as U}from"./lib-1.0.37-Czwr-8r3.js";import{A as m,a as c}from"./AccordionSummary-1.0.37-Dp-yE6bD.js";import{A as w}from"./AccordionDetails-1.0.37-CWpLs4PS.js";import{F as d,a as A}from"./FormHelperText-1.0.37-ylnS0Km6.js";import{u as M,a as R}from"./hooks-1.0.37-DW0_oiBB.js";import{P as W}from"./PremiumFeature-1.0.37-BKt66-Fr.js";import{F as f}from"./FormControlLabel-1.0.37-BLp4PuCc.js";import{S as j}from"./Switch-1.0.37-D8L-tSJ8.js";import{T as S}from"./TextField-1.0.37-CCe4G0U1.js";import{B as y}from"./Spinner-1.0.37-CwhfSVqI.js";import{S as L}from"./Select-1.0.37-B5ZKqjeL.js";import{M as n}from"./MenuItem-1.0.37-JkRcsicb.js";import"./vendor-1.0.37-CN03Eozo.js";import"./AdminTheme-1.0.37-7PLndQ8H.js";import"./Typography-1.0.37-DjtXWQnP.js";import"./main-1.0.37.js";import"./loglevel-1.0.37-BZ7XahX3.js";import"./lodash-1.0.37-Dx3wKrSf.js";import"./moment-1.0.37-C5S46NFB.js";import"./Tooltip-1.0.37-D_uDknxi.js";import"./iconBase-1.0.37-DRohixw7.js";import"./useEnhancedEffect-1.0.37-UwysO4qr.js";import"./TabPanel-1.0.37-CPE-1h3v.js";import"./Menu-1.0.37-Ca8DeoO3.js";import"./ThemeProvider-1.0.37-Cyf1xy26.js";import"./useThemeProps-1.0.37-CD9ZXLtG.js";import"./getThemeProps-1.0.37-BGc0S4YC.js";import"./index-1.0.37-LxgxH_yq.js";import"./ComponentColumn-1.0.37-dxZBqVrm.js";import"./ActionsExplorer-1.0.37-2IOZFLVH.js";import"./RestApi-1.0.37-CcjslynE.js";import"./Autocomplete-1.0.37-5_yZAyWV.js";import"./Close-1.0.37-Yr1E1-6A.js";import"./createSvgIcon-1.0.37-DXsAQOmB.js";import"./useControlled-1.0.37-DyimEgDk.js";import"./Popper-1.0.37-CSsNCozr.js";import"./useLoadAppMetaData-1.0.37-_NoyHHQ3.js";import"./StoreTypeEnum-1.0.37-Cx2hXwas.js";import"./FormLabel-1.0.37-BQP5Nx_Z.js";import"./useFormControl-1.0.37-BcUwa2qz.js";import"./Checkbox-1.0.37-LjGLlM3B.js";import"./SwitchBase-1.0.37-Bwy1aBhJ.js";import"./Tooltip-1.0.37-BLWvlO4a.js";import"./Link-1.0.37-B0loYHQn.js";/* empty css                        */import"./index-1.0.37-CK0QxOhD.js";import"./FileSaver.min-1.0.37-Mmc9tWhG.js";import"./index-1.0.37-Ds3X5e5v.js";import"./index-1.0.37-D4zhytA1.js";import"./DynamicModeEnum-1.0.37-BXuL5kgA.js";import"./RadioGroup-1.0.37-CARB8om5.js";import"./Radio-1.0.37-C5rUTiNk.js";import"./lang-1.0.37-CfHlhLgz.js";import"./CardHeader-1.0.37-D5MnKXM1.js";import"./Divider-1.0.37-PDNfV3Nd.js";import"./Stepper-1.0.37-0J4mX0Mf.js";import"./ListItemIcon-1.0.37-CVeLs3zr.js";import"./ListItemText-1.0.37-BQ7ZEg4d.js";import"./TableRow-1.0.37-BL0M_io2.js";import"./AppContainerSelector-1.0.37-CLAiGRN4.js";import"./FallbackSpinner-1.0.37-DAc7pvnM.js";import"./index-1.0.37-CgPwljr5.js";/* empty css                    */import"./InputAdornment-1.0.37-Bm1BNe28.js";import"./Collapse-1.0.37-DaP8rsgI.js";import"./utils-1.0.37-iop7lDec.js";const H=({app:o})=>{p.debug(o);const[s,i]=C.useState(!1),[r,t]=C.useState(void 0),a=()=>{switch(r){case"form":return"Reset Form Builder?";case"theme":return"Reset Theme?";default:return"Reset Table Builder?"}};return e.jsxs(e.Fragment,{children:[e.jsxs(m,{disableGutters:!0,children:[e.jsx(c,{expandIcon:e.jsx(b,{}),children:"Reset"}),e.jsx(w,{children:e.jsxs(d,{sx:{display:"grid",gridGap:"20px"},children:[e.jsx(x,{variant:"contained",color:"primary",onClick:()=>{t(h.TABLE),i(!0)},children:"Reset Table Builder"}),e.jsx(x,{variant:"contained",color:"primary",onClick:()=>{t(h.FORM),i(!0)},children:"Reset Form Builder"}),e.jsx(x,{variant:"contained",color:"primary",onClick:()=>{t(h.CHART),i(!0)},children:"Reset Chart"}),e.jsx(x,{variant:"contained",color:"primary",onClick:()=>{t(h.MAP),i(!0)},children:"Reset Map"}),e.jsx(x,{variant:"contained",color:"primary",onClick:()=>{t(h.THEME),i(!0)},children:"Reset Theme"}),e.jsxs(A,{sx:{display:"inline-grid",gridTemplateColumns:"20px auto",gridGap:"5px",alignItems:"center","& svg":{fontSize:"20px"}},error:!0,children:[e.jsx(B,{}),"A reset cannot be undone!"]})]})})]}),e.jsx(D,{title:a(),message:"Are you sure? This action cannot be undone!",open:s,setOpen:i,onConfirm:()=>{r!==void 0&&G(o.appDbId,o.appCntId,r,null,null,null,l=>{if(l!=null&&l.code&&(l==null?void 0:l.message)!==void 0)switch(l.code){case"ok":g(l.message,{variant:"success"});break;case"info":g(l.message,{variant:"info"});break;default:g(l.message??T.contactSupport,{variant:"error"})}else p.error(l),g(T.contactSupport,{variant:"error"})},l=>{p.error("error",l),g(l??T.contactSupport,{variant:"error"})})}})]})},N=()=>{const o=M(s=>{var i,r;return(r=(i=s==null?void 0:s.apps)==null?void 0:i.app)==null?void 0:r.fullScreen});return p.debug("appFullscreen",o),o},O=()=>{const o=M(s=>{var i,r;return(r=(i=s==null?void 0:s.apps)==null?void 0:i.app)==null?void 0:r.safeMode});return p.debug("appSafeMode",o),o},q=({app:o,setIsUpdated:s})=>{p.debug(o);const i=R();N();const r=O();return e.jsxs(e.Fragment,{children:[e.jsx(f,{control:e.jsx(j,{checked:!1,disabled:!0,onChange:(t,a)=>{i(v({property:{fullScreen:a}})),s&&s(!0),t.stopPropagation()}}),label:"Enable full screen support",labelPlacement:"end"}),e.jsx(d,{fullWidth:!0,children:e.jsx(A,{children:"Adds an icon to the app toolbar, allowing the user to switch to full-screen mode."})}),e.jsx(f,{control:e.jsx(j,{checked:r,disabled:!0,onChange:(t,a)=>{i(v({property:{safeMode:a}})),s&&s(!0),t.stopPropagation()}}),label:"Enable safe mode",labelPlacement:"end"}),e.jsx(d,{fullWidth:!0,children:e.jsx(A,{children:"Disables all custom code, including hooks and computed code fields."})}),e.jsx(W,{})]})},z=()=>{const o=M(s=>s.apps.app.registration);return p.debug("appRegistration",o),o},J=({app:o,setIsUpdated:s})=>{p.debug(o);const i=R(),r=z();return e.jsxs(e.Fragment,{children:[e.jsx(d,{fullWidth:!0,children:e.jsx(f,{control:e.jsx(j,{checked:r.showMessage,onChange:(t,a)=>{i(u({message:r.message,showMessage:a,url:r.url,showUrl:r.showUrl,urlTime:r.urlTime,allowUpdates:r.allowUpdates})),s&&s(!0),t.stopPropagation()}}),label:"Show message after submit",labelPlacement:"end"})}),r.showMessage&&e.jsx(S,{type:"text",label:"Message",fullWidth:!0,helperText:"Displayed message after the registration form is successfully submitted.",value:r.message??"",autoComplete:"off",onChange:t=>{i(u({message:t.target.value,showMessage:r.showMessage,url:r.url,showUrl:r.showUrl,urlTime:r.urlTime,allowUpdates:r.allowUpdates})),s&&s(!0),t.stopPropagation()},sx:{marginTop:"20px",marginBottom:"10px"}}),e.jsxs(y,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(d,{children:e.jsx(f,{control:e.jsx(j,{checked:r.showUrl,disabled:r.allowUpdates,onChange:(t,a)=>{i(u({message:r.message,showMessage:r.showMessage,url:r.url,showUrl:a,urlTime:r.urlTime,allowUpdates:r.allowUpdates})),s&&s(!0),t.stopPropagation()}}),label:"Redirect after submit",labelPlacement:"end"})}),e.jsxs(L,{fullWidth:!0,value:r.urlTime,onChange:t=>{i(u({message:r.message,showMessage:r.showMessage,url:r.url,showUrl:r.showUrl,urlTime:Number(t.target.value),allowUpdates:r.allowUpdates})),s&&s(!0)},onClick:t=>{t.preventDefault(),t.stopPropagation()},children:[e.jsx(n,{value:"0",children:"0 seconds"}),e.jsx(n,{value:"1",children:"1 seconds"}),e.jsx(n,{value:"2",children:"2 seconds"}),e.jsx(n,{value:"3",children:"3 seconds"}),e.jsx(n,{value:"4",children:"4 seconds"}),e.jsx(n,{value:"5",children:"5 seconds"}),e.jsx(n,{value:"6",children:"6 seconds"}),e.jsx(n,{value:"7",children:"7 seconds"}),e.jsx(n,{value:"8",children:"8 seconds"}),e.jsx(n,{value:"9",children:"9 seconds"}),e.jsx(n,{value:"10",children:"10 seconds"})]})]}),r.showUrl&&e.jsx(S,{type:"text",label:"URL",fullWidth:!0,disabled:r.allowUpdates,helperText:"The URL users are redirected to after form submission.",value:r.url??"",autoComplete:"off",onChange:t=>{i(u({message:r.message,showMessage:r.showMessage,url:t.target.value,showUrl:r.showUrl,urlTime:r.urlTime,allowUpdates:r.allowUpdates})),s&&s(!0),t.stopPropagation()},sx:{marginTop:"20px",marginBottom:"10px"}}),e.jsx(d,{fullWidth:!0,children:e.jsx(f,{control:e.jsx(j,{checked:r.allowUpdates,onChange:(t,a)=>{i(u({message:r.message,showMessage:r.showMessage,url:r.url,showUrl:r.showUrl,urlTime:r.urlTime,allowUpdates:a})),s&&s(!0),t.stopPropagation()}}),label:"Allow updates after submit",labelPlacement:"end"})})]})},cr=({app:o,setIsUpdated:s})=>(p.debug(o),e.jsxs(y,{children:[e.jsx(m,{disableGutters:!0,children:e.jsx(c,{children:e.jsx(F,{app:o,hasErrors:!1,setIsUpdated:s})})}),e.jsx(m,{disableGutters:!0,children:e.jsx(c,{children:e.jsx(P,{app:o,hasErrors:!1,setIsUpdated:s})})}),e.jsx(m,{disableGutters:!0,component:"div",children:e.jsx(c,{children:e.jsx(k,{app:o,setIsUpdated:s})})}),e.jsxs(m,{disableGutters:!0,children:[e.jsx(c,{expandIcon:e.jsx(b,{}),children:"Language"}),e.jsx(w,{children:e.jsx(E,{app:o,setIsUpdated:s})})]}),e.jsxs(m,{disableGutters:!0,children:[e.jsx(c,{expandIcon:e.jsx(b,{}),children:"Settings"}),e.jsx(w,{children:e.jsx(q,{app:o,setIsUpdated:s})})]}),o.appType==U.REGISTRATION&&e.jsxs(m,{disableGutters:!0,children:[e.jsx(c,{expandIcon:e.jsx(b,{}),children:"Registration Form Settings"}),e.jsx(w,{children:e.jsx(J,{app:o,setIsUpdated:s})})]}),e.jsx(H,{app:o})]}));export{cr as default};
