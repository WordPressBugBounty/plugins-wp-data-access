const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ComputedFieldMore-1.0.40-CWpIsd0B.js","./cm-1.0.40-DO7MoydR.js","./redux-1.0.40-W_04YL6Z.js","./vendor-1.0.40-CN03Eozo.js","./index-1.0.40-DmMQghWt.js","./iconBase-1.0.40-CH6TO7hF.js","./Typography-1.0.40-oRKYqE3b.js","./lib-1.0.40-CJM-IO_o.js","./loglevel-1.0.40-BZ7XahX3.js","./lodash-1.0.40-yZQKpWII.js","./moment-1.0.40-C5S46NFB.js","./useEnhancedEffect-1.0.40-DvrM_gBo.js","./notistack-1.0.40-HUa4vT_u.js","./ConfirmDialog-1.0.40-DRjx8-xC.js","./AdminTheme-1.0.40-B669Ow89.js","./index-1.0.40-DlucSO_j.js","./Menu-1.0.40-BKp7UqHL.js","./ThemeProvider-1.0.40-D9QtC9zH.js","./MenuItem-1.0.40-UKMJrtYZ.js"])))=>i.map(i=>d[i]);
import{j as e}from"./cm-1.0.40-DO7MoydR.js";import{u as re,S as oe,a as de,I as O,b as le,c as ae,d as q,D as pe,e as ue,f as me,g as ce,h as xe,T as ge,M as he,P as fe}from"./useMetadataColumns-1.0.40-Dh2-FNxa.js";import{_ as je}from"./main-1.0.40.js";import{a as F,u as ie}from"./hooks-1.0.40-DoKijNI1.js";import{I as H,aA as be,ao as ee,aB as ye,ar as Se,as as Ce,at as _e,au as ve}from"./index-1.0.40-DmMQghWt.js";import{T as G}from"./Tooltip-1.0.40-C5SL6QF3.js";import{r as P}from"./redux-1.0.40-W_04YL6Z.js";import{l as u,cB as Q,Q as c,cC as g,bZ as Le,j as S,cD as Te}from"./lib-1.0.40-CJM-IO_o.js";import{s as Pe}from"./index-1.0.40-DlucSO_j.js";import{u as k}from"./useFormUpdater-1.0.40-Co0U10HQ.js";import{u as te}from"./useStoreTable-1.0.40-C_-ljzWa.js";import{h as Fe,i as ke,e as we}from"./index-1.0.40-BIp4XK-5.js";import{P as Y}from"./PremiumFeature-1.0.40-C4a0KOip.js";import{u as Ee}from"./useStoreFormSettings-1.0.40-CICs2Pm_.js";import{A as z,a as B}from"./AccordionSummary-1.0.40-BaFEiNF8.js";import{A as U}from"./AccordionDetails-1.0.40-AFOWsBZA.js";import{B as f}from"./Spinner-1.0.40-Bmn0_C4u.js";import{F as y,a as C}from"./FormHelperText-1.0.40-D6buAdoc.js";import{F as x}from"./FormLabel-1.0.40-DLOepjQ0.js";import{S as Ne}from"./Slider-1.0.40-w2yGdRCB.js";import{R as ne}from"./RadioGroup-1.0.40-D9A3e6h3.js";import{R as v}from"./Radio-1.0.40-BfbkSgOE.js";import{T as h}from"./TextField-1.0.40-CejEr0KU.js";import{u as $}from"./useMetadata-1.0.40-DdsiIGYX.js";import{E as Z}from"./EnumTypeEnum-1.0.40-Ws4BsaYD.js";import{N as X}from"./react-number-format.es-1.0.40-BdajC67w.js";import{F as J}from"./FormControlLabel-1.0.40-BH1qH5qy.js";import{S as K}from"./Switch-1.0.40-CJ3Ir4CS.js";import{L as se}from"./Link-1.0.40-rVkAFnTh.js";import{C as Ae}from"./ConfirmDialog-1.0.40-DRjx8-xC.js";import{I as V}from"./iconBase-1.0.40-CH6TO7hF.js";import{D as Re}from"./DynamicModeEnum-1.0.40-BXuL5kgA.js";import"./vendor-1.0.40-CN03Eozo.js";import"./notistack-1.0.40-HUa4vT_u.js";import"./SharedContainer-1.0.40-D7EQbLUC.js";import"./AdminTheme-1.0.40-B669Ow89.js";import"./Typography-1.0.40-oRKYqE3b.js";import"./ActionsDml-1.0.40-BspTHnPS.js";import"./RestApi-1.0.40-Uj1ofskP.js";import"./moment-1.0.40-C5S46NFB.js";import"./useChartSettings-1.0.40-CCxE4Zu8.js";import"./useRemoveAppFromStore-1.0.40-DxUqDH6k.js";import"./lang-1.0.40-D4Y70Q_T.js";import"./useFormDetails-1.0.40-DhJ-oNOJ.js";import"./AppTheme-1.0.40-whCBYKjb.js";import"./index-1.0.40-xxiPHCiq.js";import"./getThemeProps-1.0.40-CtGZuG5N.js";import"./useEnhancedEffect-1.0.40-DvrM_gBo.js";import"./useScreenSize-1.0.40-DAXf1AlH.js";import"./dompurify-1.0.40-DhD2mIk-.js";import"./ThemeProvider-1.0.40-D9QtC9zH.js";import"./FallbackSpinner-1.0.40-Bwyy_LaW.js";import"./AlertDialog-1.0.40-CsMgd1A8.js";import"./SanitizeComponent-1.0.40-qpEC7QW6.js";import"./Tooltip-1.0.40-Czv1q8N-.js";import"./useControlled-1.0.40-B7yPDtn1.js";import"./Popper-1.0.40-Jt4gcDMJ.js";import"./Select-1.0.40-Db-Xnyoo.js";import"./Menu-1.0.40-BKp7UqHL.js";import"./utils-1.0.40-iop7lDec.js";import"./useFormControl-1.0.40-BL8koKXQ.js";import"./createSvgIcon-1.0.40-DryBVjDb.js";import"./MenuItem-1.0.40-UKMJrtYZ.js";import"./DefaultWhere-1.0.40-DTRDKm6T.js";import"./useTableUpdater-1.0.40-0UQrI-Q9.js";import"./Stepper-1.0.40-r8Zcqqgv.js";import"./StepContent-1.0.40-BWs8Fwoy.js";import"./Collapse-1.0.40-C90ayxyF.js";import"./Checkbox-1.0.40-DtDfmlS5.js";import"./SwitchBase-1.0.40-BQrnL2Sx.js";import"./loglevel-1.0.40-BZ7XahX3.js";import"./lodash-1.0.40-yZQKpWII.js";import"./visuallyHidden-1.0.40-Dan1xhjv.js";const Oe=({appId:t,columnIndex:n,tableColumn:r})=>{u.debug(t,n,r),F();const s=Ee();k(t);const d=i=>[];return e.jsxs(z,{disableGutters:!0,children:[e.jsxs(B,{expandIcon:e.jsx(H,{}),sx:{fontSize:"1rem","& .MuiAccordionSummary-content":{padding:"1rem",alignItems:"center"}},children:[e.jsx(Fe,{}),e.jsx("span",{style:{paddingLeft:"0.5rem"},children:"Grid positioning"})]}),e.jsxs(U,{sx:{paddingTop:"0.5rem"},children:[e.jsxs(f,{children:[e.jsxs(y,{sx:{display:"grid"},children:[e.jsx(x,{children:"Grid cells"}),e.jsx(Ne,{value:r.cells,min:1,max:s.cellsPerRow,step:1,marks:d(s.cellsPerRow),valueLabelDisplay:"auto",disabled:!0,onChange:(i,l)=>{u.debug(i,l)},sx:{width:"calc(100% - 40px)",margin:"20px"}})]}),e.jsx(C,{children:"Number of grid cells used (can be changed in FORM > Grid)."}),e.jsxs(y,{sx:{width:"100%"},children:[e.jsx(x,{sx:{margin:"15px 0 5px 0"},children:"Grid positioning"}),e.jsx(ne,{sx:{flexDirection:"column",alignContent:"flex-start",marginLeft:"10px",marginBottom:"5px"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",justifyContent:"center",alignItems:"center"},children:[e.jsxs(x,{className:"align-label-radio",children:[e.jsx(v,{checked:r.cellClass===Q.AUTO,disabled:!0,onChange:i=>{i.stopPropagation()}}),"Auto"]}),e.jsxs(x,{className:"align-label-radio",children:[e.jsx(v,{checked:r.cellClass===Q.START,disabled:!0,onChange:i=>{i.stopPropagation()}}),"Start"]}),e.jsxs(x,{className:"align-label-radio",children:[e.jsx(v,{checked:r.cellClass===Q.END,disabled:!0,onChange:i=>{i.stopPropagation()}}),"End"]}),e.jsxs(x,{children:[e.jsx(v,{checked:typeof r.cellClass=="number",disabled:!0,onChange:i=>{i.stopPropagation()}}),"Add"]}),e.jsxs("div",{style:{marginLeft:"10px",gridColumn:"span 2",display:"grid",gridTemplateColumns:"auto auto",alignItems:"center"},children:[e.jsx(h,{id:"pp-cells-before",sx:{width:"60px"},className:"pp-cells-before",type:"number",defaultValue:1,slotProps:{htmlInput:{min:1,max:s.cellsPerRow-1},inputLabel:{shrink:!0}},disabled:!0,onChange:i=>{i.stopPropagation()}}),e.jsx(x,{sx:{marginLeft:"10px"},children:"cell(s) before"})]})]})})]}),e.jsx(C,{children:"Grid positioning relative to surrounding cells."})]}),e.jsx(Y,{single:!1})]})]})},Ge=({appId:t,columnIndex:n,tableColumn:r,columnMetaData:s})=>{u.debug(t,n,r),F(),k(t);const[d,i]=P.useState(!1);return r.computedField!==void 0||n===void 0||s===void 0||(s==null?void 0:s.data_type)!==void 0&&c(s.data_type)!=="number"?null:e.jsxs(z,{disableGutters:!0,children:[e.jsxs(B,{expandIcon:e.jsx(H,{}),sx:{fontSize:"1rem","& .MuiAccordionSummary-content":{padding:"1rem",alignItems:"center"}},children:[e.jsx(ke,{}),e.jsx("span",{style:{paddingLeft:"0.5rem"},children:"Validation"})]}),e.jsxs(U,{sx:{paddingTop:"1rem"},children:[e.jsxs(y,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[e.jsx(h,{error:d,type:"number",label:"Minimum value allowed",disabled:!0,value:r.numericMin??"",required:!1,slotProps:{inputLabel:{shrink:!0}},onChange:l=>{u.debug(l)}}),e.jsx(h,{error:d,type:"number",label:"Maximum value allowed",disabled:!0,value:r.numericMax??"",required:!1,slotProps:{inputLabel:{shrink:!0}},onChange:l=>{u.debug(l)}})]}),e.jsx(Y,{})]})]})},Ve=({appId:t,columnIndex:n,tableColumn:r,columnMetaData:s})=>{var T,N,A,_,a,m,R,I,M,D;u.debug(t,n,r,s);const d=F(),i=k(t),[l,L]=P.useState(!1),[j,w]=P.useState(Number(r.maxLength)<1||Number(r.maxLength)>((s==null?void 0:s.character_maximum_length)??0)),p=re(t),b=$(t),E={marginTop:"20px",marginLeft:"10px"};return e.jsxs(z,{disableGutters:!0,children:[e.jsxs(B,{expandIcon:e.jsx(H,{}),sx:{fontSize:"1rem","& .MuiAccordionSummary-content":{padding:"1rem",alignItems:"center"}},children:[e.jsx(we,{}),e.jsx("span",{style:{paddingLeft:"0.5rem"},children:"Column settings"})]}),e.jsxs(U,{sx:{display:"grid",gridGap:"2rem",paddingTop:"1rem"},children:[!1,(r.computedField||p[r.columnName]!==void 0&&r.lookup===void 0&&(c((T=p[r.columnName])==null?void 0:T.data_type)==="float"||c((N=p[r.columnName])==null?void 0:N.data_type)==="number"||c((A=p[r.columnName])==null?void 0:A.data_type)==="time"||c((_=p[r.columnName])==null?void 0:_.data_type,!0)==="date"||c((a=p[r.columnName])==null?void 0:a.data_type,!0)==="datetime"||c((m=p[r.columnName])==null?void 0:m.data_type,!0)==="timestamp"||c((R=p[r.columnName])==null?void 0:R.data_type,!0)==="time"))&&e.jsx(f,{children:e.jsxs(y,{children:[e.jsx(J,{control:e.jsx(K,{checked:!1,disabled:!0,onClick:o=>{o.stopPropagation()}}),label:"Localize",labelPlacement:"end"}),e.jsx(C,{children:c((I=p[r.columnName])==null?void 0:I.data_type)==="float"||c((M=p[r.columnName])==null?void 0:M.data_type)==="number"?"Localizes decimal and thousands seperators.":"Localizes date and time fields."})]})}),p[r.columnName]!==void 0&&c((D=p[r.columnName])==null?void 0:D.data_type,!0)==="time"&&e.jsx(f,{sx:{marginBottom:"10px"},children:e.jsxs(y,{children:[e.jsx(J,{control:e.jsx(K,{checked:r.duration,onClick:o=>{d(g({appId:t,index:n,property:{duration:!r.duration}})),i(!0),o.stopPropagation()}}),label:"Duration format",labelPlacement:"end"}),e.jsx(C,{children:"Enables storage of durations up to 99 hours in the MySQL time format (hh:mm:ss)."})]})}),n!==void 0&&(b==null?void 0:b.columns[n])!==void 0&&b.columns[n].data_type==="enum"&&e.jsxs(f,{children:[e.jsx(x,{children:"Show values in"}),e.jsxs(ne,{sx:{flexDirection:"column",alignContent:"flex-start",margin:"10px 0 5px 10px"},children:[e.jsxs(x,{className:"align-label-radio",children:[e.jsx(v,{checked:r.updatableEnum===void 0||r.updatableEnum===Z.LIST,disabled:!0,onChange:o=>{o.stopPropagation()}}),"Drop-down List"]}),e.jsxs(x,{className:"align-label-radio",children:[e.jsx(v,{checked:r.updatableEnum===Z.RADIO_HORIZONTAL,disabled:!0,onChange:o=>{o.stopPropagation()}}),"Horizontal radio group"]}),e.jsxs(x,{className:"align-label-radio",children:[e.jsx(v,{checked:r.updatableEnum===Z.RADIO_VERTICAL,disabled:!0,onChange:o=>{o.stopPropagation()}}),"Vertical radio group"]})]})]}),e.jsxs(y,{children:[e.jsx(h,{type:"text",variant:"outlined",label:"Default value",value:r.defaultValue??"",placeholder:(s==null?void 0:s.column_default)??"",slotProps:{inputLabel:{shrink:!0}},onChange:o=>{d(g({appId:t,index:n,property:{defaultValue:o.target.value===""?null:o.target.value}})),i(!0),o.stopPropagation()}}),e.jsxs(C,{component:"div",children:[e.jsx(e.Fragment,{children:(s==null?void 0:s.column_default)!==void 0&&(s==null?void 0:s.column_default)!==null&&(s==null?void 0:s.column_default)!==""&&e.jsx(f,{sx:{fontWeight:"bold"},children:"Leave empty to use column default constraint."})}),e.jsxs("div",{children:["Only applied on insert ",l?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:e.jsx(se,{sx:{cursor:"pointer"},underline:"none",onClick:()=>{L(!1)},children:"(hide examples)"})}),e.jsxs("ul",{style:{listStyle:"disc",padding:"0 40px"},children:[e.jsx("li",{children:"Hello World"}),e.jsx("li",{children:"@wpda_wp_user_id"}),e.jsx("li",{children:"@now"})]}),e.jsx("div",{style:E,children:"Notes"}),e.jsxs("ul",{style:{listStyle:"disc",padding:"0 40px"},children:[e.jsx("li",{children:"@wpda_wp_user_id returns the WordPress user ID or 0 for anonymous requests"}),e.jsx("li",{children:"@now returns the current date/time and works with date/time fields only"}),e.jsxs("li",{children:["Column default constraints defined in the database are automatically applied",(s==null?void 0:s.column_default)!==void 0&&(s==null?void 0:s.column_default)!==null&&(s==null?void 0:s.column_default)!==""&&e.jsxs(e.Fragment,{children:[" (current value is ",e.jsx("strong",{children:s==null?void 0:s.column_default}),")"]})]})]})]}):e.jsx("span",{children:e.jsx(se,{sx:{cursor:"pointer"},underline:"none",onClick:()=>{L(!0)},children:"(show examples)"})})]})]})]}),((s==null?void 0:s.data_type)!==void 0&&s.data_type.toLowerCase()!=="text"&&s.data_type.toLowerCase()!=="enum"&&s.data_type.toLowerCase()!=="set"&&s.column_type.toLowerCase()!=="tinyint(1)"&&(c(s.data_type)==="string"||c(s.data_type)==="number")||r.computedField)&&e.jsxs(y,{children:[e.jsx(f,{sx:{display:"grid",gridTemplateColumns:"auto auto",gridGap:"10px",alignItems:"center"},children:e.jsxs(e.Fragment,{children:[e.jsx(h,{type:"text",variant:"outlined",label:"Prefix",value:r.prefix,disabled:!0,slotProps:{inputLabel:{shrink:!0}},onChange:o=>{o.stopPropagation()}}),e.jsx(h,{type:"text",variant:"outlined",label:"Suffix",value:r.suffix,disabled:!0,slotProps:{inputLabel:{shrink:!0}},onChange:o=>{o.stopPropagation()}})]})}),e.jsx(C,{children:"Adds a prefix and/or suffix to the column content."})]}),e.jsxs(y,{children:[e.jsx(h,{type:"text",variant:"outlined",label:"CSS classes",fullWidth:!0,value:r.classNames,disabled:!0,slotProps:{inputLabel:{shrink:!0}},onChange:o=>{o.stopPropagation()}}),e.jsx(C,{children:"CSS classes (seperated by spaces) for custom styling."})]}),e.jsxs(y,{children:[e.jsx(h,{type:"text",variant:"outlined",label:"Hint",fullWidth:!0,value:r.hint,disabled:!0,slotProps:{inputLabel:{shrink:!0}},onChange:o=>{o.stopPropagation()}}),e.jsx(C,{children:"Help text displayed below data entry field."})]}),(s==null?void 0:s.data_type)!==void 0&&(s.data_type.toLowerCase()==="varchar"||s.data_type.toLowerCase()==="text")&&e.jsxs(y,{sx:{marginTop:"-10px"},children:[e.jsx(J,{control:e.jsx(K,{checked:!1,disabled:!0,onChange:(o,W)=>{o.stopPropagation()}}),label:"Skip sanitization",labelPlacement:"end"}),e.jsx(C,{children:"Skips sanitization while removing backslashes for basic security precautions. Useful to, for example, store code snippets."})]}),!1,(s==null?void 0:s.data_type)!==void 0&&s.data_type.toLowerCase()==="text"&&e.jsxs(f,{sx:{display:"grid",gridTemplateColumns:"auto auto auto",alignItems:"center",gap:"10px"},children:[e.jsx(X,{customInput:h,label:"Min rows",value:r.minRows,helperText:"Min rows visible",variant:"outlined",onValueChange:({value:o})=>{d(g({appId:t,index:n,property:{minRows:o}})),i(!0)},onInvalid:o=>{o.preventDefault()},sx:{"& input":{textAlign:"right"}}}),e.jsx(X,{customInput:h,label:"Max rows",value:r.maxRows,helperText:"Max rows visible",variant:"outlined",onValueChange:({value:o})=>{d(g({appId:t,index:n,property:{maxRows:o}})),i(!0)},onInvalid:o=>{o.preventDefault()},sx:{"& input":{textAlign:"right"}}}),e.jsx(X,{customInput:h,label:"Max length",value:r.maxLength??s.character_maximum_length,error:j,helperText:"Max text length",variant:"outlined",onValueChange:({value:o})=>{const W=Number(o);w(W<1||W>s.character_maximum_length),d(g({appId:t,index:n,property:{maxLength:o===""?void 0:o}})),i(!0)},onInvalid:o=>{o.preventDefault()},sx:{"& input":{textAlign:"right"}}})]}),e.jsx(Y,{single:!1,margin:"0"})]})]})},He=({appId:t,columnIndex:n,tableColumn:r})=>{var p,b;u.debug(t,n,r);const s=F(),d=k(t),i=te(t),l=$(t),j=re(t)[r.columnName],w=(E,T)=>{s(g({appId:t,index:E,property:{lookup:T}})),d(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{appId:t,columnIndex:n,tableColumn:r}),e.jsx(Ve,{appId:t,columnIndex:n,tableColumn:r,columnMetaData:j}),(((p=l==null?void 0:l.privs)==null?void 0:p.insert)||((b=l==null?void 0:l.privs)==null?void 0:b.update))&&(i.table.transactions.insert||i.table.transactions.update)&&e.jsx(Ge,{appId:t,columnIndex:n,tableColumn:r,columnMetaData:j}),e.jsx(oe,{appId:t,columnIndex:n,tableColumn:r,columnMetaData:j,setLookup:w}),e.jsx(de,{columnMetaData:j,metaData:l})]})},ze=(t,n)=>{const r=ie(s=>{var d;return(d=s.forms[t])==null?void 0:d.columns[n]});return u.debug("storeColumn",r),r};P.lazy(()=>je(()=>import("./ComputedFieldMore-1.0.40-CWpIsd0B.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]),import.meta.url));const Be=({appId:t,columnIndex:n})=>{u.debug(t,n);const r=F(),s=$(t),d=te(t),i=ze(t,n),l=k(t),L=(a,m)=>{u.debug(a,m),r(g({appId:t,index:a,property:{visible:m}})),l(!0)},j=(a,m)=>{u.debug(a,m),r(g({appId:t,index:a,property:{more:m}})),l(!0)},w=(a,m)=>{u.debug(a,m),r(g({appId:t,index:a,property:{updatable:m}})),l(!0)};Le.TEXT;const[p,b]=P.useState(!1),[E,T]=P.useState(void 0),N=a=>{a!==void 0&&(r(Te({appId:t,index:a})),l(!0))},A=(a,m,R)=>(u.debug(a,m,R),e.jsxs(e.Fragment,{children:[e.jsx(f,{children:e.jsx(le,{id:a,enabled:!1})}),e.jsxs(f,{sx:{display:"inline-grid",gridTemplateColumns:i.computedField!==void 0?"auto auto":"auto",justifyContent:"start",alignItems:"center",gap:"10px","& svg":{opacity:"0.5"}},children:[i.computedField!==void 0&&e.jsx(Pe,{}),e.jsx(x,{children:m})]})]})),_=!s.primary_key.includes(i.columnName);return e.jsxs(e.Fragment,{children:[e.jsxs(z,{disableGutters:!0,slotProps:{transition:{unmountOnExit:!0}},children:[e.jsxs(B,{className:"pp-column-settings",component:"div",expandIcon:e.jsx(H,{}),sx:{justifyContent:"space-between"},children:[e.jsx(f,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",alignItems:"center","& svg":{display:"flex"}},children:A(i.columnName,i.columnLabel,n)}),e.jsxs(f,{style:{display:"grid",gridTemplateColumns:"40px 40px 40px"},children:[e.jsx(G,{title:"Visibility",position:"bottom",children:e.jsx(V,{onClick:a=>{i.visible?i.more?(L(n,!1),j(n,!1)):j(n,!0):i.more?j(n,!1):L(n,!0),a.stopPropagation()},children:i.visible?e.jsx(e.Fragment,{children:i.more?e.jsx(O,{checked:!0,children:e.jsx(be,{})}):e.jsx(O,{checked:!0,children:e.jsx(ee,{})})}):e.jsx(O,{checked:!1,children:e.jsx(ee,{})})})}),i.computedField?e.jsx(e.Fragment,{children:e.jsx(G,{title:"Delete",position:"bottom",children:e.jsx(V,{onClick:a=>{b(!0),T(n),a.stopPropagation()},children:e.jsx(Se,{})})})}):e.jsx(G,{title:"Updatable",position:"bottom",disabled:!d.table.transactions.insert&&!d.table.transactions.update||!_||!i.visible,children:e.jsx(V,{disabled:!d.table.transactions.insert&&!d.table.transactions.update||!_||!i.visible,onClick:a=>{w(n,!i.updatable),a.stopPropagation()},children:e.jsx(O,{checked:i.updatable&&_&&(d.table.transactions.insert||d.table.transactions.update),disabled:!d.table.transactions.insert&&!d.table.transactions.update||!_,forceOff:!_||!i.visible,children:e.jsx(ye,{})})})}),e.jsx(G,{title:"Alignment",position:"bottom",disabled:!i.visible,children:e.jsxs(V,{disabled:!i.visible,onClick:a=>{i.alignment===S.LEFT?r(g({appId:t,index:n,property:{alignment:S.CENTER}})):i.alignment===S.CENTER?r(g({appId:t,index:n,property:{alignment:S.RIGHT}})):i.alignment===S.RIGHT&&r(g({appId:t,index:n,property:{alignment:S.LEFT}})),l(!0),a.stopPropagation()},children:[i.alignment===S.LEFT&&e.jsx(Ce,{}),i.alignment===S.CENTER&&e.jsx(_e,{}),i.alignment===S.RIGHT&&e.jsx(ve,{})]})})]})]}),e.jsx(U,{children:e.jsx(He,{appId:t,columnIndex:n,tableColumn:i})})]},n),e.jsx(Ae,{title:"Delete computed field?",message:"Are you sure you want to delete this computed field? This action cannot be undone!",open:p,setOpen:b,onConfirm:()=>N(E)})]})},Ue=t=>{const n=ie(r=>{var s,d;return(d=(s=r.forms[t])==null?void 0:s.state)==null?void 0:d.sortedColumns});return u.debug("sortedColumns",n),n},dr=({appId:t})=>{u.debug(t),F();const n=ae(q(fe),q(he),q(ge));k(t);const r=d=>{const{active:i,over:l}=d;(i==null?void 0:i.id)!==(l==null?void 0:l.id)&&u.debug(i,l)},s=Ue(t);return s===void 0||s.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx(pe,{autoScroll:!0,sensors:n,collisionDetection:ue,onDragEnd:r,children:e.jsx(me,{items:s,children:s.map((d,i)=>e.jsx(ce,{id:d,children:e.jsx(Be,{appId:t,columnIndex:i})},d))})}),e.jsx(xe,{appId:t,target:Re.FORM})]})};export{dr as default};
