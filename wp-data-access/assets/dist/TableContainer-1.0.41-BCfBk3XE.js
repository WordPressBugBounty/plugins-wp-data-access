const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableQuery-1.0.41-C5L4ViN_.js","./main-1.0.41.js","./cm-1.0.41-DxZ4itL_.js","./redux-1.0.41-DJjpZqD1.js","./vendor-1.0.41-CN03Eozo.js","./notistack-1.0.41-Bq-EKqc7.js","./lib-1.0.41-DFdWuh_n.js","./loglevel-1.0.41-BZ7XahX3.js","./lodash-1.0.41-Cd8grAqB.js","./moment-1.0.41-C5S46NFB.js","./useStoreTable-1.0.41-B5fmNNPS.js","./hooks-1.0.41-sDnKeMy7.js","./index-1.0.41-CAqb3AfW.js","./index-1.0.41-CpXj521P.js","./iconBase-1.0.41-BNQFQdHp.js","./Typography-1.0.41-BIN1Ddvh.js","./useEnhancedEffect-1.0.41-BVsyj6AW.js","./ActionsDml-1.0.41--r5h77NM.js","./RestApi-1.0.41-CZ_yORv3.js","./Tooltip-1.0.41-BQBkdKQ5.js","./Tooltip-1.0.41--D4jr2go.css","./SanitizeComponent-1.0.41-B18z6eJi.js","./dompurify-1.0.41-DhD2mIk-.js","./index-1.0.41-B2jO0d0P.js","./SharedContainer-1.0.41-ChmyKXs8.js","./Spinner-1.0.41-fWZy8imI.js","./AdminTheme-1.0.41-4tiUoVeb.js","./useMetadata-1.0.41-DKmF8A3i.js","./useChartSettings-1.0.41-B9jmOMx5.js","./useRemoveAppFromStore-1.0.41-CfqgzE5H.js","./lang-1.0.41-Bm0VdcRH.js","./useStoreFormSettings-1.0.41-6QwIhzSX.js","./useFormDetails-1.0.41-B5EIEVl2.js","./DynamicModeEnum-1.0.41-BXuL5kgA.js","./AppTheme-1.0.41-BMrYDtWL.js","./index-1.0.41-zQwWCc96.js","./getThemeProps-1.0.41-BXG_2HDV.js","./useScreenSize-1.0.41-B3FN-Ith.js","./ConfirmDialog-1.0.41-NKESMhfW.js","./dayjs.min-1.0.41-CD-l-E21.js","./ThemeProvider-1.0.41-D1lNQgXT.js","./FallbackSpinner-1.0.41-2QUzxGrn.js","./AlertDialog-1.0.41-BPsbbiwH.js","./Tooltip-1.0.41-g4uuOuci.js","./useControlled-1.0.41-BEhJe3xs.js","./Popper-1.0.41-Dl4_0sfD.js","./SharedContainer-1.0.41-DR7D6eET.css","./tanstack-1.0.41-m5KXsrwn.js","./index.esm-1.0.41-Ko2zZhVm.js","./createSvgIcon-1.0.41-0lRWzB2Q.js","./Stack-1.0.41-g2eT-h-q.js","./useThemeProps-1.0.41-BJkkrkB6.js","./Radio-1.0.41-S-npPzGQ.js","./SwitchBase-1.0.41-C_lqznV-.js","./useFormControl-1.0.41-1E9QEnRo.js","./Checkbox-1.0.41-C_619ZQC.js","./Menu-1.0.41-DBfdBNVU.js","./Chip-1.0.41-C0GI7jZZ.js","./Collapse-1.0.41-QlMDtjRk.js","./AlertTitle-1.0.41-DjDM8Ttb.js","./Close-1.0.41-Dkp5SdDZ.js","./TextField-1.0.41-CGPjmVeQ.js","./Select-1.0.41-aTzlc-HZ.js","./utils-1.0.41-iop7lDec.js","./FormLabel-1.0.41-CgxisugM.js","./FormHelperText-1.0.41-BPSj83yP.js","./InputAdornment-1.0.41-BaGp3m3T.js","./MenuItem-1.0.41-DCc8qvzQ.js","./TableRow-1.0.41-CTJevnEe.js","./ListItemIcon-1.0.41-D1zPE5kJ.js","./TableHead-1.0.41-R3d_gFkF.js","./Divider-1.0.41-CupjOoMR.js","./FormControlLabel-1.0.41-OBCouq3I.js","./Switch-1.0.41-BrkxB2Jy.js","./Autocomplete-1.0.41-82-5yXGC.js","./Slider-1.0.41-eJAQRlhH.js","./visuallyHidden-1.0.41-Dan1xhjv.js","./TimePicker-1.0.41-CdMSQWSE.js","./useMobilePicker-1.0.41-Bl-98x2q.js","./index-1.0.41-Ca6zW1RM.js","./ListItem-1.0.41-CMjqURej.js","./timeViewRenderers-1.0.41-3MJVY4qK.js","./DateTimePicker-1.0.41-FGXdJ7he.js","./Tabs-1.0.41-C8-7orxg.js","./dateViewRenderers-1.0.41-Dd4MHWu8.js","./DatePicker-1.0.41-BRrjz6z9.js","./tab-1.0.41-DafQO3Rq.js","./math-1.0.41-BQt3B2Pe.js","./AggregationLabelsEnum-1.0.41-B-3lhjpJ.js","./useTableCode-1.0.41-DiyDJHPf.js","./useTableColumnOrder-1.0.41-BULSaVGM.js","./TableQuery-1.0.41-uJ6MlsKy.css","./SettingsTable-1.0.41-xqkHFDhw.js","./useTableUpdater-1.0.41-B3-EY98i.js","./AccordionSummary-1.0.41-CY9CEWZQ.js","./AccordionDetails-1.0.41-DlUbOAS0.js","./RadioGroup-1.0.41-BzP_AWOa.js","./Link-1.0.41-yhMF_PSg.js","./CssUnitTextField-1.0.41-DumeFWVt.js","./DefaultWhere-1.0.41-N2_c0GSQ.js","./PremiumFeature-1.0.41-CNKLpmFu.js","./ToggleButtonGroup-1.0.41-CS_43ZCw.js","./SettingsFormRelationships-1.0.41-DylVjH7M.js","./ComponentColumn-1.0.41-YtEVVFdp.js","./ActionsExplorer-1.0.41-DSAyrNr3.js","./ActionsApp-1.0.41-Cz0T7QKd.js","./useApp-1.0.41-rJY2RiUW.js","./useFormUpdater-1.0.41-t99QqzXE.js","./Stepper-1.0.41-C_961xRF.js","./StepContent-1.0.41-DmHGU0ip.js","./SettingsColumns-1.0.41-55r3ooh8.js","./useMetadataColumns-1.0.41-ctUub4tf.js","./index-1.0.41-bmWVeOdZ.js","./SettingsCharts-1.0.41-Cx9ob6Pe.js","./TableChartSelection-1.0.41-RZ4txyIa.js","./BuilderMenu-1.0.41-CI6mFW4W.js","./SettingsMaps-1.0.41-C_Z53KME.js","./MapsApiKey-1.0.41-GmC7QRk2.js","./SettingsMapMarkers-1.0.41-BAfgAkW1.js","./useMapUpdater-1.0.41-Dr_1GfF5.js","./react-number-format.es-1.0.41-KmyU8zGo.js","./SettingsTableCode-1.0.41-3kZIb4Mo.js","./index-1.0.41-Wbyk3QBm.js","./useGlobalCode-1.0.41-C_ABIbFf.js","./SettingsTableGlobalCode-1.0.41-B9CN6QGy.js","./index-1.0.41-DGYaemnA.js","./TreeItem2Provider-1.0.41-CvRVbaxa.js","./ResizableDrawer-1.0.41-C0gZVvMH.js","./ThemeSettings-1.0.41-DH6PwwOS.js"])))=>i.map(i=>d[i]);
import{j as e}from"./cm-1.0.41-DxZ4itL_.js";import{r as o}from"./redux-1.0.41-DJjpZqD1.js";import{A as O,a as X}from"./AdminTheme-1.0.41-4tiUoVeb.js";import{l as i,bn as j,S as u,a1 as T,a2 as Y,P as $,bR as J,a as M,s as Z,bS as ee,bT as te,a5 as se,b as _,_ as oe}from"./lib-1.0.41-DFdWuh_n.js";import{_ as a}from"./main-1.0.41.js";import{Q as re,a as ne}from"./tanstack-1.0.41-m5KXsrwn.js";import{F as ie}from"./FallbackSpinner-1.0.41-2QUzxGrn.js";import{u as F,a as le}from"./hooks-1.0.41-sDnKeMy7.js";import{d as ae}from"./ActionsSettings-1.0.41-3gFM2W6T.js";import{T as C}from"./Tooltip-1.0.41-BQBkdKQ5.js";import{S as ce}from"./ScopeEnum-1.0.41-B4DDvIDj.js";import{h as me,k as ue,l as de,g as be,f as he}from"./index-1.0.41-DGYaemnA.js";import{A as xe,T as ge,M as pe,d as Se}from"./index-1.0.41-CpXj521P.js";import{e as x}from"./notistack-1.0.41-Bq-EKqc7.js";import{B as fe,a as je,b as Te}from"./BuilderMenu-1.0.41-CI6mFW4W.js";import{B as k,C as _e}from"./ConfirmDialog-1.0.41-NKESMhfW.js";import{B as Ce,S as d}from"./Spinner-1.0.41-fWZy8imI.js";import{u as ke}from"./useTableUpdater-1.0.41-B3-EY98i.js";import{D as ve}from"./DynamicModeEnum-1.0.41-BXuL5kgA.js";import{C as Ee}from"./useFormDetails-1.0.41-B5EIEVl2.js";/* empty css                        */import{T as Be}from"./Typography-1.0.41-BIN1Ddvh.js";import{I as v}from"./iconBase-1.0.41-BNQFQdHp.js";import{C as V,a as w}from"./CardContent-1.0.41-Cwtu331C.js";import{T as ye,a as b}from"./TabPanel-1.0.41-BJuUpIHA.js";import{T as Ae}from"./ThemeProvider-1.0.41-D1lNQgXT.js";const Le=o.lazy(()=>a(()=>import("./TableQuery-1.0.41-C5L4ViN_.js").then(t=>t.T),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91]),import.meta.url)),Pe=({appId:t,display:r,refresh:n,metaData:c,showForm:l})=>{i.debug(t,r,n);const m=new re;return e.jsx(ne,{client:m,children:e.jsx(o.Suspense,{fallback:e.jsx(ie,{}),children:e.jsx(Le,{appId:t,display:r,refresh:n,showForm:l,metaData:c})})})},Re=t=>{const r=F(n=>n.ui.tableSettings.isOpen&&n.ui.tableSettings.appId===t);return i.debug("tableSettingsVisible",r),r},ze=()=>{const t=F(r=>r.ui.tableSettings.hideThemeSettings);return i.debug("hideThemeSetting",t),t},De=o.lazy(()=>a(()=>import("./SettingsTable-1.0.41-xqkHFDhw.js"),__vite__mapDeps([92,2,3,4,6,7,8,9,11,10,13,14,15,16,5,93,94,44,58,95,25,65,63,54,96,52,53,49,72,73,97,64,98,61,62,56,40,38,26,1,99,21,22,43,45,23,67,24,17,18,27,28,29,30,31,32,33,34,35,36,37,39,41,42,46,100,101,80,57,102,103,104,74,60,105,55,106,107,108,109]),import.meta.url)),Oe=o.lazy(()=>a(()=>import("./SettingsColumns-1.0.41-55r3ooh8.js"),__vite__mapDeps([110,2,3,4,111,13,14,15,6,7,8,9,16,5,33,10,11,24,1,25,26,17,18,27,28,29,30,31,32,34,35,36,37,38,22,39,40,41,42,21,43,44,45,46,112,23,62,56,63,54,49,67,99,65,97,93,108,109,58,72,55,53,61,64,94,95,73,19,20,75,76,100,88,74,60,57,90]),import.meta.url)),Me=o.lazy(()=>a(()=>import("./SettingsCharts-1.0.41-Cx9ob6Pe.js"),__vite__mapDeps([113,1,2,3,4,5,6,7,8,9,10,11,93,114,23,14,15,16,90,28,29,30,25,65,63,54,61,62,56,40,13,44,49,64,67,43,45,74,60,57,27,115,38,26,100,94,58,95,72,73,53,101]),import.meta.url)),Ve=o.lazy(()=>a(()=>import("./SettingsMaps-1.0.41-C_Z53KME.js"),__vite__mapDeps([116,2,3,4,6,7,8,9,10,11,93,27,115,14,15,16,13,5,25,38,26,56,40,67,100,23,64,54,117,65,63,61,62,44,49,97,106,94,58,95,72,73,53,101,118,119,98,96,52,75,76,1,120]),import.meta.url)),we=o.lazy(()=>a(()=>import("./SettingsTableCode-1.0.41-3kZIb4Mo.js"),__vite__mapDeps([121,2,3,4,122,79,38,14,15,6,7,8,9,16,26,13,5,11,123,89,93,100,23,64,54,124,125,25,43,40,44,45,126,51,36,49,55,53,58,94,56]),import.meta.url)),Fe=o.lazy(()=>a(()=>import("./ResizableDrawer-1.0.41-C0gZVvMH.js"),__vite__mapDeps([127,2,3,4,37,6,7,8,9,11,15,40,16,14,13,5,56]),import.meta.url)),Ne=o.lazy(()=>a(()=>import("./ThemeSettings-1.0.41-DH6PwwOS.js"),__vite__mapDeps([128,2,3,4,11,6,7,8,9,34,35,15,36,16,100,23,14,26,64,54,13,5,12,25,65,63,73,53,44,50,51,75,40,76,56,72,97,96,52,49,98,61,62,38,33,94,58,95]),import.meta.url)),Ue=({appId:t,metaData:r})=>{var R,z;i.debug(t,r);const n=le(),c=ze();Ee();const l=ke(t),[m,g]=o.useState(j.getSelectors().selectTableById(u.getState().tables,t));i.debug(m);const[E,N]=o.useState(T.getSelectors().selectChart(u.getState().charts,t));i.debug(E);const[U,He]=o.useState(Y.getSelectors().selectThemeById(u.getState().themes,t));i.debug(U);const[G,B]=o.useState(!1),y=()=>j.getSelectors().selectTableIsUpdated(u.getState().tables,t),p=s=>{l(s)},H=((R=O)==null?void 0:R.palette.mode)===$.LIGHT?(z=O)==null?void 0:z.palette.primary.main:"",A=s=>{n(Z({anchor:s}))},L=()=>{n(te({appId:t,tableState:m}));const s=T.getSelectors().selectChart(u.getState().charts,t),W=(s==null?void 0:s.data)!==void 0?[...s==null?void 0:s.data]:[],D={...E};D.data=[...W],n(se({appId:t,chartState:D}))},h=()=>{n(ee()),p(!1)},S=()=>{y()?B(!0):(L(),h())},f=()=>{ae(t,ce.GLOBAL,s=>{if(i.debug(s),s!=null&&s.code&&(s==null?void 0:s.message)!==void 0)switch(s.code){case"ok":g(j.getSelectors().selectTableById(u.getState().tables,t)),N(T.getSelectors().selectChart(u.getState().charts,t)),x(s.message,{variant:"success"});break;case"info":x(s.message,{variant:"info"});break;default:i.error(s),x(s.message??_.contactSupport,{variant:"error"})}else i.error(s),x(_.contactSupport,{variant:"error"})},s=>{i.error("error",s),x(s??_.contactSupport,{variant:"error"})}),p(!1)},Q=()=>{y()?(f(),setTimeout(()=>{h()},1e3)):h()},q=Re(t),[P,K]=o.useState(0),I=o.useMemo(()=>{const s=[{title:"Table",icon:e.jsx(me,{})},{title:"Columns",icon:e.jsx(ue,{})},{title:"Maps",icon:e.jsx(Se,{})},{title:"Charts",icon:e.jsx(de,{})},{title:"Hooks",icon:e.jsx(be,{})},{title:"Theme",icon:e.jsx(he,{})}];return J(r)?s.splice(0,2):c?s.splice(0,5):s},[c]);return e.jsx(e.Fragment,{children:q&&e.jsxs(e.Fragment,{children:[e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsxs(Fe,{closeDrawer:S,children:[e.jsxs(xe,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(ge,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(Be,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,paddingLeft:"6px"},children:"Table Builder"}),e.jsx(C,{title:"Dock to left",position:"bottom",children:e.jsx(v,{onClick:()=>{A(M.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(fe,{})})}),e.jsx(C,{title:"Dock to right",position:"bottom",children:e.jsx(v,{onClick:()=>{A(M.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(je,{})})}),e.jsx(C,{title:"Close",position:"bottom",children:e.jsx(v,{onClick:S,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(pe,{})})})]}),e.jsx(Te,{menuItems:I,menuIndex:P,setMenu:K})]}),e.jsx(V,{className:"pp-settings-container",children:e.jsx(w,{sx:{padding:0,margin:0},children:e.jsx(ye,{value:P,children:e.jsxs(Ce,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(b,{value:0,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(De,{appId:t,metaData:r})})}),e.jsx(b,{value:1,className:"pp-column-settings-container",children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(Oe,{appId:t,metaData:r})})}),e.jsx(b,{value:2,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(Ve,{appId:t})})}),e.jsx(b,{value:3,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(Me,{appId:t})})}),e.jsx(b,{value:4,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(we,{appId:t,tableSettings:m,buttonEditorOk:f})})}),c!==!0&&e.jsx(b,{value:5,children:e.jsx(o.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(Ne,{appId:t,source:ve.TABLE,setIsUpdated:p})})})]})})})}),e.jsx(V,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:H},children:e.jsxs(w,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(k,{variant:"outlined",className:"footer_action_button_apply",onClick:f,children:"Apply"}),e.jsx(k,{variant:"outlined",className:"footer_action_button",onClick:Q,children:"OK"}),e.jsx(k,{variant:"outlined",className:"footer_action_button",onClick:S,children:"Cancel"})]})})]})}),e.jsx(_e,{title:"Close Table Builder?",message:"All uncommitted changes will be lost!",open:G,setOpen:B,onConfirm:()=>{L(),h()},onKeep:()=>{h()}})]})})},Ge=({appId:t,display:r,refresh:n,showForm:c,metaData:l})=>{i.debug(t,r,n);const m=o.useMemo(()=>oe(l),[l]),g=o.useMemo(()=>X(),[]);return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{appId:t,display:r,refresh:n,showForm:c,metaData:l}),m&&e.jsx(Ae,{theme:g,children:e.jsx(Ue,{appId:t,metaData:l})})]})},gt=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));export{gt as T,Re as u};
