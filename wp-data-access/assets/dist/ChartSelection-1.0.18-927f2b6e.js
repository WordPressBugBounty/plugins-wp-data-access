import{j as o,an as C,r as A}from"./main-1.0.18.js";import{C as R}from"./ChartTypeSelection-1.0.18-2203eb3b.js";import{a as j}from"./RestApi-1.0.18-cb72bd79.js";import{z as L,M as P,A as D}from"./index.esm-1.0.18-12f13c4a.js";import{F as T}from"./FormHelperText-1.0.18-8b4ce85f.js";import{F as h}from"./FormControlLabel-1.0.18-2840e084.js";import{S as w}from"./Switch-1.0.18-cbb6329b.js";import{D as v,C as B,a as F,b as M,c as O,d as z}from"./DefaultChartColors-1.0.18-47ca3b11.js";import{a as H}from"./useTheme-1.0.18-c1f3f722.js";import{c as W}from"./index-1.0.18-bd94b546.js";import{u as _}from"./useStoreTable-1.0.18-8a593f98.js";import{B as t}from"./Spinner-1.0.18-de8df990.js";import{I as k}from"./iconBase-1.0.18-3c21f5e2.js";import{C as E,a as N}from"./CardContent-1.0.18-3d5e5525.js";import{C as V}from"./CardHeader-1.0.18-1e38ceea.js";import{T as G,b as K,c as b}from"./TabPanel-1.0.18-2d718e76.js";import{T as f}from"./Tabs-1.0.18-d7d53c1e.js";import"./ChartTypes-1.0.18-62bfd1db.js";import"./index.esm-1.0.18-32f5cee0.js";import"./TextField-1.0.18-cf148b4e.js";import"./Typography-1.0.18-dc3c0740.js";import"./useFormControl-1.0.18-87a8487d.js";import"./FormLabel-1.0.18-47dbe87d.js";import"./Menu-1.0.18-e8cb0649.js";import"./ThemeProvider-1.0.18-247b72cc.js";import"./Popover-1.0.18-54868205.js";import"./Modal-1.0.18-870f459d.js";import"./Grow-1.0.18-4ebc2ce8.js";import"./useControlled-1.0.18-12a74006.js";import"./createSvgIcon-1.0.18-dcf0276e.js";import"./MenuItem-1.0.18-0088f2a2.js";import"./ListItemIcon-1.0.18-7ee6feae.js";import"./createStyled-1.0.18-b238c9ff.js";import"./SwitchBase-1.0.18-e2aa3211.js";import"./index-1.0.18-ff546563.js";import"./ToggleButtonGroup-1.0.18-02ae4565.js";import"./colorManipulator-1.0.18-95bf61ec.js";import"./RadioGroup-1.0.18-4960e4a8.js";import"./Radio-1.0.18-210e4079.js";import"./Slider-1.0.18-32b00bb2.js";import"./Divider-1.0.18-eca54fd7.js";import"./InputAdornment-1.0.18-958a8148.js";import"./useScreenSize-1.0.18-62aeb4c4.js";const U=({appId:s,chartSettings:e})=>{var n;const d=j();return o.jsx(T,{fullWidth:!0,children:o.jsx(h,{control:o.jsx(w,{checked:((n=e==null?void 0:e.options)==null?void 0:n.isStacked)??!1,disabled:((e==null?void 0:e.chartType)??"")!==""&&((e==null?void 0:e.chartType)??"")!=="BarChart"&&((e==null?void 0:e.chartType)??"")!=="ColumnChart"&&((e==null?void 0:e.chartType)??"")!=="Histogram"&&((e==null?void 0:e.chartType)??"")!=="AreaChart",onChange:r=>{var i;const l={...e.options};l.isStacked=!(((i=e==null?void 0:e.options)==null?void 0:i.isStacked)??!1),d(C({appId:s,property:{options:l}})),r.stopPropagation()}}),label:"Stacked"})})},q=({appId:s,chartSettings:e})=>{var n;const d=j();return o.jsx(T,{fullWidth:!0,children:o.jsx(h,{control:o.jsx(w,{checked:((n=e==null?void 0:e.options)==null?void 0:n.is3D)??!1,disabled:((e==null?void 0:e.chartType)??"")!=="PieChart",onChange:r=>{var i;const l={...e.options};l.is3D=!(((i=e==null?void 0:e.options)==null?void 0:i.is3D)??!1),d(C({appId:s,property:{options:l}})),r.stopPropagation()}}),label:"3D"})})},J=({appId:s,chartSettings:e})=>{var n;const d=j();return o.jsx(T,{fullWidth:!0,children:o.jsx(h,{control:o.jsx(w,{checked:((n=e==null?void 0:e.options)==null?void 0:n.showRowNumber)??!1,disabled:((e==null?void 0:e.chartType)??"")!=="Table",onChange:r=>{var i;const l={...e.options};l.showRowNumber=!(((i=e==null?void 0:e.options)==null?void 0:i.showRowNumber)??!0),d(C({appId:s,property:{options:l}})),r.stopPropagation()}}),label:"Row#"})})},Q=({appId:s,chartSettings:e})=>{var m;const d=j(),[n,r]=A.useState(((m=e==null?void 0:e.options)==null?void 0:m.colors)??e.minorAxisColumns.map((a,p)=>v[p]!==void 0?v[p]:"#fff")),l=_(s),i=a=>{var x;if(l===void 0)return a;const p=l.columns.filter(u=>u.columnName===a);return p.length===1?((x=p[0])==null?void 0:x.columnLabel)??a:a},y=a=>{d(C({appId:s,property:{options:a}}))};return o.jsxs(t,{component:"fieldset",sx:{border:"1px solid #ddd",borderRadius:"4px",marginInline:"0 !important",padding:"20px","& legend":{textAlign:"left",color:"rgba(0, 0, 0, 0.6)"}},children:[o.jsx("legend",{children:"Colors"}),o.jsxs(t,{sx:{position:"relative"},children:[o.jsxs(t,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"start",alignItems:"center",columnGap:"10px"},children:[...e.minorAxisColumns.map((a,p)=>{const x=i(a);return o.jsxs(o.Fragment,{children:[o.jsx("span",{style:{textAlign:"right"},children:x}),o.jsx("input",{type:"color",value:n[p],onChange:u=>{const c=[...n];c[p]=u.target.value,r(c),u.stopPropagation()},style:{width:"30px",height:"35px",margin:0,padding:0,border:"none",WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"transparent",cursor:"pointer"}})]})})]}),o.jsx(t,{sx:{position:"absolute",top:"-5px",right:0},children:o.jsx(k,{color:"primary",onClick:a=>{const p=W(e.options);p.colors=n,y(p),a.stopPropagation()},children:o.jsx(L,{})})})]})]})},_o=({appId:s,setShowSelection:e,isTableChart:d})=>{var a;const n=j(),r=H(s),[l,i]=A.useState("1"),y=(p,x)=>{i(x)},m=p=>{const{children:x,tab:u,value:c}=p;return u===c?o.jsx(t,{sx:{padding:0,textAlign:"center",marginTop:"5px",display:"grid",gap:"1em"},children:x}):null};return o.jsxs(E,{sx:{position:"absolute",top:0,right:0,width:"400px",zIndex:9999999,boxShadow:"0 10px 16px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.19)"},children:[o.jsx(V,{title:o.jsxs(t,{sx:{display:"grid",gridTemplateColumns:"50px 1fr 50px",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{}),o.jsx("span",{children:"Chart Settings"}),o.jsx("span",{style:{textAlign:"right"},children:o.jsx(k,{color:"primary",onClick:()=>e(!1),children:o.jsx(P,{})})})]}),sx:{textAlign:"center"}}),o.jsx(N,{sx:{padding:0,"&:last-child":{paddingBottom:0}},children:o.jsxs(G,{value:l,children:[o.jsx(D,{position:"relative",sx:{boxShadow:"none",borderRadius:0,"& .MuiTabs-flexContainer":{justifyContent:"center"},"& button":{color:"white"},"& button.Mui-selected":{color:"white"}},children:o.jsxs(K,{onChange:y,children:[o.jsx(f,{label:"Chart",value:"1"}),o.jsx(f,{label:"Info",value:"2"}),o.jsx(f,{label:"Axis",value:"3"}),o.jsx(f,{label:"Area",value:"4"})]})}),o.jsx(b,{value:"1",children:o.jsxs(m,{tab:l,value:"1",children:[o.jsx(R,{isTableChart:d,chartType:(r==null?void 0:r.chartType)??"BarChart",setChartType:p=>{n(C({appId:s,property:{chartType:p}}))},chartTypes:(r==null?void 0:r.chartTypes)??[]}),o.jsxs(t,{component:"fieldset",sx:{border:"1px solid #ddd",borderRadius:"4px",marginInline:"0 !important",display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"space-between",alignItems:"center",padding:"5px 15px"},children:[o.jsx(U,{appId:s,chartSettings:r}),o.jsx(q,{appId:s,chartSettings:r}),o.jsx(J,{appId:s,chartSettings:r})]})]})}),o.jsx(b,{value:"2",children:o.jsxs(m,{tab:l,value:"2",children:[o.jsx(B,{appId:s,chartSettings:r,titleKey:"title",titleDefaultValue:((a=r==null?void 0:r.options)==null?void 0:a.title)??"",titleLabel:"Chart Title"}),o.jsx(F,{appId:s,chartSettings:r}),o.jsx(Q,{appId:s,chartSettings:r})]})}),o.jsx(b,{value:"3",children:o.jsxs(m,{tab:l,value:"3",children:[o.jsx(M,{appId:s,chartSettings:r}),o.jsx(O,{appId:s,chartSettings:r})]})}),o.jsx(b,{value:"4",children:o.jsx(m,{tab:l,value:"4",children:o.jsx(z,{appId:s,chartSettings:r})})})]})})]})};export{_o as default};
