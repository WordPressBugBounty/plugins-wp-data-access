import{j as t}from"./cm-1.0.41-DxZ4itL_.js";import{r as p}from"./redux-1.0.41-DJjpZqD1.js";import{a as x}from"./hooks-1.0.41-sDnKeMy7.js";import{l as f,m as u,b as M}from"./lib-1.0.41-DFdWuh_n.js";import{l as y}from"./index-1.0.41-CpXj521P.js";import{B as m}from"./Spinner-1.0.41-fWZy8imI.js";import{F as i,a as l}from"./FormHelperText-1.0.41-BPSj83yP.js";import{I as d,T as L}from"./TextField-1.0.41-CGPjmVeQ.js";import{S as c}from"./Select-1.0.41-aTzlc-HZ.js";import{M as h}from"./MenuItem-1.0.41-DCc8qvzQ.js";import{L as j}from"./Link-1.0.41-yhMF_PSg.js";const w=({app:o,setIsUpdated:a})=>{f.debug(o);const n=x(),r=p.useMemo(()=>o.appColumns.map(e=>e.columnName),[o.appColumns]),[s,g]=p.useState(!1);return t.jsxs(m,{sx:{width:"100%",display:"grid",gap:"20px"},children:[t.jsxs(i,{fullWidth:!0,children:[t.jsx(d,{variant:"outlined",children:"Latitude Column *"}),t.jsx(c,{MenuProps:{id:"pp-select-menu"},label:"Latitude Column *",value:o.appMap.columnLatitude,variant:"outlined",onChange:e=>{n(u({property:{appMap:{apiKey:o.appMap.apiKey,columnLatitude:e.target.value,columnLongitude:o.appMap.columnLongitude}}})),a&&a(!0)},children:r.map(e=>t.jsx(h,{"data-id":e,value:e,children:e},e))}),t.jsx(l,{children:"Select the column that contains the latitude values for your locations."})]}),t.jsxs(i,{fullWidth:!0,children:[t.jsx(d,{variant:"outlined",children:"Longitude Column *"}),t.jsx(c,{MenuProps:{id:"pp-select-menu"},label:"Longitude Column *",value:o.appMap.columnLongitude,variant:"outlined",onChange:e=>{n(u({property:{appMap:{apiKey:o.appMap.apiKey,columnLatitude:o.appMap.columnLatitude,columnLongitude:e.target.value}}})),a&&a(!0)},children:r.map(e=>t.jsx(h,{"data-id":e,value:e,children:e},e))}),t.jsx(l,{children:"Select the column that contains the longitude values for your locations."})]}),t.jsx(i,{fullWidth:!0,children:t.jsxs(l,{component:"div",sx:{marginLeft:0},children:[t.jsxs(j,{sx:{textDecoration:"none",cursor:"pointer",display:"inline-flex",marginBottom:0,"& svg":{fontSize:"1rem",marginRight:"2px"}},onClick:()=>g(!s),children:[t.jsx(y,{}),"Using GEOMETRY and POINT Data Types"]}),s&&t.jsx(m,{sx:{marginTop:"20px",marginBottom:"25px",marginLeft:"4px"},children:"If your locations are stored in a GEOMETRY or POINT column, simply select the same column for both latitude and longitude. The plugin will automatically extract the required values."})]})})]})},B=({app:o,setIsUpdated:a})=>{const n=x();return t.jsx(L,{type:"text",label:"API Key",fullWidth:!0,required:!0,helperText:t.jsxs(t.Fragment,{children:["Enter a valid Google Maps API Key.Â ",t.jsx("strong",{children:M.requiresReload})]}),value:o.appMap.apiKey,autoComplete:"off",onChange:r=>{n(u({property:{appMap:{apiKey:r.target.value,columnLatitude:o.appMap.columnLatitude,columnLongitude:o.appMap.columnLongitude}}})),a&&a(!0),r.stopPropagation()}})};export{w as C,B as M};
