import{j as o}from"./cm-1.0.24-lBsX3THK.js";import{r as A}from"./redux-1.0.24-Bx8jJ3ee.js";import{C as R}from"./ChartTypeSelection-1.0.24--p0mkqYr.js";import{a as C}from"./RestApi-1.0.24-BCmVwqnT.js";import{W as j}from"./lib-1.0.24-up-HxGpi.js";import{E as L,M as P,A as D}from"./index-1.0.24-CyelUMLZ.js";import{F as T}from"./FormHelperText-1.0.24-dIoAVumM.js";import{F as h}from"./FormControlLabel-1.0.24-jTuSRk-Y.js";import{S as w}from"./Switch-1.0.24-BzowSg2t.js";import{D as v,C as B,a as F,b as M,c as O,d as W}from"./DefaultChartColors-1.0.24-DE4_hAiS.js";import{a as E}from"./useTheme-1.0.24-CdGcp-pX.js";import{c as H}from"./index-1.0.24-vo0tC6xY.js";import{u as _}from"./useStoreTable-1.0.24-CCGHEC8d.js";import{B as x}from"./Spinner-1.0.24-DzEoy0TD.js";import{I as k}from"./iconBase-1.0.24-C7lJg7VQ.js";import{C as z,a as N}from"./CardContent-1.0.24-DpYcLPhl.js";import{C as V}from"./CardHeader-1.0.24-D-nprU4H.js";import{T as G,b as c}from"./TabPanel-1.0.24-DAjZ0-bn.js";import{T as K}from"./AppMetaData-1.0.24-DBDPdlwe.js";import{T as f}from"./Tabs-1.0.24-B5H8MKNv.js";import"./vendor-1.0.24-BmpNFhoq.js";import"./ChartTypes-1.0.24-ot0OlSYz.js";import"./index-1.0.24-DqBQ5tn0.js";import"./TextField-1.0.24-CX3Aj71c.js";import"./Typography-1.0.24-DtpcakL_.js";import"./useFormControl-1.0.24-BVJe4wXv.js";import"./FormLabel-1.0.24-DNrTGbzF.js";import"./Menu-1.0.24-Bmzze4W5.js";import"./ThemeProvider-1.0.24-koXQmW7k.js";import"./useControlled-1.0.24-DnsqB4VW.js";import"./createSvgIcon-1.0.24-BKX7HR5-.js";import"./MenuItem-1.0.24-cnqjqUCU.js";import"./ListItemIcon-1.0.24-B7svPcXW.js";import"./loglevel-1.0.24-BZ7XahX3.js";import"./lodash-1.0.24-CC2RnyUh.js";import"./moment-1.0.24-C5S46NFB.js";import"./notistack-1.0.24-EH6RgmCJ.js";import"./SwitchBase-1.0.24-k3CO2XxE.js";import"./ToggleButtonGroup-1.0.24-Dd1FjW0I.js";import"./RadioGroup-1.0.24-C4yZZRVK.js";import"./Radio-1.0.24-DPbrWB-2.js";import"./Slider-1.0.24-C0QPfEHu.js";import"./visuallyHidden-1.0.24-Dan1xhjv.js";import"./Divider-1.0.24-vsfL_W_T.js";import"./InputAdornment-1.0.24-CC6pwDym.js";import"./index-1.0.24-COcPbr-v.js";import"./DialogContent-1.0.24-o2zFJd9S.js";import"./main-1.0.24.js";import"./ActionsApp-1.0.24-CVhliqOT.js";import"./StoreTypeEnum-1.0.24-C85LgfiT.js";import"./Chart-1.0.24-B1Ic-GEL.js";import"./Tooltip-1.0.24-C0iSk1Jx.js";import"./Popper-1.0.24-pV6SBss6.js";import"./ConfirmDialog-1.0.24-5s_WiKiN.js";import"./AdminTheme-1.0.24-DxOFSSNd.js";import"./ActionsSettings-1.0.24-Cyf5k2fb.js";import"./TargetEnum-1.0.24-DPFnTxiX.js";import"./FallbackSpinner-1.0.24-CO6nSoMx.js";import"./Alert-1.0.24-G7L94P0F.js";import"./index-1.0.24-B9zHNwKy.js";import"./AlertTitle-1.0.24-DtifCgWu.js";import"./Close-1.0.24-16O9KsVp.js";const U=({appId:s,chartSettings:r})=>{var i;const m=C();return o.jsx(T,{fullWidth:!0,children:o.jsx(h,{control:o.jsx(w,{checked:((i=r==null?void 0:r.options)==null?void 0:i.isStacked)??!1,disabled:((r==null?void 0:r.chartType)??"")!==""&&((r==null?void 0:r.chartType)??"")!=="BarChart"&&((r==null?void 0:r.chartType)??"")!=="ColumnChart"&&((r==null?void 0:r.chartType)??"")!=="Histogram"&&((r==null?void 0:r.chartType)??"")!=="AreaChart",onChange:e=>{var a;const l={...r.options};l.isStacked=!(((a=r==null?void 0:r.options)==null?void 0:a.isStacked)??!1),m(j({appId:s,property:{options:l}})),e.stopPropagation()}}),label:"Stacked"})})},q=({appId:s,chartSettings:r})=>{var i;const m=C();return o.jsx(T,{fullWidth:!0,children:o.jsx(h,{control:o.jsx(w,{checked:((i=r==null?void 0:r.options)==null?void 0:i.is3D)??!1,disabled:((r==null?void 0:r.chartType)??"")!=="PieChart",onChange:e=>{var a;const l={...r.options};l.is3D=!(((a=r==null?void 0:r.options)==null?void 0:a.is3D)??!1),m(j({appId:s,property:{options:l}})),e.stopPropagation()}}),label:"3D"})})},J=({appId:s,chartSettings:r})=>{var i;const m=C();return o.jsx(T,{fullWidth:!0,children:o.jsx(h,{control:o.jsx(w,{checked:((i=r==null?void 0:r.options)==null?void 0:i.showRowNumber)??!1,disabled:((r==null?void 0:r.chartType)??"")!=="Table",onChange:e=>{var a;const l={...r.options};l.showRowNumber=!(((a=r==null?void 0:r.options)==null?void 0:a.showRowNumber)??!0),m(j({appId:s,property:{options:l}})),e.stopPropagation()}}),label:"Row#"})})},Q=({appId:s,chartSettings:r})=>{var d;const m=C(),[i,e]=A.useState(((d=r==null?void 0:r.options)==null?void 0:d.colors)??r.minorAxisColumns.map((n,p)=>v[p]!==void 0?v[p]:"#fff")),l=_(s),a=n=>{var t;if(l===void 0)return n;const p=l.columns.filter(u=>u.columnName===n);return p.length===1?((t=p[0])==null?void 0:t.columnLabel)??n:n},y=n=>{m(j({appId:s,property:{options:n}}))};return o.jsxs(x,{component:"fieldset",sx:{border:"1px solid #ddd",borderRadius:"4px",marginInline:"0 !important",padding:"20px","& legend":{textAlign:"left",color:"rgba(0, 0, 0, 0.6)"}},children:[o.jsx("legend",{children:"Colors"}),o.jsxs(x,{sx:{position:"relative"},children:[o.jsxs(x,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"start",alignItems:"center",columnGap:"10px"},children:[...r.minorAxisColumns.map((n,p)=>{const t=a(n);return o.jsxs(o.Fragment,{children:[o.jsx("span",{style:{textAlign:"right"},children:t}),o.jsx("input",{type:"color",value:i[p],onChange:u=>{const b=[...i];b[p]=u.target.value,e(b),u.stopPropagation()},style:{width:"30px",height:"35px",margin:0,padding:0,border:"none",WebkitAppearance:"none",MozAppearance:"none",appearance:"none",backgroundColor:"transparent",cursor:"pointer"}})]})})]}),o.jsx(x,{sx:{position:"absolute",top:"-5px",right:0},children:o.jsx(k,{color:"primary",onClick:n=>{const p=H(r.options);p.colors=i,y(p),n.stopPropagation()},children:o.jsx(L,{})})})]})]})},er=({appId:s,setShowSelection:r,isTableChart:m})=>{var n;const i=C(),e=E(s),[l,a]=A.useState("1"),y=(p,t)=>{a(t)},d=p=>{const{children:t,tab:u,value:b}=p;return u===b?o.jsx(x,{sx:{padding:0,textAlign:"center",marginTop:"5px",display:"grid",gap:"1em"},children:t}):null};return o.jsxs(z,{sx:{position:"absolute",top:0,right:0,width:"400px",zIndex:9999999,boxShadow:"0 10px 16px 0 rgba(0, 0, 0, 0.2), 0 3px 10px 0 rgba(0, 0, 0, 0.19)"},children:[o.jsx(V,{title:o.jsxs(x,{sx:{display:"grid",gridTemplateColumns:"50px 1fr 50px",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{}),o.jsx("span",{children:"Chart Settings"}),o.jsx("span",{style:{textAlign:"right"},children:o.jsx(k,{color:"primary",onClick:()=>r(!1),children:o.jsx(P,{})})})]}),sx:{textAlign:"center"}}),o.jsx(N,{sx:{padding:0,"&:last-child":{paddingBottom:0}},children:o.jsxs(G,{value:l,children:[o.jsx(D,{position:"relative",sx:{boxShadow:"none",borderRadius:0,"& .MuiTabs-flexContainer":{justifyContent:"center"},"& button":{color:"white"},"& button.Mui-selected":{color:"white"}},children:o.jsxs(K,{onChange:y,children:[o.jsx(f,{label:"Chart",value:"1"}),o.jsx(f,{label:"Info",value:"2"}),o.jsx(f,{label:"Axis",value:"3"}),o.jsx(f,{label:"Area",value:"4"})]})}),o.jsx(c,{value:"1",children:o.jsxs(d,{tab:l,value:"1",children:[o.jsx(R,{isTableChart:m,chartType:(e==null?void 0:e.chartType)??"BarChart",setChartType:p=>{i(j({appId:s,property:{chartType:p}}))},chartTypes:(e==null?void 0:e.chartTypes)??[]}),o.jsxs(x,{component:"fieldset",sx:{border:"1px solid #ddd",borderRadius:"4px",marginInline:"0 !important",display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"space-between",alignItems:"center",padding:"5px 15px"},children:[o.jsx(U,{appId:s,chartSettings:e}),o.jsx(q,{appId:s,chartSettings:e}),o.jsx(J,{appId:s,chartSettings:e})]})]})}),o.jsx(c,{value:"2",children:o.jsxs(d,{tab:l,value:"2",children:[o.jsx(B,{appId:s,chartSettings:e,titleKey:"title",titleDefaultValue:((n=e==null?void 0:e.options)==null?void 0:n.title)??"",titleLabel:"Chart Title"}),o.jsx(F,{appId:s,chartSettings:e}),o.jsx(Q,{appId:s,chartSettings:e})]})}),o.jsx(c,{value:"3",children:o.jsxs(d,{tab:l,value:"3",children:[o.jsx(M,{appId:s,chartSettings:e}),o.jsx(O,{appId:s,chartSettings:e})]})}),o.jsx(c,{value:"4",children:o.jsx(d,{tab:l,value:"4",children:o.jsx(W,{appId:s,chartSettings:e})})})]})})]})};export{er as default};
