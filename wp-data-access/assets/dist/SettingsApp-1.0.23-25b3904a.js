import{l,r as T,j as e,e as c,C as f,a3 as C,a4 as F,n as M,a5 as v,a6 as j,a as y}from"./main-1.0.23.js";import{A as E,a as k,b as P,c as B}from"./AppListContainer-1.0.23-47a8635b.js";import{v as d,w as G}from"./index.esm-1.0.23-ba0465a2.js";import{T as b}from"./TargetEnum-1.0.23-b82380d5.js";import{C as D}from"./ConfirmDialog-1.0.23-f318040f.js";import{s as W}from"./ActionsSettings-1.0.23-a601e9bf.js";import{A as p,a as m}from"./AccordionSummary-1.0.23-078f8091.js";import{A as g}from"./AccordionDetails-1.0.23-ad785ba6.js";import{F as u,a as w}from"./FormHelperText-1.0.23-83597bdf.js";import{B as A}from"./CardContent-1.0.23-cd3f2c87.js";import{u as S,a as R}from"./RestApi-1.0.23-cc179eb9.js";import{P as L}from"./PremiumFeature-1.0.23-8dd1a29b.js";import{F as x}from"./FormControlLabel-1.0.23-1ad68af6.js";import{S as h}from"./Switch-1.0.23-86b06b05.js";import{T as O}from"./TextField-1.0.23-1657e9d4.js";import{B as H}from"./Spinner-1.0.23-90ab83ff.js";import"./AdminTheme-1.0.23-7044caf5.js";import"./Typography-1.0.23-19a0fd3e.js";import"./TabPanel-1.0.23-ecd53346.js";import"./iconBase-1.0.23-43ac6f06.js";import"./Tabs-1.0.23-d047285a.js";import"./ThemeProvider-1.0.23-f3e5cbc1.js";import"./Modal-1.0.23-3fe42627.js";import"./createSvgIcon-1.0.23-f9410a01.js";import"./ComponentColumn-1.0.23-13c86662.js";import"./ActionsExplorer-1.0.23-02905de3.js";import"./Autocomplete-1.0.23-a5bc1209.js";import"./Close-1.0.23-ea28bfa6.js";import"./index-1.0.23-9af490ae.js";import"./Popper-1.0.23-4a0d0616.js";import"./useControlled-1.0.23-1e71c28b.js";import"./ActionsApp-1.0.23-18ccdb55.js";import"./FormLabel-1.0.23-71a056b2.js";import"./useFormControl-1.0.23-a0ae6ce7.js";import"./Checkbox-1.0.23-e63c68aa.js";import"./SwitchBase-1.0.23-adccc77c.js";import"./Tooltip-1.0.23-1b58a848.js";import"./Grow-1.0.23-40b2ff68.js";import"./Link-1.0.23-48d9bdb4.js";/* empty css                        */import"./index.esm-1.0.23-da98f1a9.js";import"./FileSaver.min-1.0.23-50350d46.js";import"./index-1.0.23-75b15946.js";import"./colorManipulator-1.0.23-e382be1d.js";import"./Menu-1.0.23-e889464a.js";import"./Popover-1.0.23-6c9c65a6.js";import"./MenuItem-1.0.23-0a5da249.js";import"./useTheme-1.0.23-55aea9bb.js";import"./RadioGroup-1.0.23-053476ee.js";import"./Radio-1.0.23-7006053b.js";import"./index.esm-1.0.23-5dc3dbfa.js";import"./CardHeader-1.0.23-edc42c3d.js";import"./Divider-1.0.23-d1a6ffad.js";import"./index-1.0.23-fea3ac27.js";import"./Stepper-1.0.23-3d0d410f.js";import"./ListItemIcon-1.0.23-db4c6871.js";import"./ListItemText-1.0.23-79589f5f.js";import"./AppMetaData-1.0.23-2d2b77d1.js";import"./usePrepareStore-1.0.23-c25c6ac5.js";import"./Chart-1.0.23-06cce95d.js";import"./FallbackSpinner-1.0.23-96931408.js";import"./Alert-1.0.23-c5d2670c.js";import"./AlertTitle-1.0.23-db3e7867.js";import"./useSlot-1.0.23-b9d48820.js";import"./index.esm-1.0.23-9200891c.js";/* empty css                    */import"./InputAdornment-1.0.23-4e3a41ab.js";import"./DialogContent-1.0.23-79893b13.js";import"./Collapse-1.0.23-a92fc278.js";import"./createStyled-1.0.23-528f26c2.js";const N=({app:r})=>{l.debug(r);const[o,n]=T.useState(!1),[t,s]=T.useState(void 0),a=()=>{switch(t){case"form":return"Reset Form Builder?";case"theme":return"Reset Theme?";default:return"Reset Table Builder?"}};return e.jsxs(e.Fragment,{children:[e.jsxs(p,{disableGutters:!0,children:[e.jsx(m,{expandIcon:e.jsx(d,{}),children:"Reset"}),e.jsx(g,{children:e.jsxs(u,{sx:{display:"grid",gridGap:"20px"},children:[e.jsx(A,{variant:"contained",color:"primary",onClick:()=>{s(b.TABLE),n(!0)},children:"Reset Table Builder"}),e.jsx(A,{variant:"contained",color:"primary",onClick:()=>{s(b.FORM),n(!0)},children:"Reset Form Builder"}),e.jsx(A,{variant:"contained",color:"primary",onClick:()=>{s(b.THEME),n(!0)},children:"Reset Theme"}),e.jsxs(w,{sx:{display:"inline-grid",gridTemplateColumns:"20px auto",gridGap:"5px",alignItems:"center","& svg":{fontSize:"20px"}},error:!0,children:[e.jsx(G,{}),"A reset cannot be undone!"]})]})})]}),e.jsx(D,{title:a(),message:"Are you sure? This action cannot be undone!",open:o,setOpen:n,onConfirm:()=>{t!==void 0&&W(r.appDbId,r.appCntId,t,null,null,i=>{if(i!=null&&i.code&&(i==null?void 0:i.message)!==void 0)switch(i.code){case"ok":c(i.message,{variant:"success"});break;case"info":c(i.message,{variant:"info"});break;default:c(i.message??f.contactSupport,{variant:"error"})}else l.error(i),c(f.contactSupport,{variant:"error"})},i=>{l.error("error",i),c(i??f.contactSupport,{variant:"error"})})}})]})},q=()=>{const r=S(o=>C(o));return l.debug("appFullscreen",r),r},z=()=>{const r=S(o=>F(o));return l.debug("appSafeMode",r),r},J=({app:r,setIsUpdated:o})=>{l.debug(r);const n=R();q();const t=z();return e.jsxs(e.Fragment,{children:[e.jsx(x,{control:e.jsx(h,{checked:!1,disabled:!0,onChange:(s,a)=>{n(M({property:{fullScreen:a}})),o&&o(!0),s.stopPropagation()}}),label:"Enable full screen support",labelPlacement:"end"}),e.jsx(u,{fullWidth:!0,children:e.jsx(w,{children:"Adds an icon to the app toolbar, allowing the user to switch to full-screen mode."})}),e.jsx(x,{control:e.jsx(h,{checked:t,disabled:!0,onChange:(s,a)=>{n(M({property:{safeMode:a}})),o&&o(!0),s.stopPropagation()}}),label:"Enable safe mode",labelPlacement:"end"}),e.jsx(u,{fullWidth:!0,children:e.jsx(w,{children:"Disables all custom code, including hooks and computed code fields."})}),e.jsx(L,{})]})},K=()=>{const r=S(o=>v(o));return l.debug("appRegistration",r),r},Q=({app:r,setIsUpdated:o})=>{l.debug(r);const n=R(),t=K();return e.jsxs(e.Fragment,{children:[e.jsx(u,{fullWidth:!0,children:e.jsx(x,{control:e.jsx(h,{checked:t.showMessage,onChange:(s,a)=>{n(j({message:t.message,showMessage:a,allowUpdates:t.allowUpdates})),o&&o(!0),s.stopPropagation()}}),label:"Show message on submit",labelPlacement:"end"})}),t.showMessage&&e.jsx(O,{type:"text",label:"Message",fullWidth:!0,helperText:"Message shown when registration form is submitted.",value:t.message??"",autoComplete:"off",onChange:s=>{n(j({message:s.target.value,showMessage:t.showMessage,allowUpdates:t.allowUpdates})),o&&o(!0),s.stopPropagation()},sx:{marginTop:"20px",marginBottom:"10px"}}),e.jsx(u,{fullWidth:!0,children:e.jsx(x,{control:e.jsx(h,{checked:t.allowUpdates,onChange:(s,a)=>{n(j({message:t.message,showMessage:t.showMessage,allowUpdates:a})),o&&o(!0),s.stopPropagation()}}),label:"Allow updates after submit",labelPlacement:"end"})})]})},lr=({app:r,setIsUpdated:o})=>(l.debug(r),e.jsxs(H,{children:[e.jsx(p,{disableGutters:!0,children:e.jsx(m,{children:e.jsx(E,{app:r,hasErrors:!1,setIsUpdated:o})})}),e.jsx(p,{disableGutters:!0,children:e.jsx(m,{children:e.jsx(k,{app:r,hasErrors:!1,setIsUpdated:o})})}),e.jsx(p,{disableGutters:!0,children:e.jsx(m,{children:e.jsx(P,{app:r,setIsUpdated:o})})}),e.jsxs(p,{disableGutters:!0,children:[e.jsx(m,{expandIcon:e.jsx(d,{}),children:"Language"}),e.jsx(g,{children:e.jsx(B,{app:r,setIsUpdated:o})})]}),e.jsxs(p,{disableGutters:!0,children:[e.jsx(m,{expandIcon:e.jsx(d,{}),children:"Settings"}),e.jsx(g,{children:e.jsx(J,{app:r,setIsUpdated:o})})]}),r.appType==y.REGISTRATION&&e.jsxs(p,{disableGutters:!0,children:[e.jsx(m,{expandIcon:e.jsx(d,{}),children:"Registration Form Settings"}),e.jsx(g,{children:e.jsx(Q,{app:r,setIsUpdated:o})})]}),e.jsx(N,{app:r})]}));export{lr as default};
