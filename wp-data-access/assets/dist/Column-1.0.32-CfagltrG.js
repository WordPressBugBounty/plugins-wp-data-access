const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.32-Jb6WtP5Y.js","./cm-1.0.32-roxymF9V.js","./redux-1.0.32-BsgiH_bG.js","./vendor-1.0.32-BmpNFhoq.js","./lib-1.0.32-CBsDffd2.js","./loglevel-1.0.32-BZ7XahX3.js","./lodash-1.0.32-B7VmFneh.js","./moment-1.0.32-C5S46NFB.js","./TextField-1.0.32-EUJpMVir.js","./Typography-1.0.32-D9d-UzA0.js","./iconBase-1.0.32-inVKjZEJ.js","./FormHelperText-1.0.32-BG3xt4JA.js","./useFormControl-1.0.32-Tf9RtQ-m.js","./cjs-1.0.32-AqZgyPIn.js","./notistack-1.0.32-N2grKTUm.js","./FormLabel-1.0.32-agP5qBoD.js","./Menu-1.0.32-CRF2Elfu.js","./AdminTheme-1.0.32-WcjuTcVF.js","./useControlled-1.0.32-fDn_qfrW.js","./createSvgIcon-1.0.32-DGmABpxr.js","./FieldTextarea-1.0.32-qWe99Xf_.js","./FieldNumber-1.0.32-EuYWeVUR.js","./react-number-format.es-1.0.32-Dts2B-c3.js","./FieldSet-1.0.32-CYiOcuzC.js","./MenuItem-1.0.32-Bc1CXi88.js","./FieldEnum-1.0.32-hWv67i7C.js","./EnumTypeEnum-1.0.32-Ws4BsaYD.js","./RadioGroup-1.0.32-BPYStg8S.js","./Radio-1.0.32-Dg2N7INw.js","./SwitchBase-1.0.32-8MhCpXB3.js","./FormControlLabel-1.0.32-B7mCGY7x.js","./FieldDate-1.0.32-ovCLCtja.js","./RestApi-1.0.32-Bp_RRidr.js","./lang-1.0.32-ByUiGkfa.js","./useTheme-1.0.32-Boox29T5.js","./index-1.0.32-D6IhVoXv.js","./ThemeContainer-1.0.32-DQB7LmiJ.js","./main-1.0.32.js","./Spinner-1.0.32-D1QL5ry3.js","./useStoreTable-1.0.32-DHfF4DKP.js","./ActionsDml-1.0.32-CqneDSgR.js","./useScreenSize-1.0.32-ZGgk_gJq.js","./dompurify-1.0.32-CCJo14B2.js","./FallbackSpinner-1.0.32-kTXSQeKF.js","./Tooltip-1.0.32-BFRxm1kH.js","./Popper-1.0.32-Dr5x4zRa.js","./ThemeContainer-1.0.32-DR7D6eET.css","./useMobilePicker-1.0.32-aq7eJnRp.js","./index-1.0.32-6Cfvmv3-.js","./DialogContent-1.0.32-B0aW5NMk.js","./InputAdornment-1.0.32-B4eTRvU4.js","./visuallyHidden-1.0.32-Dan1xhjv.js","./ListItem-1.0.32-BDCZ88q2.js","./Autocomplete-1.0.32-CC-cYb5n.js","./Close-1.0.32-BV_W41ov.js","./AdapterDayjs-1.0.32-D6BVnhlN.js","./DatePicker-1.0.32-D40Vxj8d.js","./dateViewRenderers-1.0.32-BBL1OGiN.js","./FieldDatetime-1.0.32-De-8ZGJG.js","./DateTimePicker-1.0.32-BCOHYqEk.js","./Tabs-1.0.32-B237JaNe.js","./timeViewRenderers-1.0.32-oFPNP3d_.js","./Divider-1.0.32-kK3jX0R7.js","./FieldTime-1.0.32-CO--9y45.js","./TimePicker-1.0.32-JvxXQNTX.js","./FieldCheckbox-1.0.32-DM8v8ShY.js","./Checkbox-1.0.32-CFJQbOdr.js","./ColumnWpMedia-1.0.32-DIQcOSxO.js","./index-1.0.32-wSDMfVDG.js","./index.esm-1.0.32-BcBy0Voo.js","./ColumnHyperlink-1.0.32-BgwmcdwQ.js","./FieldDuration-1.0.32-C6kZDMIc.js"])))=>i.map(i=>d[i]);
import{_ as h}from"./main-1.0.32.js";import{j as d}from"./cm-1.0.32-roxymF9V.js";import{r as s}from"./redux-1.0.32-BsgiH_bG.js";import{l as t,m as Q,cb as I,cc as o,cd as C,K as X,a0 as V}from"./lib-1.0.32-CBsDffd2.js";import{l as M}from"./ActionsDml-1.0.32-CqneDSgR.js";import{f as n}from"./ThemeContainer-1.0.32-DQB7LmiJ.js";import{T as Y}from"./TargetEnum-1.0.32-DPFnTxiX.js";import{i as l}from"./index-1.0.32-DEU9wnLT.js";import{A as m}from"./Autocomplete-1.0.32-CC-cYb5n.js";import{T as D}from"./TextField-1.0.32-EUJpMVir.js";import"./vendor-1.0.32-BmpNFhoq.js";import"./notistack-1.0.32-N2grKTUm.js";import"./loglevel-1.0.32-BZ7XahX3.js";import"./lodash-1.0.32-B7VmFneh.js";import"./moment-1.0.32-C5S46NFB.js";import"./RestApi-1.0.32-Bp_RRidr.js";import"./Spinner-1.0.32-D1QL5ry3.js";import"./Typography-1.0.32-D9d-UzA0.js";import"./AdminTheme-1.0.32-WcjuTcVF.js";import"./useStoreTable-1.0.32-DHfF4DKP.js";import"./useTheme-1.0.32-Boox29T5.js";import"./index-1.0.32-D6IhVoXv.js";import"./cjs-1.0.32-AqZgyPIn.js";import"./iconBase-1.0.32-inVKjZEJ.js";import"./useScreenSize-1.0.32-ZGgk_gJq.js";import"./dompurify-1.0.32-CCJo14B2.js";import"./FallbackSpinner-1.0.32-kTXSQeKF.js";import"./Tooltip-1.0.32-BFRxm1kH.js";import"./Popper-1.0.32-Dr5x4zRa.js";import"./useControlled-1.0.32-fDn_qfrW.js";import"./Close-1.0.32-BV_W41ov.js";import"./createSvgIcon-1.0.32-DGmABpxr.js";import"./FormHelperText-1.0.32-BG3xt4JA.js";import"./useFormControl-1.0.32-Tf9RtQ-m.js";import"./FormLabel-1.0.32-agP5qBoD.js";import"./Menu-1.0.32-CRF2Elfu.js";const a=(_,p)=>({}),ii=({appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,storeForm:E,formMode:v,locale:k})=>{var U,K;t.debug(_,p,y,L,e,i,P,r,E,v,k);const A=n(_),[j,S]=s.useState([]);t.debug("lov",j);const[W,z]=s.useState(!1),[Z,g]=s.useState(""),[F,$]=s.useState(Array.isArray((U=i.lookup)==null?void 0:U.dynamicConditions)?(K=i.lookup)==null?void 0:K.dynamicConditions.map(f=>({columnName:f.tableColumnName,columnValue:""})):[]);t.debug("conditions",F),s.useEffect(()=>{var f,R;Array.isArray((f=i.lookup)==null?void 0:f.dynamicConditions)&&((R=i.lookup)==null||R.dynamicConditions.map(b=>{A[b.tableColumnName]===void 0&&t.error("Invalid lookup: column "+b.tableColumnName+" in dynamic condition not found.")})),F.length===0&&q()},[i.lookup]),s.useEffect(()=>{var f,R;if(Object.keys(F).length>0){const b=Array.isArray((f=i.lookup)==null?void 0:f.dynamicConditions)?(R=i.lookup)==null?void 0:R.dynamicConditions.map(x=>({columnName:x.lookupColumnName,columnValue:A[x.tableColumnName]??""})):[];if(t.debug(b),!l(F,b)){const x={};b.length>0&&b.map(T=>{x[T.columnName]=T.columnValue}),t.debug("reloading dynamic lookup",p,b),q(x),$(b)}}},[A]);const q=(f={})=>{var R,b;M(_,(r==null?void 0:r.useRform)===!0?Y.RFORM:Y.FORM,p,((R=i.lookup)==null?void 0:R.key)??"",((b=i.lookup)==null?void 0:b.value)??"",f,{},x=>{var T,B,G;if(t.debug(x),(x==null?void 0:x.code)==="ok"){if(!((T=i.lookup)!=null&&T.value.includes(",")))S(x.data);else{const u=(B=i.lookup)==null?void 0:B.value.split(","),J=[];for(let H=0;H<x.data.length;H++){const c=u.map(N=>x.data[H][N]).join(((G=i.lookup)==null?void 0:G.delimiter)??"");J.push({key:x.data[H].key,value:c})}S(J)}z(!1),g("")}else z(!0),g(x.message),S([])},x=>{z(!0),g(x),S([])})},w=s.useMemo(()=>j.filter(f=>f.key===y)[0]??null,[y,j]);return d.jsx(m,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:j,getOptionLabel:f=>Array.isArray(f.value)?Q(f.value[0]):Q(f.value),value:w,onChange:(f,R)=>{R!==null?O(p,R==null?void 0:R.key):O(p,null)},disabled:I(r,e,i,v),className:i.classNames,renderInput:f=>d.jsx(D,{error:W,label:e.formLabel,required:e.is_nullable==="NO",...f,variant:o(),helperText:W?Z:C(i,k.selectEnum),disabled:v===X.VIEW||v===X.UPDATE&&(r.primary_key.includes(p)||i.updatable===!1),sx:{"& input":{textAlign:i.alignment}}})})},ri=s.lazy(()=>h(()=>import("./FieldText-1.0.32-Jb6WtP5Y.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),si=s.lazy(()=>h(()=>import("./FieldTextarea-1.0.32-qWe99Xf_.js"),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),pi=s.lazy(()=>h(()=>import("./FieldNumber-1.0.32-EuYWeVUR.js"),__vite__mapDeps([21,1,2,3,22,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),di=s.lazy(()=>h(()=>import("./FieldSet-1.0.32-CYiOcuzC.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,11,9,12,8,10,13,14,15,16,17,18,19,24]),import.meta.url)),ei=s.lazy(()=>h(()=>import("./FieldEnum-1.0.32-hWv67i7C.js"),__vite__mapDeps([25,1,2,3,4,5,6,7,11,9,12,8,10,13,14,15,16,17,18,19,24,26,27,28,29,30]),import.meta.url)),_i=s.lazy(()=>h(()=>import("./FieldDate-1.0.32-ovCLCtja.js"),__vite__mapDeps([31,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,17,39,40,41,42,43,44,45,18,46,47,48,49,50,12,11,8,15,16,19,51,52,53,54,55,56,57]),import.meta.url)),yi=s.lazy(()=>h(()=>import("./FieldDatetime-1.0.32-De-8ZGJG.js"),__vite__mapDeps([58,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,17,39,40,41,42,43,44,45,18,46,47,48,49,50,12,11,8,15,16,19,51,52,53,54,55,59,60,61,24,57,62]),import.meta.url)),Ei=s.lazy(()=>h(()=>import("./FieldTime-1.0.32-CO--9y45.js"),__vite__mapDeps([63,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,17,39,40,41,42,43,44,45,18,46,47,48,49,50,12,11,8,15,16,19,51,52,53,54,55,64,61,24]),import.meta.url)),vi=s.lazy(()=>h(()=>import("./FieldCheckbox-1.0.32-DM8v8ShY.js"),__vite__mapDeps([65,1,2,3,4,5,6,7,11,9,12,30,10,66,29,18,19]),import.meta.url)),ji=s.lazy(()=>h(()=>import("./ColumnWpMedia-1.0.32-DIQcOSxO.js"),__vite__mapDeps([67,1,2,3,4,5,6,7,32,68,10,9,69,34,35,13,14,38,11,12]),import.meta.url)),fi=s.lazy(()=>h(()=>import("./ColumnHyperlink-1.0.32-BgwmcdwQ.js"),__vite__mapDeps([70,1,2,3,4,5,6,7,38,9,8,10,11,12,13,14,15,16,17,18,19,30,66,29]),import.meta.url)),ki=s.lazy(()=>h(()=>import("./FieldDuration-1.0.32-C6kZDMIc.js"),__vite__mapDeps([71,1,2,3,22,4,5,6,7,32,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),ni=({appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j,language:S})=>{t.debug(_,p,y,L,e,i,r,E,v,k,S);const W=a(),z=V(r)?W:void 0;if(r!=null&&r.media[p]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(r==null?void 0:r.media[p]))return d.jsx(s.Suspense,{children:d.jsx(ji,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j,language:S,columnMedia:E==null?void 0:E.media[p],mediaType:r==null?void 0:r.media[p]})});if((r==null?void 0:r.media[p])==="HyperlinkObject")return d.jsx(s.Suspense,{children:d.jsx(fi,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j})})}else{if(e.column_type.toLowerCase()==="tinyint(1)")return d.jsx(s.Suspense,{children:d.jsx(vi,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j})});if(i.lookup!==void 0)return d.jsx(ii,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j})}switch(e.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return d.jsx(s.Suspense,{children:d.jsx(pi,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j,language:S})});case"enum":return d.jsx(s.Suspense,{children:d.jsx(ei,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j})});case"set":return d.jsx(s.Suspense,{children:d.jsx(di,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j})});case"time":return i.duration===!0?d.jsx(s.Suspense,{children:d.jsx(ki,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j,language:S})}):d.jsx(s.Suspense,{children:d.jsx(Ei,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j,language:S})});case"date":return d.jsx(s.Suspense,{children:d.jsx(_i,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j,language:S})});case"datetime":case"timestamp":return d.jsx(s.Suspense,{children:d.jsx(yi,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j,language:S})});case"tinytext":case"text":case"mediumtext":case"longtext":return d.jsx(s.Suspense,{children:d.jsx(si,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j})});default:return d.jsx(s.Suspense,{children:d.jsx(ri,{appId:_,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:e,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:v,storeForm:k,formMode:A,locale:j,columnCode:z})})}};export{ni as default};
