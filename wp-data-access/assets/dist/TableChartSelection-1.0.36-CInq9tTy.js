import{j as t}from"./cm-1.0.36-c_d2YVSf.js";import{r as d}from"./redux-1.0.36-Dw38apwx.js";import{u as y,v as M}from"./index-1.0.36-Dv-fkoQB.js";import{u as T}from"./useTableColumnOrder-1.0.36-BKuLdalh.js";import{a as A}from"./hooks-1.0.36-DVpFeylj.js";import{b as v,c as S}from"./useChartSettings-1.0.36-DKli_4MO.js";import{$ as F}from"./lib-1.0.36-RK2jtnD_.js";import{M as I}from"./index.esm-1.0.36-BcBy0Voo.js";import"./LanguagesSupport-1.0.36-CNwr1suX.js";import{a as L}from"./TableContainer-1.0.36-CsHiUQr0.js";import{B as x}from"./Spinner-1.0.36-BfGTD4Gb.js";import{F as B}from"./FormHelperText-1.0.36-CywRqLJL.js";import{I as O,S as P,T as k}from"./TextField-1.0.36-7fMfIiaO.js";import{M as _}from"./MenuItem-1.0.36-BUF9VZzL.js";import{T as w}from"./Tooltip-1.0.36-BmrJt8sK.js";import{I as E}from"./iconBase-1.0.36-Cg_-P7_6.js";import{A as R,C as z}from"./Autocomplete-1.0.36-iUEM6sWc.js";const ro=({appId:s,metaData:n,tableStore:g,setUpdateStatus:p})=>{const h=A(),a=v(s),c=T(s),C=d.useMemo(()=>{const o=[];return c.map(r=>{var l;const e=(l=n==null?void 0:n.columns)==null?void 0:l.findIndex(m=>m.column_name===r);if(e!==-1)switch(n.columns[e].data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":o.push({columnName:r,dataType:"number"});break}}),o},[c]),f=L(s);S(s);const b=d.useMemo(()=>I,[]),u=o=>{h(F({appId:s,property:o})),f(),p&&p(!0)},i=o=>{const r=g.columns.filter(e=>e.columnName===o);return r.length===1?r[0].columnLabel:o};return t.jsxs(t.Fragment,{children:[t.jsxs(x,{sx:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"center"},children:[t.jsx(x,{sx:{marginRight:"12px"},children:t.jsxs(B,{fullWidth:!0,sx:{marginTop:"5px"},children:[t.jsx(O,{variant:"outlined",children:"Major Axis"}),t.jsx(P,{label:"Major Axis",variant:"outlined",value:a.majorAxisColumn,onChange:o=>{u({majorAxisColumn:o.target.value??""}),o.stopPropagation()},className:"pp-chart-category-column",sx:{"&.pp-chart-category-column .MuiSelect-select, &.pp-chart-category-column input":{padding:"16.5px 14px"}},children:c.map(function(o){if(i(o)!=="")return t.jsx(_,{"data-id":"ppChartCategoryColumn",value:o,children:i(o)},o)})})]})}),t.jsx(w,{title:b.groupedBy,children:t.jsx(E,{color:"primary",onClick:o=>{u({grouped:!a.grouped}),o.stopPropagation()},children:a.grouped?t.jsx(y,{}):t.jsx(M,{})})})]}),t.jsx(R,{multiple:!0,options:C.map(o=>o.columnName),getOptionLabel:o=>i(o),value:a.minorAxisColumns,disableCloseOnSelect:!0,onChange:(o,r)=>{u({minorAxisColumns:r}),o.stopPropagation()},renderInput:o=>t.jsx(k,{...o,label:"Minor Axis",variant:"outlined"}),renderTags:(o,r)=>o.map((e,l)=>{const{key:m,...j}=r({index:l});return t.jsx(z,{variant:"outlined",label:i(e),...j},m)}),className:"pp-chart-category-column",sx:{"&.pp-chart-category-column .MuiInputBase-root":{backgroundColor:"transparent"}}})]})};export{ro as T};
