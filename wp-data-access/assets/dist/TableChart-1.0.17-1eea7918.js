import{r as C,j as o,i as S,l as u}from"./main-1.0.17.js";import{P as T,b as c,a as I}from"./index-1.0.17-13514208.js";import{T as P,au as f,B as l}from"./main-1.0.17-54ffa424.js";import{u as w}from"./useTableSortableColumns-1.0.17-11425f5b.js";import{u as F,a as p,D as B,c as D,b as O,d as y,S as E,T as v,M as H,P as L}from"./SortableDragHandle-1.0.17-a2162a27.js";import{I as M}from"./iconBase-1.0.17-8d991e6c.js";import{B as R}from"./useScreenSize-1.0.17-44173319.js";import{P as k}from"./Menu-1.0.17-09126381.js";import{b as z}from"./Select-1.0.17-745624d0.js";import{C as A}from"./Checkbox-1.0.17-3dddd4e7.js";import"./DialogContent-1.0.17-9628df83.js";import"./index.esm-1.0.17-78a91bbf.js";import"./createSvgIcon-1.0.17-f0c1dc0a.js";import"./FormControlLabel-1.0.17-cc31d0c1.js";const oo=({appId:x,componentWidth:h,tableStore:i})=>{const m=w(x),[n,b]=C.useState(m),g=F(p(L),p(H),p(v)),j=e=>{const{active:r,over:s}=e;if(u.debug(r,s),(r==null?void 0:r.id)!==(s==null?void 0:s.id)){const a=n.indexOf(r==null?void 0:r.id),t=n.indexOf(s==null?void 0:s.id);if(a!==void 0&&t!==void 0){const d=[...n];d[t]=r==null?void 0:r.id,d[a]=s==null?void 0:s.id,u.error([...d]),b(d)}}};return o.jsx(T,{variant:"popover",popupId:x,children:e=>o.jsxs(o.Fragment,{children:[h<600?o.jsx(P,{title:"Charts",children:o.jsx(M,{...c(e),children:o.jsx(f,{})})}):o.jsx(R,{variant:"contained",endIcon:o.jsx(f,{}),...c(e),children:"CHARTS"}),o.jsx(k,{...I(e),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)"},children:o.jsx(l,{sx:{display:"grid",gap:"20px",padding:"20px",minWidth:"400px"},children:o.jsxs(l,{children:[o.jsx(z,{children:"Add columns"}),o.jsx(l,{sx:{marginTop:"5px",border:"1px solid #eee",borderRadius:"4px",maxHeight:"160px",overflow:"auto","& > :nth-of-type(even)":{backgroundColor:"#f9f9f9"}},children:o.jsx(B,{autoScroll:!0,sensors:g,collisionDetection:D,onDragEnd:j,children:o.jsx(O,{items:n,children:n.map(r=>{var t;const s=m.indexOf(r);if(s===-1||i.columns[s].computedField!==void 0&&S.appFeature!==!0)return null;const a=i.columns[s].computedField===void 0?i.columns[s].columnLabel:(t=i.columns[s].computedField)==null?void 0:t.label;return o.jsx(y,{id:r,children:o.jsxs(l,{sx:{display:"grid",gridTemplateColumns:"auto 1fr auto",justifyContent:"start",alignItems:"center"},children:[o.jsx(A,{}),o.jsx("span",{children:a}),o.jsx(E,{id:r,enabled:!0},r)]})},r)})})})})]})})})]})})};export{oo as default};
