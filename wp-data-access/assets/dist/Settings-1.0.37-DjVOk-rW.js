const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ResizableDrawer-1.0.37-C5w2uIZI.js","./cm-1.0.37-CEr77VZi.js","./redux-1.0.37-C4JSQ-MG.js","./vendor-1.0.37-CN03Eozo.js","./useScreenSize-1.0.37-X1Uq-TFD.js","./lib-1.0.37-Czwr-8r3.js","./loglevel-1.0.37-BZ7XahX3.js","./lodash-1.0.37-Dx3wKrSf.js","./moment-1.0.37-C5S46NFB.js","./hooks-1.0.37-DW0_oiBB.js","./Typography-1.0.37-DjtXWQnP.js","./ThemeProvider-1.0.37-Cyf1xy26.js","./useEnhancedEffect-1.0.37-UwysO4qr.js","./iconBase-1.0.37-DRohixw7.js","./index-1.0.37-B60ShF2d.js","./notistack-1.0.37-CEqipxDI.js","./Menu-1.0.37-Ca8DeoO3.js","./ThemeSettings-1.0.37-Bw_m4zMJ.js","./useTheme-1.0.37-D4xQQypV.js","./PremiumFeature-1.0.37-BKt66-Fr.js","./index-1.0.37-CK0QxOhD.js","./AdminTheme-1.0.37-7PLndQ8H.js","./FormLabel-1.0.37-BQP5Nx_Z.js","./useFormControl-1.0.37-BcUwa2qz.js","./index-1.0.37-9tYvXmzh.js","./index-1.0.37-D4zhytA1.js","./getThemeProps-1.0.37-BGc0S4YC.js","./Spinner-1.0.37-CwhfSVqI.js","./FormHelperText-1.0.37-ylnS0Km6.js","./utils-1.0.37-iop7lDec.js","./Switch-1.0.37-D8L-tSJ8.js","./SwitchBase-1.0.37-Bwy1aBhJ.js","./useControlled-1.0.37-DyimEgDk.js","./Stack-1.0.37-BFfovUQt.js","./useThemeProps-1.0.37-CD9ZXLtG.js","./Slider-1.0.37-R1cUZahP.js","./visuallyHidden-1.0.37-Dan1xhjv.js","./FormControlLabel-1.0.37-BLp4PuCc.js","./Link-1.0.37-B0loYHQn.js","./RadioGroup-1.0.37-CARB8om5.js","./Radio-1.0.37-C5rUTiNk.js","./createSvgIcon-1.0.37-DXsAQOmB.js","./CssUnitTextField-1.0.37-Cdr3oKtg.js","./TextField-1.0.37-CCe4G0U1.js","./Select-1.0.37-B5ZKqjeL.js","./ConfirmDialog-1.0.37-BDQ_OfRf.js","./DynamicModeEnum-1.0.37-BXuL5kgA.js","./AccordionSummary-1.0.37-Dp-yE6bD.js","./Collapse-1.0.37-DaP8rsgI.js","./AccordionDetails-1.0.37-CWpLs4PS.js","./SettingsMap-1.0.37-DqVpTQ0l.js","./main-1.0.37.js","./react-number-format.es-1.0.37-BXt8B3cr.js","./TabPanel-1.0.37-CPE-1h3v.js","./MenuItem-1.0.37-JkRcsicb.js","./Tooltip-1.0.37-D_uDknxi.js","./Tooltip-1.0.37--D4jr2go.css","./ActionsSettings-1.0.37-DQdLIvID.js","./RestApi-1.0.37-CcjslynE.js","./TargetEnum-1.0.37-CIW1jlU5.js","./index-1.0.37-LxgxH_yq.js","./settings-1.0.37-Bx2jvYL6.css"])))=>i.map(i=>d[i]);
import{_ as h}from"./main-1.0.37.js";import{j as e}from"./cm-1.0.37-CEr77VZi.js";import{r}from"./redux-1.0.37-C4JSQ-MG.js";import{u as P,a as R}from"./hooks-1.0.37-DW0_oiBB.js";import{l as a,ad as L,bf as d,S as c,a1 as K,P as H,a as y,s as q,bK as I,G as A,b as B}from"./lib-1.0.37-Czwr-8r3.js";import{B as W,a as X,b as Y,T as $,c as D}from"./TabPanel-1.0.37-CPE-1h3v.js";import{d as J,A as Q,T as Z,M as ee}from"./index-1.0.37-B60ShF2d.js";import{B as x,C as te}from"./ConfirmDialog-1.0.37-BDQ_OfRf.js";import{T as S,C as E,a as U}from"./Tooltip-1.0.37-D_uDknxi.js";import{A as z}from"./AdminTheme-1.0.37-7PLndQ8H.js";import{e as m}from"./notistack-1.0.37-CEqipxDI.js";import{d as se}from"./ActionsSettings-1.0.37-DQdLIvID.js";import{B as oe,S as f}from"./Spinner-1.0.37-CwhfSVqI.js";/* empty css                        */import{f as re}from"./index-1.0.37-LxgxH_yq.js";import{D as ie}from"./DynamicModeEnum-1.0.37-BXuL5kgA.js";import{T as ne}from"./Typography-1.0.37-DjtXWQnP.js";import{I as g}from"./iconBase-1.0.37-DRohixw7.js";const ae=t=>{const o=P(i=>{var n,p;return(p=(n=i.maps[t])==null?void 0:n.state)==null?void 0:p.isUpdated});return a.debug("isUpdated",o),o},le=t=>{const o=P(i=>i.ui.mapSettings.isOpen&&i.ui.mapSettings.appId===t);return a.debug(t,o),o},ce=t=>{const o=R();return n=>{o(L({appId:t,property:{isUpdated:n}}))}},me=r.lazy(()=>h(()=>import("./ResizableDrawer-1.0.37-C5w2uIZI.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),import.meta.url)),pe=r.lazy(()=>h(()=>import("./ThemeSettings-1.0.37-Bw_m4zMJ.js"),__vite__mapDeps([17,1,2,3,9,5,6,7,8,18,19,20,13,10,12,21,22,23,14,15,24,25,26,27,28,29,30,31,32,33,34,35,11,36,16,37,38,39,40,41,42,43,44,45,46,47,48,49]),import.meta.url)),ue=r.lazy(()=>h(()=>import("./SettingsMap-1.0.37-DqVpTQ0l.js"),__vite__mapDeps([50,1,2,3,9,5,6,7,8,42,14,13,10,12,15,43,44,16,11,29,32,23,41,22,28,27,45,21,47,48,49,39,40,31,35,36,37,30,51,52,19,20,53,54,34,26,55,56,57,58,59,60,46,61]),import.meta.url)),de=({appId:t})=>{var k,v;const o=R(),[i,n]=r.useState(d.getSelectors().selectMap(c.getState().maps,t)),[p,xe]=r.useState(K.getSelectors().selectThemeById(c.getState().themes,t)),[O,b]=r.useState(!1),w=ae(t),j=ce(t),N=((k=z)==null?void 0:k.palette.mode)===H.LIGHT?(v=z)==null?void 0:v.palette.primary.main:"",_=s=>{o(q({anchor:s}))},M=()=>{o(A({appId:t,mapState:i}))},l=()=>{o(I()),o(L({appId:t,property:{isUpdated:!1}}))},u=()=>{w?b(!0):(M(),l())},C=()=>{se(t,s=>{if(a.debug(s),s!=null&&s.code&&(s==null?void 0:s.message)!==void 0)switch(s.code){case"ok":o(A({appId:t,mapState:d.getSelectors().selectMap(c.getState().maps,t)})),n(d.getSelectors().selectMap(c.getState().maps,t)),m(s.message,{variant:"success"});break;case"info":m(s.message,{variant:"info"});break;default:a.error(s),m(s.message??B.contactSupport,{variant:"error"})}},s=>{a.error("error",s),m(s??B.contactSupport,{variant:"error"})}),j(!1)},V=()=>{C(),l()},[T,F]=r.useState(0),G=r.useMemo(()=>[{title:"Map",icon:e.jsx(J,{})},{title:"Theme",icon:e.jsx(re,{})}],[]);return le(t)!==!0?null:e.jsxs(e.Fragment,{children:[e.jsx(r.Suspense,{fallback:e.jsx(f,{}),children:e.jsxs(me,{closeDrawer:u,children:[e.jsxs(Q,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(Z,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(ne,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,paddingLeft:"6px"},children:"Map Builder"}),e.jsx(S,{title:"Dock to left",position:"bottom",children:e.jsx(g,{onClick:()=>{_(y.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(W,{})})}),e.jsx(S,{title:"Dock to right",position:"bottom",children:e.jsx(g,{onClick:()=>{_(y.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(X,{})})}),e.jsx(S,{title:"Close",position:"bottom",children:e.jsx(g,{onClick:u,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(ee,{})})})]}),e.jsx(Y,{menuItems:G,menuIndex:T,setMenu:F})]}),e.jsx(E,{className:"pp-settings-container",children:e.jsx(U,{sx:{padding:0,margin:0},children:e.jsx($,{value:T,children:e.jsxs(oe,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(D,{value:0,children:e.jsx(r.Suspense,{fallback:e.jsx(f,{}),children:e.jsx(ue,{appId:t})})}),e.jsx(D,{value:1,children:e.jsx(r.Suspense,{fallback:e.jsx(f,{}),children:e.jsx(pe,{appId:t,source:ie.TABLE,setIsUpdated:j})})})]})})})}),e.jsx(E,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:N},children:e.jsxs(U,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(x,{variant:"outlined",className:"footer_action_button_apply",onClick:C,children:"Apply"}),e.jsx(x,{variant:"outlined",className:"footer_action_button",onClick:V,children:"OK"}),e.jsx(x,{variant:"outlined",className:"footer_action_button",onClick:u,children:"Cancel"})]})})]})}),e.jsx(te,{title:"Close Map Builder?",message:"All uncommitted changes will be lost!",open:O,setOpen:b,onConfirm:()=>{M(),l()},onKeep:()=>{l()}})]})},Pe=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));export{Pe as S,ce as u};
