const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableQuery-1.0.31-s1kaUzCT.js","./main-1.0.31.js","./cm-1.0.31-BzgG35ZX.js","./redux-1.0.31-CuzmJMK6.js","./vendor-1.0.31-BmpNFhoq.js","./notistack-1.0.31-CuGQWCbt.js","./lib-1.0.31-BbX3jq4e.js","./loglevel-1.0.31-BZ7XahX3.js","./lodash-1.0.31-BtCjXqrS.js","./moment-1.0.31-C5S46NFB.js","./useStoreTable-1.0.31-CksmwD3u.js","./RestApi-1.0.31-C4KxgDIV.js","./index-1.0.31-C4m7fjwq.js","./cjs-1.0.31-B-_HdexB.js","./Typography-1.0.31-BdhCS1KD.js","./iconBase-1.0.31-C37NsRUm.js","./ActionsDml-1.0.31-DnIQKtBi.js","./ConfirmDialog-1.0.31-bZDmgpd0.js","./AdminTheme-1.0.31-QbwKcRV7.js","./DialogContent-1.0.31-_6ykng6a.js","./ConfirmDialog-1.0.31--D4jr2go.css","./SanitizeComponent-1.0.31-Dhv0AQbJ.js","./dompurify-1.0.31-CCJo14B2.js","./index-1.0.31-C_6FsHsh.js","./tanstack-1.0.31-DxTNlTkm.js","./index.esm-1.0.31-BlNbk2TL.js","./createSvgIcon-1.0.31-BC4iq9Gi.js","./index-1.0.31-DboOrfK9.js","./Collapse-1.0.31-CkBm-DA4.js","./Tooltip-1.0.31-crORCg22.js","./Popper-1.0.31-QmfursjS.js","./useControlled-1.0.31-27-LkxG9.js","./Spinner-1.0.31-Be7r01J6.js","./FormControlLabel-1.0.31-VNfgE3Oe.js","./useFormControl-1.0.31-2YJOQA8g.js","./Checkbox-1.0.31-vMcA9dS9.js","./SwitchBase-1.0.31-AIM_3--O.js","./Menu-1.0.31-BOTBPSPr.js","./InputAdornment-1.0.31-DPyTBX7W.js","./Autocomplete-1.0.31-DLbMViDM.js","./TextField-1.0.31-TtMrk-_t.js","./FormHelperText-1.0.31-CQcG9a5q.js","./FormLabel-1.0.31-7Vju-x1c.js","./Close-1.0.31-BTPwVQpD.js","./TimePicker-1.0.31-BANN2pIs.js","./useMobilePicker-1.0.31-DH3b4aWb.js","./index-1.0.31-545nqCBP.js","./visuallyHidden-1.0.31-Dan1xhjv.js","./ListItem-1.0.31-CWrAezii.js","./timeViewRenderers-1.0.31-CeUACARG.js","./MenuItem-1.0.31-CTowyoSp.js","./DateTimePicker-1.0.31-D95kRUCa.js","./Tabs-1.0.31-XRJEidP6.js","./dateViewRenderers-1.0.31-B5XFWF81.js","./Divider-1.0.31-BWKAGEdz.js","./DatePicker-1.0.31-wKpNLdLs.js","./Stack-1.0.31-Bz9nXUZB.js","./Slider-1.0.31-BDZ4XVru.js","./ListItemIcon-1.0.31-BCafYY7N.js","./Radio-1.0.31-DbEe8Ljo.js","./AlertTitle-1.0.31-Zosaacrw.js","./Switch-1.0.31-LPOyRUXk.js","./index.esm-1.0.31-BcBy0Voo.js","./useTheme-1.0.31-BXg8i2QZ.js","./useScreenSize-1.0.31-DKas25yF.js","./ThemeContainer-1.0.31-D01zq5BI.js","./FallbackSpinner-1.0.31-B4qqxHwC.js","./ThemeContainer-1.0.31-DR7D6eET.css","./useTableColumnOrder-1.0.31-CvAinKiB.js","./TableQuery-1.0.31-AnzhVzs2.css","./SettingsTable-1.0.31-CeD4z0kI.js","./useTableUpdater-1.0.31-BVeL37Z7.js","./index-1.0.31-DPuH5k6e.js","./Accordion-1.0.31-CHSmI5oX.js","./AccordionSummary-1.0.31-DgKGWjRF.js","./AccordionDetails-1.0.31-DX5dPS4j.js","./RadioGroup-1.0.31-1v754ceS.js","./Link-1.0.31-ae0Alyop.js","./CssUnitTextField-1.0.31-DtyzTfQS.js","./SettingsFormRelationships-1.0.31-BJYItN0I.js","./ComponentColumn-1.0.31-CsaJiww1.js","./ActionsExplorer-1.0.31-COYUrYlM.js","./ActionsApp-1.0.31-UHtVyR0L.js","./useFormUpdater-1.0.31-DkQqeUhN.js","./ToggleButtonGroup-1.0.31-CFN9Fx2p.js","./Stepper-1.0.31-CLZGpluU.js","./StepContent-1.0.31-BF2cnxnO.js","./PremiumFeature-1.0.31-B1Kns6o6.js","./useFormStore-1.0.31-DLiNtGR5.js","./SettingsColumns-1.0.31-pHyzSZgM.js","./useMetadataColumns-1.0.31-CiEAB2Ka.js","./index-1.0.31-iZtMk8xz.js","./SettingsCharts-1.0.31-LgZSCpsf.js","./SettingsTableCode-1.0.31-CzuS65pg.js","./index-1.0.31-CARe8LQx.js","./index-1.0.31-ujFQUobk.js","./TreeItem2-1.0.31-CX9p1qxK.js","./TreeItem2Provider-1.0.31-CzoUg0V9.js","./ResizableDrawer-1.0.31-Bry8nGEd.js","./ThemeSettings-1.0.31-DhXG_x5i.js"])))=>i.map(i=>d[i]);
import{j as e}from"./cm-1.0.31-BzgG35ZX.js";import{r as o}from"./redux-1.0.31-CuzmJMK6.js";import{A as L,a as H,T as Q}from"./AdminTheme-1.0.31-QbwKcRV7.js";import{l as n,a1 as S,S as h,ar as q,P as K,a as R,s as W,bm as X,bn as Y,b as T,_ as $}from"./lib-1.0.31-BbX3jq4e.js";import{_ as m}from"./main-1.0.31.js";import{Q as J,a as Z}from"./tanstack-1.0.31-DxTNlTkm.js";import{F as ee}from"./FallbackSpinner-1.0.31-B4qqxHwC.js";import{u as M,a as te}from"./RestApi-1.0.31-C4KxgDIV.js";import{b as se}from"./ActionsSettings-1.0.31-Cf56Toxs.js";import{T as f,C as D,a as O,b as oe}from"./ConfirmDialog-1.0.31-bZDmgpd0.js";import{S as re}from"./ScopeEnum-1.0.31-B4DDvIDj.js";import{g as ie,j as ne,f as le,k as ae,l as ce}from"./index-1.0.31-ujFQUobk.js";import{A as me,T as ue,M as de,B as _}from"./cjs-1.0.31-B-_HdexB.js";import{e as b}from"./notistack-1.0.31-CuGQWCbt.js";import{B as be,a as xe,T as he,b as x}from"./TabPanel-1.0.31-CQFpWPRX.js";import{S as u,B as pe}from"./Spinner-1.0.31-Be7r01J6.js";import{u as ge}from"./useTableUpdater-1.0.31-BVeL37Z7.js";import{B as je}from"./settings-1.0.31-zyRrYuee.js";import{C as Se,D as Te}from"./useTheme-1.0.31-BXg8i2QZ.js";import{T as fe}from"./Typography-1.0.31-BdhCS1KD.js";import{I as C}from"./iconBase-1.0.31-C37NsRUm.js";const _e=o.lazy(()=>m(()=>import("./TableQuery-1.0.31-s1kaUzCT.js").then(t=>t.T),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69]),import.meta.url)),Ce=({appId:t,display:r,refresh:i,metaData:a,showForm:l})=>{n.debug(t,r,i);const c=new J;return e.jsx(Z,{client:c,children:e.jsx(o.Suspense,{fallback:e.jsx(ee,{}),children:e.jsx(_e,{appId:t,display:r,refresh:i,showForm:l,metaData:a})})})},ve=t=>{const r=M(i=>i.ui.tableSettings.isOpen&&i.ui.tableSettings.appId===t);return n.debug("tableSettingsVisible",r),r},ke=()=>{const t=M(r=>r.ui.tableSettings.hideThemeSettings);return n.debug("hideThemeSetting",t),t},Be=o.lazy(()=>m(()=>import("./SettingsTable-1.0.31-CeD4z0kI.js"),__vite__mapDeps([70,2,3,4,6,7,8,9,11,10,13,14,15,5,71,72,73,37,18,31,28,74,75,32,41,34,76,59,36,26,33,61,77,78,40,42,79,80,81,39,43,30,82,35,29,23,83,50,84,85,86,63,27,17,19,20,87,88,48]),import.meta.url)),Ee=o.lazy(()=>m(()=>import("./SettingsColumns-1.0.31-pHyzSZgM.js"),__vite__mapDeps([89,2,3,4,90,13,14,6,7,8,9,15,5,63,11,27,10,88,32,18,91,16,23,40,41,34,42,37,31,26,50,72,71,85,86,28,33,35,36,17,19,20,77,73,74,75,61,57,47,87,76,59,68,39,43,30]),import.meta.url)),ye=o.lazy(()=>m(()=>import("./SettingsCharts-1.0.31-LgZSCpsf.js"),__vite__mapDeps([92,2,3,4,6,7,8,9,10,11,71,73,37,14,18,15,13,5,31,28,75,41,34,33,61,36,32]),import.meta.url)),Ae=o.lazy(()=>m(()=>import("./SettingsTableCode-1.0.31-CzuS65pg.js"),__vite__mapDeps([93,2,3,4,94,46,13,14,6,7,8,9,15,5,11,65,1,32,18,10,16,63,27,64,22,66,29,30,31,67,71,87,23,42,34,95,73,37,28,74,96,97,19,26,35,36]),import.meta.url)),Pe=o.lazy(()=>m(()=>import("./ResizableDrawer-1.0.31-Bry8nGEd.js"),__vite__mapDeps([98,2,3,4,64,6,7,8,9,11,14,18,15,13,5,37]),import.meta.url)),ze=o.lazy(()=>m(()=>import("./ThemeSettings-1.0.31-DhXG_x5i.js"),__vite__mapDeps([99,2,3,4,11,6,7,8,9,63,27,14,13,15,5,87,23,18,42,34,12,32,41,61,36,31,56,19,57,47,37,33,77,76,59,26,78,40,73,28,74,75]),import.meta.url)),Le=({appId:t,metaData:r})=>{var P,z;n.debug(t,r);const i=te(),a=ke();Se();const l=ge(t),[c,p]=o.useState(S.getSelectors().selectTableById(h.getState().tables,t));n.debug(c);const[V,De]=o.useState(q.getSelectors().selectThemeById(h.getState().themes,t));n.debug(V);const[w,v]=o.useState(!1),k=()=>S.getSelectors().selectTableIsUpdated(h.getState().tables,t),g=s=>{l(s)},N=((P=L)==null?void 0:P.palette.mode)===K.LIGHT?(z=L)==null?void 0:z.palette.primary.main:"",B=s=>{i(W({anchor:s}))},E=()=>{i(X({appId:t,tableState:c}))},d=()=>{i(Y({})),g(!1)},j=()=>{k()?v(!0):(E(),d())},y=()=>{se(t,re.GLOBAL,s=>{if(n.debug(s),s!=null&&s.code&&(s==null?void 0:s.message)!==void 0)switch(s.code){case"ok":p(S.getSelectors().selectTableById(h.getState().tables,t)),b(s.message,{variant:"success"});break;case"info":b(s.message,{variant:"info"});break;default:n.error(s),b(s.message??T.contactSupport,{variant:"error"})}else n.error(s),b(T.contactSupport,{variant:"error"})},s=>{n.error("error",s),b(s??T.contactSupport,{variant:"error"})}),g(!1)},F=()=>{k()?(y(),setTimeout(()=>{d()},1e3)):d()},U=ve(t),[A,I]=o.useState(0),G=o.useMemo(()=>{const s=[{title:"Table",icon:e.jsx(ie,{})},{title:"Columns",icon:e.jsx(ne,{})},{title:"Hooks",icon:e.jsx(le,{})},{title:"Charts",icon:e.jsx(ae,{})},{title:"Theme",icon:e.jsx(ce,{})}];return a?s.splice(0,4):s},[a]);return e.jsx(e.Fragment,{children:U&&e.jsxs(e.Fragment,{children:[e.jsx(o.Suspense,{fallback:e.jsx(u,{}),children:e.jsxs(Pe,{closeDrawer:j,children:[e.jsxs(me,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(ue,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(fe,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,paddingLeft:"6px"},children:"Table Builder"}),e.jsx(f,{title:"Dock to left",position:"bottom",children:e.jsx(C,{onClick:()=>{B(R.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(be,{})})}),e.jsx(f,{title:"Dock to right",position:"bottom",children:e.jsx(C,{onClick:()=>{B(R.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(xe,{})})}),e.jsx(f,{title:"Close",position:"bottom",children:e.jsx(C,{onClick:j,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(de,{})})})]}),e.jsx(je,{menuItems:G,menuIndex:A,setMenu:I})]}),e.jsx(D,{className:"pp-settings-container",children:e.jsx(O,{sx:{padding:0,margin:0},children:e.jsx(he,{value:A,children:e.jsxs(pe,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(x,{value:0,children:e.jsx(o.Suspense,{fallback:e.jsx(u,{}),children:e.jsx(Be,{appId:t,metaData:r})})}),e.jsx(x,{value:1,className:"pp-column-settings-container",children:e.jsx(o.Suspense,{fallback:e.jsx(u,{}),children:e.jsx(Ee,{appId:t,metaData:r})})}),e.jsx(x,{value:2,children:e.jsx(o.Suspense,{fallback:e.jsx(u,{}),children:e.jsx(Ae,{appId:t,tableSettings:c})})}),e.jsx(x,{value:3,children:e.jsx(o.Suspense,{fallback:e.jsx(u,{}),children:e.jsx(ye,{appId:t})})}),a!==!0&&e.jsx(x,{value:4,children:e.jsx(o.Suspense,{fallback:e.jsx(u,{}),children:e.jsx(ze,{appId:t,source:Te.TABLE,setIsUpdated:g})})})]})})})}),e.jsx(D,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:N},children:e.jsxs(O,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(_,{variant:"outlined",className:"footer_action_button_apply",onClick:y,children:"Apply"}),e.jsx(_,{variant:"outlined",className:"footer_action_button",onClick:F,children:"OK"}),e.jsx(_,{variant:"outlined",className:"footer_action_button",onClick:j,children:"Cancel"})]})})]})}),e.jsx(oe,{title:"Close Table Builder?",message:"All uncommitted changes will be lost!",open:w,setOpen:v,onConfirm:()=>{E(),d()},onKeep:()=>{d()}})]})})},Re=({appId:t,display:r,refresh:i,showForm:a,metaData:l})=>{n.debug(t,r,i);const c=o.useMemo(()=>$(l),[l]),p=o.useMemo(()=>H(),[]);return e.jsxs(e.Fragment,{children:[e.jsx(Ce,{appId:t,display:r,refresh:i,showForm:a,metaData:l}),c&&e.jsx(Q,{theme:p,children:e.jsx(Le,{appId:t,metaData:l})})]})},st=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"}));export{st as T,ve as u};
