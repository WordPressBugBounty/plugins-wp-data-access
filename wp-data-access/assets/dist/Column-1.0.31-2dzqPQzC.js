const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.31-N-CFjnZ6.js","./cm-1.0.31-BzgG35ZX.js","./redux-1.0.31-CuzmJMK6.js","./vendor-1.0.31-BmpNFhoq.js","./lib-1.0.31-BbX3jq4e.js","./loglevel-1.0.31-BZ7XahX3.js","./lodash-1.0.31-BtCjXqrS.js","./moment-1.0.31-C5S46NFB.js","./TextField-1.0.31-TtMrk-_t.js","./Typography-1.0.31-BdhCS1KD.js","./iconBase-1.0.31-C37NsRUm.js","./FormHelperText-1.0.31-CQcG9a5q.js","./useFormControl-1.0.31-2YJOQA8g.js","./cjs-1.0.31-B-_HdexB.js","./notistack-1.0.31-CuGQWCbt.js","./FormLabel-1.0.31-7Vju-x1c.js","./Menu-1.0.31-BOTBPSPr.js","./AdminTheme-1.0.31-QbwKcRV7.js","./useControlled-1.0.31-27-LkxG9.js","./createSvgIcon-1.0.31-BC4iq9Gi.js","./FieldTextarea-1.0.31-BR3DubHM.js","./FieldNumber-1.0.31-CcbCVjKV.js","./react-number-format.es-1.0.31-BqNlp_-j.js","./FieldSet-1.0.31-tV-M2Ps7.js","./MenuItem-1.0.31-CTowyoSp.js","./FieldEnum-1.0.31-DNvJbfN-.js","./EnumTypeEnum-1.0.31-Ws4BsaYD.js","./RadioGroup-1.0.31-1v754ceS.js","./Radio-1.0.31-DbEe8Ljo.js","./SwitchBase-1.0.31-AIM_3--O.js","./FormControlLabel-1.0.31-VNfgE3Oe.js","./FieldDate-1.0.31-BS3lFThs.js","./RestApi-1.0.31-C4KxgDIV.js","./lang-1.0.31-C-JOq-t2.js","./useTheme-1.0.31-BXg8i2QZ.js","./index-1.0.31-DboOrfK9.js","./ThemeContainer-1.0.31-D01zq5BI.js","./main-1.0.31.js","./Spinner-1.0.31-Be7r01J6.js","./useStoreTable-1.0.31-CksmwD3u.js","./ActionsDml-1.0.31-DnIQKtBi.js","./useScreenSize-1.0.31-DKas25yF.js","./dompurify-1.0.31-CCJo14B2.js","./FallbackSpinner-1.0.31-B4qqxHwC.js","./Tooltip-1.0.31-crORCg22.js","./Popper-1.0.31-QmfursjS.js","./ThemeContainer-1.0.31-DR7D6eET.css","./useMobilePicker-1.0.31-DH3b4aWb.js","./index-1.0.31-545nqCBP.js","./DialogContent-1.0.31-_6ykng6a.js","./InputAdornment-1.0.31-DPyTBX7W.js","./visuallyHidden-1.0.31-Dan1xhjv.js","./ListItem-1.0.31-CWrAezii.js","./Autocomplete-1.0.31-DLbMViDM.js","./Close-1.0.31-BTPwVQpD.js","./AdapterDayjs-1.0.31-BKjFnHxt.js","./DatePicker-1.0.31-wKpNLdLs.js","./dateViewRenderers-1.0.31-B5XFWF81.js","./FieldDatetime-1.0.31-hyybvvNu.js","./DateTimePicker-1.0.31-D95kRUCa.js","./Tabs-1.0.31-XRJEidP6.js","./timeViewRenderers-1.0.31-CeUACARG.js","./Divider-1.0.31-BWKAGEdz.js","./FieldTime-1.0.31-4znNFlpV.js","./TimePicker-1.0.31-BANN2pIs.js","./FieldCheckbox-1.0.31-2GAyJh6V.js","./Checkbox-1.0.31-vMcA9dS9.js","./ColumnWpMedia-1.0.31-BvK82FzU.js","./index-1.0.31-C_6FsHsh.js","./index.esm-1.0.31-BcBy0Voo.js","./ColumnHyperlink-1.0.31-apK_qwda.js","./FieldDuration-1.0.31-pCp7lAcs.js"])))=>i.map(i=>d[i]);
import{_ as b}from"./main-1.0.31.js";import{j as e}from"./cm-1.0.31-BzgG35ZX.js";import{r as s}from"./redux-1.0.31-CuzmJMK6.js";import{l as h,m as Q,cb as I,cc as V,cd as M,K as X}from"./lib-1.0.31-BbX3jq4e.js";import{l as C}from"./ActionsDml-1.0.31-DnIQKtBi.js";import{f as n}from"./ThemeContainer-1.0.31-D01zq5BI.js";import{T as Y}from"./TargetEnum-1.0.31-DPFnTxiX.js";import{i as o}from"./index-1.0.31-C4m7fjwq.js";import{A as D}from"./Autocomplete-1.0.31-DLbMViDM.js";import{T as l}from"./TextField-1.0.31-TtMrk-_t.js";import"./vendor-1.0.31-BmpNFhoq.js";import"./notistack-1.0.31-CuGQWCbt.js";import"./loglevel-1.0.31-BZ7XahX3.js";import"./lodash-1.0.31-BtCjXqrS.js";import"./moment-1.0.31-C5S46NFB.js";import"./RestApi-1.0.31-C4KxgDIV.js";import"./Spinner-1.0.31-Be7r01J6.js";import"./Typography-1.0.31-BdhCS1KD.js";import"./AdminTheme-1.0.31-QbwKcRV7.js";import"./useStoreTable-1.0.31-CksmwD3u.js";import"./useTheme-1.0.31-BXg8i2QZ.js";import"./index-1.0.31-DboOrfK9.js";import"./cjs-1.0.31-B-_HdexB.js";import"./iconBase-1.0.31-C37NsRUm.js";import"./useScreenSize-1.0.31-DKas25yF.js";import"./dompurify-1.0.31-CCJo14B2.js";import"./FallbackSpinner-1.0.31-B4qqxHwC.js";import"./Tooltip-1.0.31-crORCg22.js";import"./Popper-1.0.31-QmfursjS.js";import"./useControlled-1.0.31-27-LkxG9.js";import"./Close-1.0.31-BTPwVQpD.js";import"./createSvgIcon-1.0.31-BC4iq9Gi.js";import"./FormHelperText-1.0.31-CQcG9a5q.js";import"./useFormControl-1.0.31-2YJOQA8g.js";import"./FormLabel-1.0.31-7Vju-x1c.js";import"./Menu-1.0.31-BOTBPSPr.js";const m=(d,p)=>({}),a=({appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,storeForm:E,formMode:j,locale:k})=>{var U,K;h.debug(d,p,y,L,_,i,P,r,E,j,k);const A=n(d),[v,S]=s.useState([]);h.debug("lov",v);const[T,H]=s.useState(!1),[Z,g]=s.useState(""),[W,$]=s.useState(Array.isArray((U=i.lookup)==null?void 0:U.dynamicConditions)?(K=i.lookup)==null?void 0:K.dynamicConditions.map(f=>({columnName:f.tableColumnName,columnValue:""})):[]);h.debug("conditions",W),s.useEffect(()=>{var f,R;Array.isArray((f=i.lookup)==null?void 0:f.dynamicConditions)&&((R=i.lookup)==null||R.dynamicConditions.map(t=>{A[t.tableColumnName]===void 0&&h.error("Invalid lookup: column "+t.tableColumnName+" in dynamic condition not found.")})),W.length===0&&q()},[i.lookup]),s.useEffect(()=>{var f,R;if(Object.keys(W).length>0){const t=Array.isArray((f=i.lookup)==null?void 0:f.dynamicConditions)?(R=i.lookup)==null?void 0:R.dynamicConditions.map(x=>({columnName:x.lookupColumnName,columnValue:A[x.tableColumnName]??""})):[];if(h.debug(t),!o(W,t)){const x={};t.length>0&&t.map(z=>{x[z.columnName]=z.columnValue}),h.debug("reloading dynamic lookup",p,t),q(x),$(t)}}},[A]);const q=(f={})=>{var R,t;C(d,(r==null?void 0:r.useRform)===!0?Y.RFORM:Y.FORM,p,((R=i.lookup)==null?void 0:R.key)??"",((t=i.lookup)==null?void 0:t.value)??"",f,{},x=>{var z,B,G;if(h.debug(x),(x==null?void 0:x.code)==="ok"){if(!((z=i.lookup)!=null&&z.value.includes(",")))S(x.data);else{const u=(B=i.lookup)==null?void 0:B.value.split(","),J=[];for(let F=0;F<x.data.length;F++){const c=u.map(N=>x.data[F][N]).join(((G=i.lookup)==null?void 0:G.delimiter)??"");J.push({key:x.data[F].key,value:c})}S(J)}H(!1),g("")}else H(!0),g(x.message),S([])},x=>{H(!0),g(x),S([])})},w=s.useMemo(()=>v.filter(f=>f.key===y)[0]??null,[y,v]);return e.jsx(D,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:v,getOptionLabel:f=>Array.isArray(f.value)?Q(f.value[0]):Q(f.value),value:w,onChange:(f,R)=>{R!==null?O(p,R==null?void 0:R.key):O(p,null)},disabled:I(r,_,i,j),className:i.classNames,renderInput:f=>e.jsx(l,{error:T,label:_.formLabel,required:_.is_nullable==="NO",...f,variant:V(),helperText:T?Z:M(i,k.selectEnum),disabled:j===X.VIEW||j===X.UPDATE&&(r.primary_key.includes(p)||i.updatable===!1),sx:{"& input":{textAlign:i.alignment}}})})},ii=s.lazy(()=>b(()=>import("./FieldText-1.0.31-N-CFjnZ6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),ri=s.lazy(()=>b(()=>import("./FieldTextarea-1.0.31-BR3DubHM.js"),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),si=s.lazy(()=>b(()=>import("./FieldNumber-1.0.31-CcbCVjKV.js"),__vite__mapDeps([21,1,2,3,22,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),pi=s.lazy(()=>b(()=>import("./FieldSet-1.0.31-tV-M2Ps7.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,11,9,12,8,10,13,14,15,16,17,18,19,24]),import.meta.url)),ei=s.lazy(()=>b(()=>import("./FieldEnum-1.0.31-DNvJbfN-.js"),__vite__mapDeps([25,1,2,3,4,5,6,7,11,9,12,8,10,13,14,15,16,17,18,19,24,26,27,28,29,30]),import.meta.url)),_i=s.lazy(()=>b(()=>import("./FieldDate-1.0.31-BS3lFThs.js"),__vite__mapDeps([31,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,17,39,40,41,42,43,44,45,18,46,47,48,49,50,12,11,8,15,16,19,51,52,53,54,55,56,57]),import.meta.url)),di=s.lazy(()=>b(()=>import("./FieldDatetime-1.0.31-hyybvvNu.js"),__vite__mapDeps([58,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,17,39,40,41,42,43,44,45,18,46,47,48,49,50,12,11,8,15,16,19,51,52,53,54,55,59,60,61,24,57,62]),import.meta.url)),yi=s.lazy(()=>b(()=>import("./FieldTime-1.0.31-4znNFlpV.js"),__vite__mapDeps([63,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,17,39,40,41,42,43,44,45,18,46,47,48,49,50,12,11,8,15,16,19,51,52,53,54,55,64,61,24]),import.meta.url)),Ei=s.lazy(()=>b(()=>import("./FieldCheckbox-1.0.31-2GAyJh6V.js"),__vite__mapDeps([65,1,2,3,4,5,6,7,11,9,12,30,10,66,29,18,19]),import.meta.url)),ji=s.lazy(()=>b(()=>import("./ColumnWpMedia-1.0.31-BvK82FzU.js"),__vite__mapDeps([67,1,2,3,4,5,6,7,32,68,10,9,69,34,35,13,14,38,11,12]),import.meta.url)),vi=s.lazy(()=>b(()=>import("./ColumnHyperlink-1.0.31-apK_qwda.js"),__vite__mapDeps([70,1,2,3,4,5,6,7,38,9,8,10,11,12,13,14,15,16,17,18,19,30,66,29]),import.meta.url)),fi=s.lazy(()=>b(()=>import("./FieldDuration-1.0.31-pCp7lAcs.js"),__vite__mapDeps([71,1,2,3,22,4,5,6,7,32,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),ni=({appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:S})=>{h.debug(d,p,y,L,_,i,r,E,j,k,S);const T=m();if(r!=null&&r.media[p]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(r==null?void 0:r.media[p]))return e.jsx(s.Suspense,{children:e.jsx(ji,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:S,columnMedia:E==null?void 0:E.media[p],mediaType:r==null?void 0:r.media[p]})});if((r==null?void 0:r.media[p])==="HyperlinkObject")return e.jsx(s.Suspense,{children:e.jsx(vi,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})})}else{if(_.column_type.toLowerCase()==="tinyint(1)")return e.jsx(s.Suspense,{children:e.jsx(Ei,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})});if(i.lookup!==void 0)return e.jsx(a,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})}switch(_.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return e.jsx(s.Suspense,{children:e.jsx(si,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:S})});case"enum":return e.jsx(s.Suspense,{children:e.jsx(ei,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})});case"set":return e.jsx(s.Suspense,{children:e.jsx(pi,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})});case"time":return i.duration===!0?e.jsx(s.Suspense,{children:e.jsx(fi,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:S})}):e.jsx(s.Suspense,{children:e.jsx(yi,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:S})});case"date":return e.jsx(s.Suspense,{children:e.jsx(_i,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:S})});case"datetime":case"timestamp":return e.jsx(s.Suspense,{children:e.jsx(di,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:S})});case"tinytext":case"text":case"mediumtext":case"longtext":return e.jsx(s.Suspense,{children:e.jsx(ri,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})});default:return e.jsx(s.Suspense,{children:e.jsx(ii,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,columnCode:T})})}};export{ni as default};
