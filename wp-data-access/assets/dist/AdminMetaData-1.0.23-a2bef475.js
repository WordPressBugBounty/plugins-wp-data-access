import{r as o,_ as h,l as c,aI as D,Y as j,j as i,C as S}from"./main-1.0.23.js";import{a as T}from"./RestApi-1.0.23-cc179eb9.js";import{g as M}from"./ActionsDml-1.0.23-e3901c9d.js";import{u as y,S as L}from"./usePrepareStore-1.0.23-c25c6ac5.js";import{F as E}from"./FallbackSpinner-1.0.23-96931408.js";const P=o.lazy(()=>h(()=>import("./ThemeContainer-1.0.23-10b65460.js").then(a=>a.T),["./ThemeContainer-1.0.23-10b65460.js","./main-1.0.23.js","./RestApi-1.0.23-cc179eb9.js","./useTheme-1.0.23-55aea9bb.js","./colorManipulator-1.0.23-e382be1d.js","./Typography-1.0.23-19a0fd3e.js","./iconBase-1.0.23-43ac6f06.js","./index.esm-1.0.23-ba0465a2.js","./FallbackSpinner-1.0.23-96931408.js","./Spinner-1.0.23-90ab83ff.js","./Tooltip-1.0.23-1b58a848.js","./ThemeProvider-1.0.23-f3e5cbc1.js","./Popper-1.0.23-4a0d0616.js","./useControlled-1.0.23-1e71c28b.js","./Grow-1.0.23-40b2ff68.js"],import.meta.url)),O=({dbs:a,tbl:r,appId:n,exploring:x})=>{c.debug(a,r,n);const u=T(),[l,m]=o.useState(""),[f,A]=o.useState(!1),{prepareAdminStore:g}=y(n,L.ADMIN);o.useEffect(()=>{f||_()},[a,r]);const _=()=>{M(a,r,!1,function(t){var d,p;const e=t==null?void 0:t.data;if(c.debug("response data",a,r,e),(d=e==null?void 0:e.access)!=null&&d.select&&Array.isArray(e.access.select)&&e.access.select.includes("POST"))g(a,r,e,x===!0)?A(!0):m(S.contactSupport);else{let s="Unauthorized";((p=t==null?void 0:t.data)==null?void 0:p.message)!==void 0&&(s=t.data.message),s+=" - check console for more information",c.error(s),m(s)}},t=>{c.error("error",t),m(t??S.contactSupport)})};return l!==""?(u(D({error:l})),u(j({})),null):f?i.jsx(o.Suspense,{fallback:i.jsx(E,{}),children:i.jsx(P,{appId:n})}):i.jsx(E,{})};export{O as A};
