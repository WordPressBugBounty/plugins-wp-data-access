import{j as e}from"./cm-1.0.41-DxZ4itL_.js";import{P as R,b as y,a as z}from"./index-1.0.41-Wbyk3QBm.js";import{r as t,R as H}from"./redux-1.0.41-DJjpZqD1.js";import{T as V}from"./Tooltip-1.0.41-BQBkdKQ5.js";import{S as q,T as d,u as _}from"./SettingsTableGlobalCode-1.0.41-B9CN6QGy.js";import{P as J}from"./PremiumFeature-1.0.41-CNKLpmFu.js";import{l as i,v as Q,cM as X,cN as Y}from"./lib-1.0.41-DFdWuh_n.js";import{B as Z}from"./ConfirmDialog-1.0.41-NKESMhfW.js";import{a as $}from"./hooks-1.0.41-sDnKeMy7.js";import{a as k,e as ee}from"./SharedContainer-1.0.41-ChmyKXs8.js";import{u as oe}from"./useMetadata-1.0.41-DKmF8A3i.js";import{q as te}from"./index-1.0.41-DGYaemnA.js";import{a0 as re}from"./index-1.0.41-CpXj521P.js";import{u as se}from"./useGlobalCode-1.0.41-C_ABIbFf.js";import{A as w,a as A}from"./AccordionSummary-1.0.41-CY9CEWZQ.js";import{B as b}from"./Spinner-1.0.41-fWZy8imI.js";import{I as ie}from"./iconBase-1.0.41-BNQFQdHp.js";import{P as ne}from"./Menu-1.0.41-DBfdBNVU.js";import{S as me}from"./TreeItem2Provider-1.0.41-CvRVbaxa.js";import"./vendor-1.0.41-CN03Eozo.js";import"./index-1.0.41-Ca6zW1RM.js";import"./Tooltip-1.0.41-g4uuOuci.js";import"./Typography-1.0.41-BIN1Ddvh.js";import"./ThemeProvider-1.0.41-D1lNQgXT.js";import"./useEnhancedEffect-1.0.41-BVsyj6AW.js";import"./useControlled-1.0.41-BEhJe3xs.js";import"./Popper-1.0.41-Dl4_0sfD.js";import"./Checkbox-1.0.41-C_619ZQC.js";import"./SwitchBase-1.0.41-C_lqznV-.js";import"./useFormControl-1.0.41-1E9QEnRo.js";import"./createSvgIcon-1.0.41-0lRWzB2Q.js";import"./Collapse-1.0.41-QlMDtjRk.js";import"./index-1.0.41-B2jO0d0P.js";import"./AdminTheme-1.0.41-4tiUoVeb.js";import"./FormLabel-1.0.41-CgxisugM.js";import"./loglevel-1.0.41-BZ7XahX3.js";import"./lodash-1.0.41-Cd8grAqB.js";import"./moment-1.0.41-C5S46NFB.js";import"./main-1.0.41.js";import"./notistack-1.0.41-Bq-EKqc7.js";import"./useStoreTable-1.0.41-B5fmNNPS.js";import"./ActionsDml-1.0.41--r5h77NM.js";import"./RestApi-1.0.41-CZ_yORv3.js";import"./useChartSettings-1.0.41-B9jmOMx5.js";import"./useRemoveAppFromStore-1.0.41-CfqgzE5H.js";import"./lang-1.0.41-Bm0VdcRH.js";import"./useStoreFormSettings-1.0.41-6QwIhzSX.js";import"./useFormDetails-1.0.41-B5EIEVl2.js";import"./DynamicModeEnum-1.0.41-BXuL5kgA.js";import"./AppTheme-1.0.41-BMrYDtWL.js";import"./index-1.0.41-zQwWCc96.js";import"./getThemeProps-1.0.41-BXG_2HDV.js";import"./useScreenSize-1.0.41-B3FN-Ith.js";import"./dompurify-1.0.41-DhD2mIk-.js";import"./dayjs.min-1.0.41-CD-l-E21.js";import"./FallbackSpinner-1.0.41-2QUzxGrn.js";import"./AlertDialog-1.0.41-BPsbbiwH.js";import"./SanitizeComponent-1.0.41-B18z6eJi.js";import"./useThemeProps-1.0.41-BJkkrkB6.js";const So=({appId:l,tableSettings:h,setUpdateStatus:P,buttonEditorOk:p})=>{i.debug(l,h),$();const[E,u]=t.useState(!0),[ae,C]=t.useState(!1),g=t.useMemo(()=>Q(),[]);i.debug("popupId",g);const G=se(),n=ee(),U=k(l),m=oe(l),{formIcon:B,codeLabel:j,codeTitle:c,columnIcon:M,dataTypeIcon:D,getColumnLabel:W}=_(u,C),[de,le]=t.useState(""),[pe,ue]=t.useState(!1),[ce,fe]=t.useState(void 0),[xe,be]=t.useState(void 0),K=s=>{const o=["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(m==null?void 0:m.media[s])||(m==null?void 0:m.media[s])==="HyperlinkObject";return i.debug("disableColumnEvents",o),!o},[v,N]=t.useState(!1);t.useEffect(()=>{v&&(p(),N(!1))},[v]);const[I,O]=t.useState(!1);t.useEffect(()=>{I&&(p(),O(!1))},[I]);const[S,L]=t.useState(!1);return t.useEffect(()=>{S&&(p(),L(!1))},[S]),e.jsxs(H.Fragment,{children:[e.jsx(w,{disableGutters:!0,children:e.jsx(A,{component:"div",children:e.jsx(R,{variant:"popover",popupId:g,children:s=>e.jsxs(e.Fragment,{children:[e.jsxs(b,{sx:{width:"100%",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(Z,{variant:"contained",endIcon:e.jsx(te,{}),...y(s),onMouseDown:()=>{s.isOpen&&u(!0)},children:"List of hooks"}),e.jsx(V,{title:"Documentation",children:e.jsx(ie,{onClick:()=>{window.open("https://wpdataaccess.com/docs/hooks/getting-started-with-hooks/","_blank")},children:e.jsx(re,{})})})]}),e.jsx(ne,{...z(s),open:s.isOpen&&E,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{maxHeight:"70vh",marginRight:"35px","& span":{userSelect:"none",MozUserSelect:"none",KhtmlUserSelect:"none",WebkitUserSelect:"none",OUserSelect:"none"}},children:e.jsx(b,{sx:{minWidth:"360px",display:"grid",gap:"20px",padding:"20px","& .MuiTreeItem-content:hover ":{background:"rgba(248, 248, 248, 1) !important"}},children:e.jsxs(me,{children:[e.jsx(q,{appId:l,tableSettings:h,globalCode:G,setUpdateStatus:P,setOpen:u,setAutoExpand:C}),e.jsx(d,{itemId:"formGroup",label:c(B(),"Form"),children:X.map(o=>{var f,r;return e.jsx(d,{itemId:"table-"+o,label:j(o,()=>{},n!==void 0&&n[o]!==void 0,(n!==void 0&&((f=n[o])==null?void 0:f.visible))??!0,a=>{i.debug(a)},(n!==void 0&&((r=n[o])==null?void 0:r.enabled))??!0,a=>{i.debug(a)})},"table-"+o)})},"formGroup"),e.jsxs(d,{itemId:"columnGroup",label:c(M(),"Columns"),children:[...U.map((o,f)=>o.computedField!==void 0?null:e.jsx(d,{itemId:o.columnName,label:c(D(),W(o)),style:{paddingLeft:"35px"},children:Y.map(r=>{var F,T;const a=K(o.columnName);return console.debug("hasEvents",a),e.jsx(d,{itemId:"column-"+o.columnName+"-"+r,label:j(r,()=>{},o.columnCode[r]!==void 0,((F=o.columnCode[r])==null?void 0:F.visible)??!0,x=>{i.debug(x)},((T=o.columnCode[r])==null?void 0:T.enabled)??!0,x=>{i.debug(x)},!a)},"column-"+o.columnName+"-"+r)})},o.columnName))]},"columnGroup")]})})})]})})})},"CodeBuilder"),!1,e.jsx(w,{disableGutters:!0,children:e.jsx(A,{children:e.jsx(b,{sx:{"& label":{marginTop:0}},children:e.jsx(J,{})})})})]},"CodeBuilderMain")};export{So as default};
