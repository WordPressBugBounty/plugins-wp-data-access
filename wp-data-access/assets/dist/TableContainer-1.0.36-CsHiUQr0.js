const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableQuery-1.0.36-CbSpQRnN.js","./main-1.0.36.js","./cm-1.0.36-c_d2YVSf.js","./redux-1.0.36-Dw38apwx.js","./vendor-1.0.36-CN03Eozo.js","./notistack-1.0.36-BWLrSPn1.js","./lib-1.0.36-RK2jtnD_.js","./loglevel-1.0.36-BZ7XahX3.js","./lodash-1.0.36-DFhYoGis.js","./moment-1.0.36-C5S46NFB.js","./useStoreTable-1.0.36-DAzrykvV.js","./hooks-1.0.36-DVpFeylj.js","./index-1.0.36-BDOx_E1a.js","./index-1.0.36-Cdz_jNzK.js","./iconBase-1.0.36-Cg_-P7_6.js","./Typography-1.0.36-CpRCY5e-.js","./useEnhancedEffect-1.0.36-CTzd5Szc.js","./ActionsDml-1.0.36-CcZ8-7p5.js","./RestApi-1.0.36-XUqEDvWp.js","./Tooltip-1.0.36-COg3Mxx7.js","./Tooltip-1.0.36--D4jr2go.css","./SanitizeComponent-1.0.36-DO2eoRBQ.js","./dompurify-1.0.36-DhD2mIk-.js","./index-1.0.36-Dv-fkoQB.js","./tanstack-1.0.36-BtzdZ5qw.js","./index.esm-1.0.36-CdlqSOii.js","./createSvgIcon-1.0.36-CIHUMY7B.js","./index-1.0.36-xGqEIHxf.js","./getThemeProps-1.0.36-R5fuQQuM.js","./Stack-1.0.36-K2HrciJA.js","./useThemeProps-1.0.36-BvrgfXwP.js","./Tooltip-1.0.36-BmrJt8sK.js","./ThemeProvider-1.0.36-BePdakPr.js","./useControlled-1.0.36-DU9XYnsb.js","./Popper-1.0.36-B2EKBEPA.js","./Spinner-1.0.36-BfGTD4Gb.js","./Radio-1.0.36-hNRQPG6Z.js","./SwitchBase-1.0.36-DQfS6hYA.js","./useFormControl-1.0.36-DwbRv5ZH.js","./Checkbox-1.0.36-BBYwR5K6.js","./ConfirmDialog-1.0.36-_-4q7QfI.js","./AdminTheme-1.0.36-Bhvs-n11.js","./Menu-1.0.36-BJc4ujw0.js","./isHostComponent-1.0.36-DVu5iVWx.js","./debounce-1.0.36-Be36O1Ab.js","./Autocomplete-1.0.36-iUEM6sWc.js","./TextField-1.0.36-7fMfIiaO.js","./FormHelperText-1.0.36-CywRqLJL.js","./FormLabel-1.0.36-wYb03Y2-.js","./Close-1.0.36-Bg2BHC5L.js","./Collapse-1.0.36-DzOtbj0p.js","./AlertTitle-1.0.36-BMDG6EIt.js","./InputAdornment-1.0.36-DJw47I9A.js","./MenuItem-1.0.36-BUF9VZzL.js","./dividerClasses-1.0.36-cwzIcK9n.js","./ListItemIcon-1.0.36-Bqr3TVuQ.js","./Divider-1.0.36-B5JUONQZ.js","./FormControlLabel-1.0.36-DUOG-t_O.js","./Switch-1.0.36-BYfunOZA.js","./Slider-1.0.36-P1QSgbLL.js","./visuallyHidden-1.0.36-Dan1xhjv.js","./TimePicker-1.0.36-C5e7mwu9.js","./useMobilePicker-1.0.36-BzfSFtwm.js","./index-1.0.36-BW5TOU2Q.js","./ListItem-1.0.36-CIrAeyuU.js","./timeViewRenderers-1.0.36-W7AVXe16.js","./DateTimePicker-1.0.36-DkaCK-9y.js","./Tabs-1.0.36-DsFVtNgs.js","./dateViewRenderers-1.0.36-Cc9wJWzm.js","./DatePicker-1.0.36-D23ADk3G.js","./index.esm-1.0.36-BcBy0Voo.js","./useChartSettings-1.0.36-DKli_4MO.js","./LanguagesSupport-1.0.36-CNwr1suX.js","./useScreenSize-1.0.36-Cyh3FPEf.js","./SharedContainer-1.0.36-Ia8VTlF_.js","./AppTheme-1.0.36-BB9LBkIC.js","./useStoreFormSettings-1.0.36-DjvLmz7r.js","./useFormDetails-1.0.36-Bik4Yf-M.js","./FallbackSpinner-1.0.36-D7KlMhQ_.js","./AlertDialog-1.0.36-PpU2DQEA.js","./SharedContainer-1.0.36-DR7D6eET.css","./index-1.0.36-B0PsaY_K.js","./AggregationLabelsEnum-1.0.36-B-3lhjpJ.js","./useTableCode-1.0.36-BdG0UEZ9.js","./useTheme-1.0.36-BoaurWjH.js","./useTableColumnOrder-1.0.36-BKuLdalh.js","./TableQuery-1.0.36-uJ6MlsKy.css","./SettingsTable-1.0.36-92sw1lBl.js","./useTableUpdater-1.0.36-hYY8Nrtx.js","./AccordionSummary-1.0.36-Bkgwks40.js","./AccordionDetails-1.0.36-DkVLnrNK.js","./RadioGroup-1.0.36-Cdm5IN11.js","./Link-1.0.36-k1HTh5ol.js","./CssUnitTextField-1.0.36-lmkwemA7.js","./SettingsFormRelationships-1.0.36-sRVal3Iz.js","./ComponentColumn-1.0.36-DanyG7i0.js","./ActionsExplorer-1.0.36-XRmdxtYI.js","./useLoadAppMetaData-1.0.36-V1rR8IcL.js","./StoreTypeEnum-1.0.36-7-S8NaGy.js","./useFormUpdater-1.0.36-C8PacKlI.js","./ToggleButtonGroup-1.0.36-BXp32NTm.js","./Stepper-1.0.36-Dom8khPE.js","./StepContent-1.0.36-DliWgcQP.js","./PremiumFeature-1.0.36-bCWDv36W.js","./useFormStore-1.0.36-GV5p6sJj.js","./SettingsColumns-1.0.36-Cg8mQr-U.js","./useMetadataColumns-1.0.36-UmqN03AO.js","./index-1.0.36-DGn82zAm.js","./SettingsCharts-1.0.36-Dv99bBYL.js","./TableChartSelection-1.0.36-CInq9tTy.js","./TabPanel-1.0.36-CEnbl1IG.js","./ActionsSettings-1.0.36-BoYKkBaN.js","./TargetEnum-1.0.36-DPFnTxiX.js","./ScopeEnum-1.0.36-B4DDvIDj.js","./index-1.0.36-BaUawQwX.js","./settings-1.0.36-CMky96jX.js","./settings-1.0.36-Bx2jvYL6.css","./SettingsTableCode-1.0.36-CoMihDun.js","./index-1.0.36-Dx_S8RK1.js","./ThemeContainer-1.0.36-BVl9MYuW.js","./useTableSettings-1.0.36-CsJX39Me.js","./SettingsTableGlobalCode-1.0.36-BYrClDSG.js","./TreeItem2Provider-1.0.36-99Nskicd.js","./ResizableDrawer-1.0.36-DprvuOUU.js","./ThemeSettings-1.0.36-CkjS7Prd.js"])))=>i.map(i=>d[i]);
import{j as e}from"./cm-1.0.36-c_d2YVSf.js";import{r}from"./redux-1.0.36-Dw38apwx.js";import{A as L,a as Y}from"./AdminTheme-1.0.36-Bhvs-n11.js";import{l as i,E as Z,aW as j,S as u,Z as R,_ as I,P as $,aX as J,a as O,s as ee,aY as te,aZ as se,a1 as re,b as T,W as oe}from"./lib-1.0.36-RK2jtnD_.js";import{_ as c}from"./main-1.0.36.js";import{Q as ne,a as ie}from"./tanstack-1.0.36-BtzdZ5qw.js";import{F as le}from"./FallbackSpinner-1.0.36-D7KlMhQ_.js";import{u as w,a as F}from"./hooks-1.0.36-DVpFeylj.js";import{b as ae}from"./ActionsSettings-1.0.36-BoYKkBaN.js";import{T as _,C as M,a as V}from"./Tooltip-1.0.36-COg3Mxx7.js";import{S as ce}from"./ScopeEnum-1.0.36-B4DDvIDj.js";import{g as ue,j as me,f as de,k as he,l as be}from"./index-1.0.36-BaUawQwX.js";import{A as xe,T as pe,M as ge}from"./index-1.0.36-Cdz_jNzK.js";import{e as x}from"./notistack-1.0.36-BWLrSPn1.js";import{B as Se,a as fe,T as je,b as p}from"./TabPanel-1.0.36-CEnbl1IG.js";import{B as C,C as Te}from"./ConfirmDialog-1.0.36-_-4q7QfI.js";import{B as _e,S as m}from"./Spinner-1.0.36-BfGTD4Gb.js";import{u as Ce}from"./useTableUpdater-1.0.36-hYY8Nrtx.js";import{B as ke}from"./settings-1.0.36-CMky96jX.js";import{D as ve}from"./LanguagesSupport-1.0.36-CNwr1suX.js";import{C as Be}from"./useFormDetails-1.0.36-Bik4Yf-M.js";import{T as Ee}from"./Typography-1.0.36-CpRCY5e-.js";import{I as k}from"./iconBase-1.0.36-Cg_-P7_6.js";import{T as ye}from"./ThemeProvider-1.0.36-BePdakPr.js";const Ae=r.lazy(()=>c(()=>import("./TableQuery-1.0.36-CbSpQRnN.js").then(t=>t.T),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86]),import.meta.url)),Pe=({appId:t,display:o,refresh:n,metaData:a,showForm:l})=>{i.debug(t,o,n);const d=new ne;return e.jsx(ie,{client:d,children:e.jsx(r.Suspense,{fallback:e.jsx(le,{}),children:e.jsx(Ae,{appId:t,display:o,refresh:n,showForm:l,metaData:a})})})},ze=t=>{const o=w(n=>n.ui.tableSettings.isOpen&&n.ui.tableSettings.appId===t);return i.debug("tableSettingsVisible",o),o},De=()=>{const t=w(o=>o.ui.tableSettings.hideThemeSettings);return i.debug("hideThemeSetting",t),t},Le=t=>{const o=F();return()=>{o(Z({appId:t,property:{updateChart:new Date().getTime()}}))}},Re=r.lazy(()=>c(()=>import("./SettingsTable-1.0.36-92sw1lBl.js"),__vite__mapDeps([87,2,3,4,6,7,8,9,11,10,13,14,15,16,5,88,81,89,33,50,90,35,47,38,91,36,37,26,57,58,92,93,46,43,44,48,42,32,40,41,94,95,96,18,45,49,34,97,98,39,31,23,99,53,54,100,101,102,75,27,28,77,71,72,103,104,64]),import.meta.url)),Oe=r.lazy(()=>c(()=>import("./SettingsColumns-1.0.36-Cg8mQr-U.js"),__vite__mapDeps([105,2,3,4,106,13,14,15,6,7,8,9,16,5,72,10,11,104,35,40,41,107,17,18,23,46,38,43,47,44,48,42,32,33,26,53,54,81,88,101,102,50,57,39,37,92,89,90,58,19,20,59,60,75,27,28,103,82,45,49,34,85]),import.meta.url)),Me=r.lazy(()=>c(()=>import("./SettingsCharts-1.0.36-Dv99bBYL.js"),__vite__mapDeps([108,1,2,3,4,5,6,7,8,9,10,11,88,109,23,14,15,16,85,71,72,70,35,47,38,46,43,13,44,48,42,32,33,26,53,54,31,34,45,49,75,27,28,110,30,103,41,89,50,90,57,58,37,100,24,78,111,18,112,19,20,113,114,40,115,116,77]),import.meta.url)),Ve=r.lazy(()=>c(()=>import("./SettingsTableCode-1.0.36-CoMihDun.js"),__vite__mapDeps([117,2,3,4,118,63,40,14,15,6,7,8,9,16,41,13,5,11,119,75,27,28,120,76,84,32,83,88,103,23,48,38,121,114,35,31,33,34,122,30,26,39,37,50,89,42,43,44]),import.meta.url)),we=r.lazy(()=>c(()=>import("./ResizableDrawer-1.0.36-DprvuOUU.js"),__vite__mapDeps([123,2,3,4,73,6,7,8,9,11,15,32,16,14,13,5,44]),import.meta.url)),Fe=r.lazy(()=>c(()=>import("./ThemeSettings-1.0.36-CkjS7Prd.js"),__vite__mapDeps([124,2,3,4,11,6,7,8,9,84,103,23,14,15,16,41,48,38,13,5,12,27,28,35,47,58,37,33,29,30,59,32,60,43,57,92,91,36,26,93,46,44,42,40,72,89,50,90]),import.meta.url)),Ne=({appId:t,metaData:o})=>{var z,D;i.debug(t,o);const n=F(),a=De();Be();const l=Ce(t),d=Le(t),[h,N]=r.useState(j.getSelectors().selectTableById(u.getState().tables,t));i.debug(h);const[v,U]=r.useState(R.getSelectors().selectChart(u.getState().charts,t));i.debug(v);const[G,Ge]=r.useState(I.getSelectors().selectThemeById(u.getState().themes,t));i.debug(G);const[H,B]=r.useState(!1),E=()=>j.getSelectors().selectTableIsUpdated(u.getState().tables,t),g=s=>{l(s)},Q=((z=L)==null?void 0:z.palette.mode)===$.LIGHT?(D=L)==null?void 0:D.palette.primary.main:"",y=s=>{n(ee({anchor:s}))},A=()=>{n(se({appId:t,tableState:h})),n(re({appId:t,chartState:v})),d()},b=()=>{n(te({})),g(!1)},S=()=>{E()?B(!0):(A(),b())},f=()=>{ae(t,ce.GLOBAL,s=>{if(i.debug(s),s!=null&&s.code&&(s==null?void 0:s.message)!==void 0)switch(s.code){case"ok":N(j.getSelectors().selectTableById(u.getState().tables,t)),U(R.getSelectors().selectChart(u.getState().charts,t)),x(s.message,{variant:"success"});break;case"info":x(s.message,{variant:"info"});break;default:i.error(s),x(s.message??T.contactSupport,{variant:"error"})}else i.error(s),x(T.contactSupport,{variant:"error"})},s=>{i.error("error",s),x(s??T.contactSupport,{variant:"error"})}),g(!1)},W=()=>{E()?(f(),setTimeout(()=>{b()},1e3)):b()},q=ze(t),[P,K]=r.useState(0),X=r.useMemo(()=>{const s=[{title:"Table",icon:e.jsx(ue,{})},{title:"Columns",icon:e.jsx(me,{})},{title:"Hooks",icon:e.jsx(de,{})},{title:"Charts",icon:e.jsx(he,{})},{title:"Theme",icon:e.jsx(be,{})}];return J(o)?s.splice(0,2):a?s.splice(0,4):s},[a]);return e.jsx(e.Fragment,{children:q&&e.jsxs(e.Fragment,{children:[e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsxs(we,{closeDrawer:S,children:[e.jsxs(xe,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(pe,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(Ee,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,paddingLeft:"6px"},children:"Table Builder"}),e.jsx(_,{title:"Dock to left",position:"bottom",children:e.jsx(k,{onClick:()=>{y(O.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(Se,{})})}),e.jsx(_,{title:"Dock to right",position:"bottom",children:e.jsx(k,{onClick:()=>{y(O.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(fe,{})})}),e.jsx(_,{title:"Close",position:"bottom",children:e.jsx(k,{onClick:S,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(ge,{})})})]}),e.jsx(ke,{menuItems:X,menuIndex:P,setMenu:K})]}),e.jsx(M,{className:"pp-settings-container",children:e.jsx(V,{sx:{padding:0,margin:0},children:e.jsx(je,{value:P,children:e.jsxs(_e,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(p,{value:0,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Re,{appId:t,metaData:o})})}),e.jsx(p,{value:1,className:"pp-column-settings-container",children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Oe,{appId:t,metaData:o})})}),e.jsx(p,{value:2,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Ve,{appId:t,tableSettings:h,buttonEditorOk:f})})}),e.jsx(p,{value:3,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Me,{appId:t})})}),a!==!0&&e.jsx(p,{value:4,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Fe,{appId:t,source:ve.TABLE,setIsUpdated:g})})})]})})})}),e.jsx(M,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:Q},children:e.jsxs(V,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(C,{variant:"outlined",className:"footer_action_button_apply",onClick:f,children:"Apply"}),e.jsx(C,{variant:"outlined",className:"footer_action_button",onClick:W,children:"OK"}),e.jsx(C,{variant:"outlined",className:"footer_action_button",onClick:S,children:"Cancel"})]})})]})}),e.jsx(Te,{title:"Close Table Builder?",message:"All uncommitted changes will be lost!",open:H,setOpen:B,onConfirm:()=>{A(),b()},onKeep:()=>{b()}})]})})},Ue=({appId:t,display:o,refresh:n,showForm:a,metaData:l})=>{i.debug(t,o,n);const d=r.useMemo(()=>oe(l),[l]),h=r.useMemo(()=>Y(),[]);return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{appId:t,display:o,refresh:n,showForm:a,metaData:l}),d&&e.jsx(ye,{theme:h,children:e.jsx(Ne,{appId:t,metaData:l})})]})},ht=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));export{ht as T,Le as a,ze as u};
