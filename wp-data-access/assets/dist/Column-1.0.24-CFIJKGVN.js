const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.24-B4AAu2oe.js","./cm-1.0.24-lBsX3THK.js","./redux-1.0.24-Bx8jJ3ee.js","./vendor-1.0.24-BmpNFhoq.js","./lib-1.0.24-up-HxGpi.js","./loglevel-1.0.24-BZ7XahX3.js","./lodash-1.0.24-CC2RnyUh.js","./moment-1.0.24-C5S46NFB.js","./TextField-1.0.24-CX3Aj71c.js","./Typography-1.0.24-DtpcakL_.js","./iconBase-1.0.24-C7lJg7VQ.js","./FormHelperText-1.0.24-dIoAVumM.js","./useFormControl-1.0.24-BVJe4wXv.js","./index-1.0.24-CyelUMLZ.js","./notistack-1.0.24-EH6RgmCJ.js","./FormLabel-1.0.24-DNrTGbzF.js","./Menu-1.0.24-Bmzze4W5.js","./ThemeProvider-1.0.24-koXQmW7k.js","./useControlled-1.0.24-DnsqB4VW.js","./createSvgIcon-1.0.24-BKX7HR5-.js","./FieldTextarea-1.0.24-Dbm74pBL.js","./FieldNumber-1.0.24-DXiH7PVq.js","./react-number-format.es-1.0.24-DgMJPfXk.js","./FieldSet-1.0.24-DUk7QhQj.js","./MenuItem-1.0.24-cnqjqUCU.js","./FieldEnum-1.0.24-5l8ulfGn.js","./EnumTypeEnum-1.0.24-Ws4BsaYD.js","./RadioGroup-1.0.24-C4yZZRVK.js","./Radio-1.0.24-DPbrWB-2.js","./SwitchBase-1.0.24-k3CO2XxE.js","./FormControlLabel-1.0.24-jTuSRk-Y.js","./FieldDate-1.0.24-ByR2fUTy.js","./RestApi-1.0.24-BCmVwqnT.js","./lang-1.0.24-2FqANM85.js","./useTheme-1.0.24-CdGcp-pX.js","./index-1.0.24-COcPbr-v.js","./dayjs.min-1.0.24-CNSrml1W.js","./useMobilePicker-1.0.24-f0_Xrk8r.js","./index-1.0.24-BVJ1RJGw.js","./DialogContent-1.0.24-o2zFJd9S.js","./Popper-1.0.24-pV6SBss6.js","./InputAdornment-1.0.24-CC6pwDym.js","./visuallyHidden-1.0.24-Dan1xhjv.js","./CardContent-1.0.24-DpYcLPhl.js","./ListItem-1.0.24-D0R7eqNx.js","./Autocomplete-1.0.24-C17x-b9y.js","./Close-1.0.24-16O9KsVp.js","./AdapterDayjs-1.0.24-D5Dhc6X5.js","./DatePicker-1.0.24-Cb2ufFhe.js","./dateViewRenderers-1.0.24-CevWHGeY.js","./FieldDatetime-1.0.24-D8DMWnSm.js","./DateTimePicker-1.0.24-mv57LdQ7.js","./Tabs-1.0.24-B5H8MKNv.js","./timeViewRenderers-1.0.24-Dy_UB_WW.js","./Divider-1.0.24-vsfL_W_T.js","./FieldTime-1.0.24-NftDGrnS.js","./TimePicker-1.0.24-C0FXsQRn.js","./FieldCheckbox-1.0.24-IdQT7paJ.js","./Checkbox-1.0.24-CEJQc5ad.js","./ColumnWpMedia-1.0.24-BxxTglm2.js","./index-1.0.24-DqBQ5tn0.js","./index.esm-1.0.24-BcBy0Voo.js","./ColumnHyperlink-1.0.24-B6xUg99B.js","./Spinner-1.0.24-DzEoy0TD.js"])))=>i.map(i=>d[i]);
import{_ as b}from"./main-1.0.24.js";import{j as e}from"./cm-1.0.24-lBsX3THK.js";import{r as s}from"./redux-1.0.24-Bx8jJ3ee.js";import{l as h,m as K,c9 as o,ca as I,cb as C,L as Q}from"./lib-1.0.24-up-HxGpi.js";import{l as V}from"./ActionsDml-1.0.24-BgEAxcii.js";import{c as n}from"./FormContainer-1.0.24-Dle0TZkf.js";import{T as X}from"./TargetEnum-1.0.24-DPFnTxiX.js";import{i as M}from"./index-1.0.24-Ddib3Wz4.js";import{A as m}from"./Autocomplete-1.0.24-C17x-b9y.js";import{T as l}from"./TextField-1.0.24-CX3Aj71c.js";import"./vendor-1.0.24-BmpNFhoq.js";import"./notistack-1.0.24-EH6RgmCJ.js";import"./loglevel-1.0.24-BZ7XahX3.js";import"./lodash-1.0.24-CC2RnyUh.js";import"./moment-1.0.24-C5S46NFB.js";import"./RestApi-1.0.24-BCmVwqnT.js";import"./Spinner-1.0.24-DzEoy0TD.js";import"./Typography-1.0.24-DtpcakL_.js";import"./AdminTheme-1.0.24-DxOFSSNd.js";import"./ThemeContainer-1.0.24-C7p5hOM5.js";import"./useTheme-1.0.24-CdGcp-pX.js";import"./index-1.0.24-COcPbr-v.js";import"./index-1.0.24-CyelUMLZ.js";import"./iconBase-1.0.24-C7lJg7VQ.js";import"./FallbackSpinner-1.0.24-CO6nSoMx.js";import"./Tooltip-1.0.24-C0iSk1Jx.js";import"./ThemeProvider-1.0.24-koXQmW7k.js";import"./Popper-1.0.24-pV6SBss6.js";import"./useControlled-1.0.24-DnsqB4VW.js";import"./useScreenSize-1.0.24-18t2sPqy.js";import"./useStoreTable-1.0.24-CCGHEC8d.js";import"./dompurify-1.0.24-CCJo14B2.js";import"./dayjs.min-1.0.24-CNSrml1W.js";import"./CardContent-1.0.24-DpYcLPhl.js";import"./CardActions-1.0.24-BjMbkSaq.js";import"./Close-1.0.24-16O9KsVp.js";import"./createSvgIcon-1.0.24-BKX7HR5-.js";import"./FormHelperText-1.0.24-dIoAVumM.js";import"./useFormControl-1.0.24-BVJe4wXv.js";import"./FormLabel-1.0.24-DNrTGbzF.js";import"./Menu-1.0.24-Bmzze4W5.js";const D=(_,p)=>({}),a=({appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,storeForm:E,formMode:v,locale:A})=>{var U,u;h.debug(_,p,y,t,d,i,O,r,E,v,A);const x=n(_),[j,S]=s.useState([]);h.debug("lov",j);const[T,H]=s.useState(!1),[Y,g]=s.useState(""),[W,Z]=s.useState(Array.isArray((U=i.lookup)==null?void 0:U.dynamicConditions)?(u=i.lookup)==null?void 0:u.dynamicConditions.map(f=>({columnName:f.tableColumnName,columnValue:""})):[]);h.debug("conditions",W),s.useEffect(()=>{var f,P;Array.isArray((f=i.lookup)==null?void 0:f.dynamicConditions)&&((P=i.lookup)==null||P.dynamicConditions.map(R=>{x[R.tableColumnName]===void 0&&h.error("Invalid lookup: column "+R.tableColumnName+" in dynamic condition not found.")})),W.length===0&&q()},[i.lookup]),s.useEffect(()=>{var f,P;if(Object.keys(W).length>0){const R=Array.isArray((f=i.lookup)==null?void 0:f.dynamicConditions)?(P=i.lookup)==null?void 0:P.dynamicConditions.map(k=>({columnName:k.lookupColumnName,columnValue:x[k.tableColumnName]??""})):[];if(h.debug(R),!M(W,R)){const k={};R.length>0&&R.map(z=>{k[z.columnName]=z.columnValue}),h.debug("reloading dynamic lookup",p,R),q(k),Z(R)}}},[x]);const q=(f={})=>{var P,R;V(_,(r==null?void 0:r.useRform)===!0?X.RFORM:X.FORM,p,((P=i.lookup)==null?void 0:P.key)??"",((R=i.lookup)==null?void 0:R.value)??"",f,{},k=>{var z,B,G;if(h.debug(k),(k==null?void 0:k.code)==="ok"){if(!((z=i.lookup)!=null&&z.value.includes(",")))S(k.data);else{const c=(B=i.lookup)==null?void 0:B.value.split(","),J=[];for(let F=0;F<k.data.length;F++){const w=c.map(N=>k.data[F][N]).join(((G=i.lookup)==null?void 0:G.delimiter)??"");J.push({key:k.data[F].key,value:w})}S(J)}H(!1),g("")}else H(!0),g(k.message),S([])},k=>{H(!0),g(k),S([])})},$=s.useMemo(()=>j.filter(f=>f.key===y)[0]??null,[y,j]);return e.jsx(m,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:j,getOptionLabel:f=>Array.isArray(f.value)?K(f.value[0]):K(f.value),value:$,onChange:(f,P)=>{P!==null?L(p,P==null?void 0:P.key):L(p,null)},disabled:o(r,d,i,v),className:i.classNames,renderInput:f=>e.jsx(l,{error:T,label:d.formLabel,required:d.is_nullable==="NO",...f,variant:I(),helperText:T?Y:C(i,A.selectEnum),disabled:v===Q.VIEW||v===Q.UPDATE&&(r.primary_key.includes(p)||i.updatable===!1)})})},ii=s.lazy(()=>b(()=>import("./FieldText-1.0.24-B4AAu2oe.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),ri=s.lazy(()=>b(()=>import("./FieldTextarea-1.0.24-Dbm74pBL.js"),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),si=s.lazy(()=>b(()=>import("./FieldNumber-1.0.24-DXiH7PVq.js"),__vite__mapDeps([21,1,2,3,22,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),pi=s.lazy(()=>b(()=>import("./FieldSet-1.0.24-DUk7QhQj.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,11,9,12,8,10,13,14,15,16,17,18,19,24]),import.meta.url)),ei=s.lazy(()=>b(()=>import("./FieldEnum-1.0.24-5l8ulfGn.js"),__vite__mapDeps([25,1,2,3,4,5,6,7,11,9,12,8,10,13,14,15,16,17,18,19,24,26,27,28,29,30]),import.meta.url)),di=s.lazy(()=>b(()=>import("./FieldDate-1.0.24-ByR2fUTy.js"),__vite__mapDeps([31,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,39,16,17,40,41,12,18,11,8,15,19,42,43,44,45,46,47,48,49]),import.meta.url)),_i=s.lazy(()=>b(()=>import("./FieldDatetime-1.0.24-D8DMWnSm.js"),__vite__mapDeps([50,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,39,16,17,40,41,12,18,11,8,15,19,42,43,44,45,46,47,51,52,53,24,49,54]),import.meta.url)),yi=s.lazy(()=>b(()=>import("./FieldTime-1.0.24-NftDGrnS.js"),__vite__mapDeps([55,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,39,16,17,40,41,12,18,11,8,15,19,42,43,44,45,46,47,56,53,24]),import.meta.url)),Ei=s.lazy(()=>b(()=>import("./FieldCheckbox-1.0.24-IdQT7paJ.js"),__vite__mapDeps([57,1,2,3,4,5,6,7,11,9,12,30,10,58,29,18,19]),import.meta.url)),vi=s.lazy(()=>b(()=>import("./ColumnWpMedia-1.0.24-BxxTglm2.js"),__vite__mapDeps([59,1,2,3,4,5,6,7,32,60,10,9,61,34,35,13,14,11,12,43]),import.meta.url)),fi=s.lazy(()=>b(()=>import("./ColumnHyperlink-1.0.24-B6xUg99B.js"),__vite__mapDeps([62,1,2,3,4,5,6,7,63,9,8,10,11,12,13,14,15,16,17,18,19,30,58,29]),import.meta.url)),Di=({appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j,language:S})=>{h.debug(_,p,y,t,d,i,r,E,v,A,S);const T=D();if(r!=null&&r.media[p]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(r==null?void 0:r.media[p]))return e.jsx(s.Suspense,{children:e.jsx(vi,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j,language:S,columnMedia:E==null?void 0:E.media[p],mediaType:r==null?void 0:r.media[p]})});if((r==null?void 0:r.media[p])==="HyperlinkObject")return e.jsx(s.Suspense,{children:e.jsx(fi,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j})})}else{if(d.column_type.toLowerCase()==="tinyint(1)")return e.jsx(s.Suspense,{children:e.jsx(Ei,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j})});if(i.lookup!==void 0)return e.jsx(a,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j})}switch(d.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return e.jsx(s.Suspense,{children:e.jsx(si,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j,language:S})});case"enum":return e.jsx(s.Suspense,{children:e.jsx(ei,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j})});case"set":return e.jsx(s.Suspense,{children:e.jsx(pi,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j})});case"time":return e.jsx(s.Suspense,{children:e.jsx(yi,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j,language:S})});case"date":return e.jsx(s.Suspense,{children:e.jsx(di,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j,language:S})});case"datetime":case"timestamp":return e.jsx(s.Suspense,{children:e.jsx(_i,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j,language:S})});case"tinytext":case"text":case"mediumtext":case"longtext":return e.jsx(s.Suspense,{children:e.jsx(ri,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j})});default:return e.jsx(s.Suspense,{children:e.jsx(ii,{appId:_,columnName:p,columnValue:y,columnInitialValue:t,columnMetaData:d,storeColumn:i,columnValidation:O,onColumnChange:L,metaData:r,context:E,storeTable:v,storeForm:A,formMode:x,locale:j,columnCode:T})})}};export{Di as default};
