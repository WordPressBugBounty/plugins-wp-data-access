import{C as d,aK as m,l as c,Z as u,S as p,_ as f,aW as C,b as h,a_ as T}from"./lib-1.0.36-RK2jtnD_.js";import{R as b}from"./RestApi-1.0.36-XUqEDvWp.js";import{T as l}from"./TargetEnum-1.0.36-DPFnTxiX.js";const _=(t,r,n,i,s,e,a,g=!1)=>{c.debug(t,r,n,i,s),b(d.appUrlSettings,{action:"admin_settings",dbs:n,tbl:i,settings:JSON.stringify({scope:t,target:r,data:s})},e,a,g)},y=(t,r,n,i,s,e,a,g,o=!1)=>{const S={app_id:t,cnt_id:r,target:n,settings:JSON.stringify(i),theme:JSON.stringify(e)};s!==void 0&&(S.chart=JSON.stringify(s)),b(d.appUrlAppSettings,S,a,g,o)},J=(t,r,n,i,s=!1)=>{const e=m(t);c.debug(e);const{state:a,...g}=C.getSelectors().selectTableById(p.getState().tables,t);if(c.debug(a,g),e.app_id){const o={...u.getSelectors().selectChart(p.getState().charts,t)};delete o.data,c.debug(o);const{...S}=f.getSelectors().selectThemeById(p.getState().themes,t);c.debug(S),y(e.app_id,e.cnt_id,l.TABLE,g,o,S,n,i,s)}else e.dbs.trim()!==""&&e.tbl.trim()!==""?_(r,l.TABLE,e.dbs,e.tbl,g,n,i,s):(c.error("error","Missing data source"),i(h.contactSupport))},N=(t,r,n,i,s,e=!1)=>{const a=m(t);c.debug(a);const{state:g,...o}=T.getSelectors().selectForm(p.getState().forms,t);if(c.debug(g,o),a.app_id){const{...S}=f.getSelectors().selectThemeById(p.getState().themes,t);c.debug(S),y(a.app_id,a.cnt_id,n,o,void 0,S,i,s,e)}else a.dbs.trim()!==""&&a.tbl.trim()!==""?_(r,n,a.dbs,a.tbl,o,i,s,e):(c.error("error","Missing data source"),s(h.contactSupport))},O=(t,r,n,i=!1)=>{const s=m(t);c.debug(s,t);const e=s.app_id,a=s.cnt_id,g=u.getSelectors().selectChart(p.getState().charts,t);c.debug(g);const{...o}=f.getSelectors().selectThemeById(p.getState().themes,t);c.debug(o),b(d.appUrlAppSettings,{app_id:e,cnt_id:a,target:l.CHART,settings:JSON.stringify(g),theme:JSON.stringify(o)},r,n,i)};export{O as a,J as b,N as c,_ as d,y as s};
