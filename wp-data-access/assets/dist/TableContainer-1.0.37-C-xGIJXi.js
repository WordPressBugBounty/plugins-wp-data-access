const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableQuery-1.0.37-DM7UY04J.js","./main-1.0.37.js","./cm-1.0.37-CEr77VZi.js","./redux-1.0.37-C4JSQ-MG.js","./vendor-1.0.37-CN03Eozo.js","./notistack-1.0.37-CEqipxDI.js","./lib-1.0.37-Czwr-8r3.js","./loglevel-1.0.37-BZ7XahX3.js","./lodash-1.0.37-Dx3wKrSf.js","./moment-1.0.37-C5S46NFB.js","./useStoreTable-1.0.37-Bzu2Dqnh.js","./hooks-1.0.37-DW0_oiBB.js","./index-1.0.37-9tYvXmzh.js","./index-1.0.37-B60ShF2d.js","./iconBase-1.0.37-DRohixw7.js","./Typography-1.0.37-DjtXWQnP.js","./useEnhancedEffect-1.0.37-UwysO4qr.js","./ActionsDml-1.0.37-kzr7tHjI.js","./RestApi-1.0.37-CcjslynE.js","./Tooltip-1.0.37-D_uDknxi.js","./Tooltip-1.0.37--D4jr2go.css","./SanitizeComponent-1.0.37-DM7FdeKd.js","./dompurify-1.0.37-DhD2mIk-.js","./index-1.0.37-CK0QxOhD.js","./tanstack-1.0.37-DP4-37CF.js","./index.esm-1.0.37-Ch2AC2k0.js","./createSvgIcon-1.0.37-DXsAQOmB.js","./index-1.0.37-D4zhytA1.js","./getThemeProps-1.0.37-BGc0S4YC.js","./Stack-1.0.37-BFfovUQt.js","./useThemeProps-1.0.37-CD9ZXLtG.js","./Tooltip-1.0.37-BLWvlO4a.js","./ThemeProvider-1.0.37-Cyf1xy26.js","./useControlled-1.0.37-DyimEgDk.js","./Popper-1.0.37-CSsNCozr.js","./Spinner-1.0.37-CwhfSVqI.js","./Radio-1.0.37-C5rUTiNk.js","./SwitchBase-1.0.37-Bwy1aBhJ.js","./useFormControl-1.0.37-BcUwa2qz.js","./Checkbox-1.0.37-LjGLlM3B.js","./ConfirmDialog-1.0.37-BDQ_OfRf.js","./AdminTheme-1.0.37-7PLndQ8H.js","./Menu-1.0.37-Ca8DeoO3.js","./Autocomplete-1.0.37-5_yZAyWV.js","./Select-1.0.37-B5ZKqjeL.js","./utils-1.0.37-iop7lDec.js","./Close-1.0.37-Yr1E1-6A.js","./Collapse-1.0.37-DaP8rsgI.js","./AlertTitle-1.0.37-BCo6eK8b.js","./TextField-1.0.37-CCe4G0U1.js","./FormLabel-1.0.37-BQP5Nx_Z.js","./FormHelperText-1.0.37-ylnS0Km6.js","./InputAdornment-1.0.37-Bm1BNe28.js","./MenuItem-1.0.37-JkRcsicb.js","./TableRow-1.0.37-BL0M_io2.js","./ListItemIcon-1.0.37-CVeLs3zr.js","./Divider-1.0.37-PDNfV3Nd.js","./FormControlLabel-1.0.37-BLp4PuCc.js","./Switch-1.0.37-D8L-tSJ8.js","./Slider-1.0.37-R1cUZahP.js","./visuallyHidden-1.0.37-Dan1xhjv.js","./TimePicker-1.0.37-BtJEaGns.js","./useMobilePicker-1.0.37-R-jHVb2P.js","./index-1.0.37-D1xZWbV7.js","./ListItem-1.0.37-dqzHUGyt.js","./timeViewRenderers-1.0.37-Ch7-pd3X.js","./DateTimePicker-1.0.37-CnXTWBoh.js","./Tabs-1.0.37-CatYC_MQ.js","./dateViewRenderers-1.0.37-w-smkVHQ.js","./DatePicker-1.0.37-PLuiNNZ5.js","./lang-1.0.37-CfHlhLgz.js","./tab-1.0.37-_GJbvkmQ.js","./useRemoveAppFromStore-1.0.37-HphIv4xo.js","./useScreenSize-1.0.37-X1Uq-TFD.js","./SharedContainer-1.0.37-BgI3NpUN.js","./AppTheme-1.0.37-DOXnENpA.js","./useChartSettings-1.0.37-DyLw1xR9.js","./useStoreFormSettings-1.0.37-DetNzg9c.js","./useFormDetails-1.0.37-DnrKW97d.js","./DynamicModeEnum-1.0.37-BXuL5kgA.js","./FallbackSpinner-1.0.37-DAc7pvnM.js","./AlertDialog-1.0.37-DG1NZI4D.js","./SharedContainer-1.0.37-DR7D6eET.css","./math-1.0.37-BQt3B2Pe.js","./AggregationLabelsEnum-1.0.37-B-3lhjpJ.js","./useTableCode-1.0.37-DhpODUMa.js","./useTheme-1.0.37-D4xQQypV.js","./useTableColumnOrder-1.0.37-D1_-t0Ut.js","./TableQuery-1.0.37-uJ6MlsKy.css","./SettingsTable-1.0.37-BhXimLWS.js","./useTableUpdater-1.0.37-CIKXY-oH.js","./AccordionSummary-1.0.37-Dp-yE6bD.js","./AccordionDetails-1.0.37-CWpLs4PS.js","./RadioGroup-1.0.37-CARB8om5.js","./Link-1.0.37-B0loYHQn.js","./CssUnitTextField-1.0.37-Cdr3oKtg.js","./SettingsFormRelationships-1.0.37-B6zRhcLz.js","./ComponentColumn-1.0.37-dxZBqVrm.js","./ActionsExplorer-1.0.37-2IOZFLVH.js","./useLoadAppMetaData-1.0.37-_NoyHHQ3.js","./StoreTypeEnum-1.0.37-Cx2hXwas.js","./useFormUpdater-1.0.37-BEcFxYga.js","./ToggleButtonGroup-1.0.37-BCHx2oZO.js","./Stepper-1.0.37-0J4mX0Mf.js","./StepContent-1.0.37-IQckXEeD.js","./PremiumFeature-1.0.37-BKt66-Fr.js","./useFormStore-1.0.37-CtXk4vaU.js","./SettingsColumns-1.0.37-B20wGDxT.js","./useMetadataColumns-1.0.37-B39EJIP8.js","./index-1.0.37-CgPwljr5.js","./SettingsCharts-1.0.37-QVYpoZdh.js","./TableChartSelection-1.0.37-CNWwctdk.js","./TabPanel-1.0.37-CPE-1h3v.js","./ActionsSettings-1.0.37-DQdLIvID.js","./TargetEnum-1.0.37-CIW1jlU5.js","./ScopeEnum-1.0.37-B4DDvIDj.js","./index-1.0.37-LxgxH_yq.js","./settings-1.0.37-Bx2jvYL6.css","./SettingsTableCode-1.0.37-BK4v-85o.js","./index-1.0.37-BWdCssYC.js","./ThemeContainer-1.0.37-CmATU4re.js","./useTableSettings-1.0.37-iiTTwobj.js","./SettingsTableGlobalCode-1.0.37-464Obk32.js","./TreeItem2Provider-1.0.37-B_6PklCt.js","./ResizableDrawer-1.0.37-C5w2uIZI.js","./ThemeSettings-1.0.37-Bw_m4zMJ.js"])))=>i.map(i=>d[i]);
import{j as e}from"./cm-1.0.37-CEr77VZi.js";import{r}from"./redux-1.0.37-C4JSQ-MG.js";import{A as L,a as X}from"./AdminTheme-1.0.37-7PLndQ8H.js";import{l as i,H as Y,b0 as j,S as u,a0 as R,a1 as Z,P as $,b1 as J,a as O,s as ee,b2 as te,b3 as se,a4 as re,b as T,Z as oe}from"./lib-1.0.37-Czwr-8r3.js";import{_ as c}from"./main-1.0.37.js";import{Q as ne,a as ie}from"./tanstack-1.0.37-DP4-37CF.js";import{F as le}from"./FallbackSpinner-1.0.37-DAc7pvnM.js";import{u as w,a as F}from"./hooks-1.0.37-DW0_oiBB.js";import{b as ae}from"./ActionsSettings-1.0.37-DQdLIvID.js";import{T as C,C as M,a as V}from"./Tooltip-1.0.37-D_uDknxi.js";import{S as ce}from"./ScopeEnum-1.0.37-B4DDvIDj.js";import{h as ue,k as me,g as de,l as be,f as he}from"./index-1.0.37-LxgxH_yq.js";import{A as xe,T as pe,M as ge}from"./index-1.0.37-B60ShF2d.js";import{e as x}from"./notistack-1.0.37-CEqipxDI.js";import{B as Se,a as fe,b as je,T as Te,c as p}from"./TabPanel-1.0.37-CPE-1h3v.js";import{B as _,C as Ce}from"./ConfirmDialog-1.0.37-BDQ_OfRf.js";import{B as _e,S as m}from"./Spinner-1.0.37-CwhfSVqI.js";import{u as ke}from"./useTableUpdater-1.0.37-CIKXY-oH.js";import{D as ve}from"./DynamicModeEnum-1.0.37-BXuL5kgA.js";import{C as Be}from"./useFormDetails-1.0.37-DnrKW97d.js";/* empty css                        */import{T as Ee}from"./Typography-1.0.37-DjtXWQnP.js";import{I as k}from"./iconBase-1.0.37-DRohixw7.js";import{T as ye}from"./ThemeProvider-1.0.37-Cyf1xy26.js";const Ae=r.lazy(()=>c(()=>import("./TableQuery-1.0.37-DM7UY04J.js").then(t=>t.T),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88]),import.meta.url)),Pe=({appId:t,display:o,refresh:n,metaData:a,showForm:l})=>{i.debug(t,o,n);const d=new ne;return e.jsx(ie,{client:d,children:e.jsx(r.Suspense,{fallback:e.jsx(le,{}),children:e.jsx(Ae,{appId:t,display:o,refresh:n,showForm:l,metaData:a})})})},ze=t=>{const o=w(n=>n.ui.tableSettings.isOpen&&n.ui.tableSettings.appId===t);return i.debug("tableSettingsVisible",o),o},De=()=>{const t=w(o=>o.ui.tableSettings.hideThemeSettings);return i.debug("hideThemeSetting",t),t},Le=t=>{const o=F();return()=>{o(Y({appId:t,property:{updateChart:new Date().getTime()}}))}},Re=r.lazy(()=>c(()=>import("./SettingsTable-1.0.37-BhXimLWS.js"),__vite__mapDeps([89,2,3,4,6,7,8,9,11,10,13,14,15,16,5,90,91,33,47,92,35,51,45,38,93,36,37,26,57,58,94,95,49,44,42,32,50,40,41,1,96,97,98,18,43,46,34,99,100,39,31,23,101,53,102,103,104,75,27,28,78,72,70,79,105,106,64]),import.meta.url)),Oe=r.lazy(()=>c(()=>import("./SettingsColumns-1.0.37-B20wGDxT.js"),__vite__mapDeps([107,2,3,4,108,13,14,15,6,7,8,9,16,5,79,10,11,106,35,40,41,109,1,17,18,23,44,42,32,45,33,38,26,53,90,103,104,47,51,57,39,37,49,50,94,91,92,58,19,20,59,60,75,27,28,105,84,43,46,34,87]),import.meta.url)),Me=r.lazy(()=>c(()=>import("./SettingsCharts-1.0.37-QVYpoZdh.js"),__vite__mapDeps([110,1,2,3,4,5,6,7,8,9,10,11,90,111,23,14,15,16,87,76,72,70,35,51,45,38,49,44,42,32,13,33,26,50,53,31,34,43,46,75,27,28,112,40,41,30,105,91,47,92,57,58,37,102,24,80,113,18,114,19,20,115,116,79,78,117]),import.meta.url)),Ve=r.lazy(()=>c(()=>import("./SettingsTableCode-1.0.37-BK4v-85o.js"),__vite__mapDeps([118,2,3,4,119,63,40,14,15,6,7,8,9,16,41,13,5,11,120,75,27,28,121,77,86,32,85,90,105,23,50,38,122,116,35,31,33,34,123,30,26,39,37,47,91,42]),import.meta.url)),we=r.lazy(()=>c(()=>import("./ResizableDrawer-1.0.37-C5w2uIZI.js"),__vite__mapDeps([124,2,3,4,73,6,7,8,9,11,15,32,16,14,13,5,42]),import.meta.url)),Fe=r.lazy(()=>c(()=>import("./ThemeSettings-1.0.37-Bw_m4zMJ.js"),__vite__mapDeps([125,2,3,4,11,6,7,8,9,86,105,23,14,15,16,41,50,38,13,5,12,27,28,35,51,45,58,37,33,29,30,59,32,60,42,57,94,93,36,26,95,49,44,40,79,91,47,92]),import.meta.url)),Ne=({appId:t,metaData:o})=>{var z,D;i.debug(t,o);const n=F(),a=De();Be();const l=ke(t),d=Le(t),[b,N]=r.useState(j.getSelectors().selectTableById(u.getState().tables,t));i.debug(b);const[v,U]=r.useState(R.getSelectors().selectChart(u.getState().charts,t));i.debug(v);const[H,He]=r.useState(Z.getSelectors().selectThemeById(u.getState().themes,t));i.debug(H);const[G,B]=r.useState(!1),E=()=>j.getSelectors().selectTableIsUpdated(u.getState().tables,t),g=s=>{l(s)},Q=((z=L)==null?void 0:z.palette.mode)===$.LIGHT?(D=L)==null?void 0:D.palette.primary.main:"",y=s=>{n(ee({anchor:s}))},A=()=>{n(se({appId:t,tableState:b})),n(re({appId:t,chartState:v})),d()},h=()=>{n(te()),g(!1)},S=()=>{E()?B(!0):(A(),h())},f=()=>{ae(t,ce.GLOBAL,s=>{if(i.debug(s),s!=null&&s.code&&(s==null?void 0:s.message)!==void 0)switch(s.code){case"ok":N(j.getSelectors().selectTableById(u.getState().tables,t)),U(R.getSelectors().selectChart(u.getState().charts,t)),x(s.message,{variant:"success"});break;case"info":x(s.message,{variant:"info"});break;default:i.error(s),x(s.message??T.contactSupport,{variant:"error"})}else i.error(s),x(T.contactSupport,{variant:"error"})},s=>{i.error("error",s),x(s??T.contactSupport,{variant:"error"})}),g(!1)},q=()=>{E()?(f(),setTimeout(()=>{h()},1e3)):h()},K=ze(t),[P,I]=r.useState(0),W=r.useMemo(()=>{const s=[{title:"Table",icon:e.jsx(ue,{})},{title:"Columns",icon:e.jsx(me,{})},{title:"Hooks",icon:e.jsx(de,{})},{title:"Charts",icon:e.jsx(be,{})},{title:"Theme",icon:e.jsx(he,{})}];return J(o)?s.splice(0,2):a?s.splice(0,4):s},[a]);return e.jsx(e.Fragment,{children:K&&e.jsxs(e.Fragment,{children:[e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsxs(we,{closeDrawer:S,children:[e.jsxs(xe,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(pe,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(Ee,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,paddingLeft:"6px"},children:"Table Builder"}),e.jsx(C,{title:"Dock to left",position:"bottom",children:e.jsx(k,{onClick:()=>{y(O.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(Se,{})})}),e.jsx(C,{title:"Dock to right",position:"bottom",children:e.jsx(k,{onClick:()=>{y(O.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(fe,{})})}),e.jsx(C,{title:"Close",position:"bottom",children:e.jsx(k,{onClick:S,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(ge,{})})})]}),e.jsx(je,{menuItems:W,menuIndex:P,setMenu:I})]}),e.jsx(M,{className:"pp-settings-container",children:e.jsx(V,{sx:{padding:0,margin:0},children:e.jsx(Te,{value:P,children:e.jsxs(_e,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(p,{value:0,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Re,{appId:t,metaData:o})})}),e.jsx(p,{value:1,className:"pp-column-settings-container",children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Oe,{appId:t,metaData:o})})}),e.jsx(p,{value:2,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Ve,{appId:t,tableSettings:b,buttonEditorOk:f})})}),e.jsx(p,{value:3,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Me,{appId:t})})}),a!==!0&&e.jsx(p,{value:4,children:e.jsx(r.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Fe,{appId:t,source:ve.TABLE,setIsUpdated:g})})})]})})})}),e.jsx(M,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:Q},children:e.jsxs(V,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(_,{variant:"outlined",className:"footer_action_button_apply",onClick:f,children:"Apply"}),e.jsx(_,{variant:"outlined",className:"footer_action_button",onClick:q,children:"OK"}),e.jsx(_,{variant:"outlined",className:"footer_action_button",onClick:S,children:"Cancel"})]})})]})}),e.jsx(Ce,{title:"Close Table Builder?",message:"All uncommitted changes will be lost!",open:G,setOpen:B,onConfirm:()=>{A(),h()},onKeep:()=>{h()}})]})})},Ue=({appId:t,display:o,refresh:n,showForm:a,metaData:l})=>{i.debug(t,o,n);const d=r.useMemo(()=>oe(l),[l]),b=r.useMemo(()=>X(),[]);return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{appId:t,display:o,refresh:n,showForm:a,metaData:l}),d&&e.jsx(ye,{theme:b,children:e.jsx(Ne,{appId:t,metaData:l})})]})},bt=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));export{bt as T,Le as a,ze as u};
