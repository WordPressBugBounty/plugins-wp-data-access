import{C as d,aQ as m,l as c,a0 as u,S,a1 as b,bf as I,b0 as A,b as h,b4 as T}from"./lib-1.0.37-Czwr-8r3.js";import{R as f}from"./RestApi-1.0.37-CcjslynE.js";import{T as l}from"./TargetEnum-1.0.37-CIW1jlU5.js";const _=(t,r,g,n,e,s,a,o=!1)=>{c.debug(t,r,g,n,e),f(d.appUrlSettings,{action:"admin_settings",dbs:g,tbl:n,settings:JSON.stringify({scope:t,target:r,data:e})},s,a,o)},y=(t,r,g,n,e,s,a,o,i=!1)=>{const p={app_id:t,cnt_id:r,target:g,settings:JSON.stringify(n),theme:JSON.stringify(s)};e!==void 0&&(p.chart=JSON.stringify(e)),f(d.appUrlAppSettings,p,a,o,i)},N=(t,r,g,n,e=!1)=>{const s=m(t);c.debug(s);const{state:a,...o}=A.getSelectors().selectTableById(S.getState().tables,t);if(c.debug(a,o),s.app_id){const i={...u.getSelectors().selectChart(S.getState().charts,t)};delete i.data,c.debug(i);const{...p}=b.getSelectors().selectThemeById(S.getState().themes,t);c.debug(p),y(s.app_id,s.cnt_id,l.TABLE,o,i,p,g,n,e)}else s.dbs.trim()!==""&&s.tbl.trim()!==""?_(r,l.TABLE,s.dbs,s.tbl,o,g,n,e):(c.error("error","Missing data source"),n(h.contactSupport))},O=(t,r,g,n,e,s=!1)=>{const a=m(t);c.debug(a);const{state:o,...i}=T.getSelectors().selectForm(S.getState().forms,t);if(c.debug(o,i),a.app_id){const{...p}=b.getSelectors().selectThemeById(S.getState().themes,t);c.debug(p),y(a.app_id,a.cnt_id,g,i,void 0,p,n,e,s)}else a.dbs.trim()!==""&&a.tbl.trim()!==""?_(r,g,a.dbs,a.tbl,i,n,e,s):(c.error("error","Missing data source"),e(h.contactSupport))},M=(t,r,g,n=!1)=>{const e=m(t);c.debug(e,t);const s=e.app_id,a=e.cnt_id,o=u.getSelectors().selectChart(S.getState().charts,t);c.debug(o);const{...i}=b.getSelectors().selectThemeById(S.getState().themes,t);c.debug(i),f(d.appUrlAppSettings,{app_id:s,cnt_id:a,target:l.CHART,settings:JSON.stringify(o),theme:JSON.stringify(i)},r,g,n)},v=(t,r,g,n=!1)=>{const e=m(t);c.debug(e,t);const s=e.app_id,a=e.cnt_id,{state:o,...i}=I.getSelectors().selectMap(S.getState().maps,t);c.debug(i);const{...p}=b.getSelectors().selectThemeById(S.getState().themes,t);c.debug(p),f(d.appUrlAppSettings,{app_id:s,cnt_id:a,target:l.MAP,settings:JSON.stringify(i),theme:JSON.stringify(p)},r,g,n)};export{M as a,N as b,O as c,v as d,_ as e,y as s};
