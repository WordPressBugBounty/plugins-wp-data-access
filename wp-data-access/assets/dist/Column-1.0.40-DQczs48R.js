const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.40-DGW9Yr44.js","./cm-1.0.40-DO7MoydR.js","./redux-1.0.40-W_04YL6Z.js","./vendor-1.0.40-CN03Eozo.js","./lib-1.0.40-CJM-IO_o.js","./loglevel-1.0.40-BZ7XahX3.js","./lodash-1.0.40-yZQKpWII.js","./moment-1.0.40-C5S46NFB.js","./TextField-1.0.40-CejEr0KU.js","./Typography-1.0.40-oRKYqE3b.js","./iconBase-1.0.40-CH6TO7hF.js","./useEnhancedEffect-1.0.40-DvrM_gBo.js","./Select-1.0.40-Db-Xnyoo.js","./Menu-1.0.40-BKp7UqHL.js","./ThemeProvider-1.0.40-D9QtC9zH.js","./index-1.0.40-DmMQghWt.js","./notistack-1.0.40-HUa4vT_u.js","./utils-1.0.40-iop7lDec.js","./useControlled-1.0.40-B7yPDtn1.js","./useFormControl-1.0.40-BL8koKXQ.js","./createSvgIcon-1.0.40-DryBVjDb.js","./FormLabel-1.0.40-DLOepjQ0.js","./FormHelperText-1.0.40-D6buAdoc.js","./FieldTextarea-1.0.40-xzKyO5Dz.js","./FieldNumber-1.0.40-BRKScfLj.js","./react-number-format.es-1.0.40-BdajC67w.js","./FieldSet-1.0.40-DRM7pSRP.js","./MenuItem-1.0.40-UKMJrtYZ.js","./FieldEnum-1.0.40-Fhc7KNZh.js","./EnumTypeEnum-1.0.40-Ws4BsaYD.js","./RadioGroup-1.0.40-D9A3e6h3.js","./Radio-1.0.40-BfbkSgOE.js","./SwitchBase-1.0.40-BQrnL2Sx.js","./FormControlLabel-1.0.40-BH1qH5qy.js","./FieldDate-1.0.40-DlK_651o.js","./hooks-1.0.40-DoKijNI1.js","./lang-1.0.40-D4Y70Q_T.js","./SharedContainer-1.0.40-D7EQbLUC.js","./main-1.0.40.js","./Spinner-1.0.40-Bmn0_C4u.js","./AdminTheme-1.0.40-B669Ow89.js","./useStoreTable-1.0.40-C_-ljzWa.js","./ActionsDml-1.0.40-BspTHnPS.js","./RestApi-1.0.40-Uj1ofskP.js","./useMetadata-1.0.40-DdsiIGYX.js","./useChartSettings-1.0.40-CCxE4Zu8.js","./useRemoveAppFromStore-1.0.40-DxUqDH6k.js","./useStoreFormSettings-1.0.40-CICs2Pm_.js","./useFormDetails-1.0.40-DhJ-oNOJ.js","./DynamicModeEnum-1.0.40-BXuL5kgA.js","./AppTheme-1.0.40-whCBYKjb.js","./index-1.0.40-xxiPHCiq.js","./getThemeProps-1.0.40-CtGZuG5N.js","./useScreenSize-1.0.40-DAXf1AlH.js","./ConfirmDialog-1.0.40-DRjx8-xC.js","./dompurify-1.0.40-DhD2mIk-.js","./FallbackSpinner-1.0.40-Bwyy_LaW.js","./AlertDialog-1.0.40-CsMgd1A8.js","./SanitizeComponent-1.0.40-qpEC7QW6.js","./Tooltip-1.0.40-Czv1q8N-.js","./Popper-1.0.40-Jt4gcDMJ.js","./SharedContainer-1.0.40-DR7D6eET.css","./useMobilePicker-1.0.40-B50hlSJR.js","./index-1.0.40--1Cd81c-.js","./useThemeProps-1.0.40-CnqSFvnT.js","./InputAdornment-1.0.40-F1_P81Q_.js","./visuallyHidden-1.0.40-Dan1xhjv.js","./ListItem-1.0.40-C82esTyu.js","./Autocomplete-1.0.40-CcfYAr1c.js","./Close-1.0.40-DOQmTCBQ.js","./AdapterDayjs-1.0.40-CEXZe1HM.js","./DatePicker-1.0.40-CJStl0bY.js","./dateViewRenderers-1.0.40-DTQ1OjSw.js","./FieldDatetime-1.0.40-v_0FHgLe.js","./DateTimePicker-1.0.40-Bf1zagXk.js","./Tabs-1.0.40-grE1d1iH.js","./timeViewRenderers-1.0.40-6VIYUxOa.js","./Divider-1.0.40-ckRk0tPv.js","./FieldTime-1.0.40-XGQop8V6.js","./TimePicker-1.0.40-Bt78njGV.js","./FieldCheckbox-1.0.40-BGYCjsFd.js","./Checkbox-1.0.40-DtDfmlS5.js","./ColumnWpMedia-1.0.40-NN6_OYyj.js","./index-1.0.40-DlucSO_j.js","./ColumnHyperlink-1.0.40-DPUqiiT0.js","./FieldDuration-1.0.40-BYVxEgJa.js"])))=>i.map(i=>d[i]);
import{_ as z}from"./main-1.0.40.js";import{j as d}from"./cm-1.0.40-DO7MoydR.js";import{r as e}from"./redux-1.0.40-W_04YL6Z.js";import{l as T,cJ as I,n as Q,cK as o,cL as V,bc as X}from"./lib-1.0.40-CJM-IO_o.js";import{l as c}from"./ActionsDml-1.0.40-BspTHnPS.js";import{f as M,g as D,h as l,i as m}from"./SharedContainer-1.0.40-D7EQbLUC.js";import{T as Y}from"./TargetEnum-1.0.40-CIW1jlU5.js";import{i as a}from"./index-1.0.40-DdW0OcA3.js";import{A as ii}from"./Autocomplete-1.0.40-CcfYAr1c.js";import{T as ri}from"./TextField-1.0.40-CejEr0KU.js";import"./moment-1.0.40-C5S46NFB.js";import"./vendor-1.0.40-CN03Eozo.js";import"./notistack-1.0.40-HUa4vT_u.js";import"./loglevel-1.0.40-BZ7XahX3.js";import"./lodash-1.0.40-yZQKpWII.js";import"./RestApi-1.0.40-Uj1ofskP.js";import"./hooks-1.0.40-DoKijNI1.js";import"./Spinner-1.0.40-Bmn0_C4u.js";import"./Typography-1.0.40-oRKYqE3b.js";import"./AdminTheme-1.0.40-B669Ow89.js";import"./useStoreTable-1.0.40-C_-ljzWa.js";import"./useMetadata-1.0.40-DdsiIGYX.js";import"./useChartSettings-1.0.40-CCxE4Zu8.js";import"./useRemoveAppFromStore-1.0.40-DxUqDH6k.js";import"./lang-1.0.40-D4Y70Q_T.js";import"./index-1.0.40-DmMQghWt.js";import"./iconBase-1.0.40-CH6TO7hF.js";import"./useEnhancedEffect-1.0.40-DvrM_gBo.js";import"./useStoreFormSettings-1.0.40-CICs2Pm_.js";import"./useFormDetails-1.0.40-DhJ-oNOJ.js";import"./DynamicModeEnum-1.0.40-BXuL5kgA.js";import"./AppTheme-1.0.40-whCBYKjb.js";import"./index-1.0.40-xxiPHCiq.js";import"./getThemeProps-1.0.40-CtGZuG5N.js";import"./useScreenSize-1.0.40-DAXf1AlH.js";import"./ConfirmDialog-1.0.40-DRjx8-xC.js";import"./dompurify-1.0.40-DhD2mIk-.js";import"./ThemeProvider-1.0.40-D9QtC9zH.js";import"./FallbackSpinner-1.0.40-Bwyy_LaW.js";import"./AlertDialog-1.0.40-CsMgd1A8.js";import"./SanitizeComponent-1.0.40-qpEC7QW6.js";import"./Tooltip-1.0.40-Czv1q8N-.js";import"./useControlled-1.0.40-B7yPDtn1.js";import"./Popper-1.0.40-Jt4gcDMJ.js";import"./Select-1.0.40-Db-Xnyoo.js";import"./Menu-1.0.40-BKp7UqHL.js";import"./utils-1.0.40-iop7lDec.js";import"./useFormControl-1.0.40-BL8koKXQ.js";import"./createSvgIcon-1.0.40-DryBVjDb.js";import"./Close-1.0.40-DOQmTCBQ.js";import"./FormLabel-1.0.40-DLOepjQ0.js";import"./FormHelperText-1.0.40-D6buAdoc.js";const si=(y,p)=>({}),ei=({appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,storeForm:k,formMode:j,locale:L,columnEvents:r})=>{var B,q;T.debug(y,p,f,x,_,i,P,s,k,j,L);const S=M(y),[t,F]=e.useState([]);T.debug("lov",t);const[R,E]=e.useState(!1),[Z,H]=e.useState(""),[W,$]=e.useState(Array.isArray((B=i.lookup)==null?void 0:B.dynamicConditions)?(q=i.lookup)==null?void 0:q.dynamicConditions.map(A=>({columnName:A.tableColumnName,columnValue:""})):[]);T.debug("conditions",W),e.useEffect(()=>{var A,b;Array.isArray((A=i.lookup)==null?void 0:A.dynamicConditions)&&((b=i.lookup)==null||b.dynamicConditions.map(u=>{S[u.tableColumnName]===void 0&&T.error("Invalid lookup: column "+u.tableColumnName+" in dynamic condition not found.")})),W.length===0&&U()},[i.lookup]),e.useEffect(()=>{var A,b;if(Object.keys(W).length>0){const u=Array.isArray((A=i.lookup)==null?void 0:A.dynamicConditions)?(b=i.lookup)==null?void 0:b.dynamicConditions.map(O=>({columnName:O.lookupColumnName,columnValue:S[O.tableColumnName]??""})):[];if(T.debug(u),!a(W,u)){const O={};u.length>0&&u.map(K=>{O[K.columnName]=K.columnValue}),T.debug("reloading dynamic lookup",p,u),U(O),$(u)}}},[S]);const U=(A={})=>{var b,u;c(y,(s==null?void 0:s.useRform)===!0?Y.RFORM:Y.FORM,p,((b=i.lookup)==null?void 0:b.key)??"",((u=i.lookup)==null?void 0:u.value)??"",A,{},O=>{var K,w,G;if(T.debug(O),(O==null?void 0:O.code)==="ok"){if(!((K=i.lookup)!=null&&K.value.includes(",")))F(O.data);else{const N=(w=i.lookup)==null?void 0:w.value.split(","),J=[];for(let g=0;g<O.data.length;g++){const v=N.map(n=>O.data[g][n]).join(((G=i.lookup)==null?void 0:G.delimiter)??"");J.push({key:O.data[g].key,value:v})}F(J)}E(!1),H("")}else E(!0),H(O.message),F([])},O=>{E(!0),H(O),F([])})},C=e.useMemo(()=>t.filter(A=>A.key===f)[0]??null,[f,t]);return d.jsx(ii,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:t,getOptionLabel:A=>Array.isArray(A.value)?Q(A.value[0]):Q(A.value),value:C,onChange:(A,b)=>{b!==null?h(p,b==null?void 0:b.key):h(p,null)},disabled:I(s,_,i,j),className:i.classNames,renderInput:A=>d.jsx(ri,{error:R,label:_.formLabel,required:_.is_nullable==="NO",...A,variant:V(),helperText:R?Z:o(i,L.selectEnum),disabled:j===X.VIEW||j===X.UPDATE&&(s.primary_key.includes(p)||i.updatable===!1),sx:{"& input":{textAlign:i.alignment}},onBlurCapture:r==null?void 0:r.onBlur,onChangeCapture:r==null?void 0:r.onChange,onClickCapture:r==null?void 0:r.onClick,onDoubleClickCapture:r==null?void 0:r.onDoubleClick,onFocusCapture:r==null?void 0:r.onFocus,onKeyDownCapture:r==null?void 0:r.onKeyDown,onKeyUpCapture:r==null?void 0:r.onKeyUp})})},pi=(y,p,f,x,_)=>{const i={onBlur:void 0,onChange:void 0,onClick:void 0,onDoubleClick:void 0,onFocus:void 0,onKeyDown:void 0,onKeyUp:void 0};return D(_),l(),m(),i},di=e.lazy(()=>z(()=>import("./FieldText-1.0.40-DGW9Yr44.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),_i=e.lazy(()=>z(()=>import("./FieldTextarea-1.0.40-xzKyO5Dz.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),yi=e.lazy(()=>z(()=>import("./FieldNumber-1.0.40-BRKScfLj.js"),__vite__mapDeps([24,1,2,3,25,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),fi=e.lazy(()=>z(()=>import("./FieldSet-1.0.40-DRM7pSRP.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,22,9,17,19,8,10,11,12,13,14,15,16,18,20,21,27]),import.meta.url)),ki=e.lazy(()=>z(()=>import("./FieldEnum-1.0.40-Fhc7KNZh.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,22,9,17,19,8,10,11,12,13,14,15,16,18,20,21,27,29,30,31,32,33]),import.meta.url)),ji=e.lazy(()=>z(()=>import("./FieldDate-1.0.40-DlK_651o.js"),__vite__mapDeps([34,1,2,3,35,4,5,6,7,36,37,38,16,39,9,40,41,42,43,44,45,46,15,10,11,47,48,49,50,51,52,53,54,55,14,56,57,58,59,18,60,61,62,63,64,65,19,8,12,13,17,20,21,22,66,67,68,69,70,71,72]),import.meta.url)),Ai=e.lazy(()=>z(()=>import("./FieldDatetime-1.0.40-v_0FHgLe.js"),__vite__mapDeps([73,1,2,3,35,4,5,6,7,36,37,38,16,39,9,40,41,42,43,44,45,46,15,10,11,47,48,49,50,51,52,53,54,55,14,56,57,58,59,18,60,61,62,63,64,65,19,8,12,13,17,20,21,22,66,67,68,69,70,74,75,76,27,72,77]),import.meta.url)),xi=e.lazy(()=>z(()=>import("./FieldTime-1.0.40-XGQop8V6.js"),__vite__mapDeps([78,1,2,3,35,4,5,6,7,36,37,38,16,39,9,40,41,42,43,44,45,46,15,10,11,47,48,49,50,51,52,53,54,55,14,56,57,58,59,18,60,61,62,63,64,65,19,8,12,13,17,20,21,22,66,67,68,69,70,79,76,27]),import.meta.url)),Li=e.lazy(()=>z(()=>import("./FieldCheckbox-1.0.40-BGYCjsFd.js"),__vite__mapDeps([80,1,2,3,4,5,6,7,22,9,17,19,33,10,11,81,32,18,20]),import.meta.url)),Si=e.lazy(()=>z(()=>import("./ColumnWpMedia-1.0.40-NN6_OYyj.js"),__vite__mapDeps([82,1,2,3,4,5,6,7,35,83,10,9,11,36,39,22,17,19,54,40,15,16]),import.meta.url)),Oi=e.lazy(()=>z(()=>import("./ColumnHyperlink-1.0.40-DPUqiiT0.js"),__vite__mapDeps([84,1,2,3,4,5,6,7,39,9,8,10,11,12,13,14,15,16,17,18,19,20,21,22,33,81,32]),import.meta.url)),hi=e.lazy(()=>z(()=>import("./FieldDuration-1.0.40-BYVxEgJa.js"),__vite__mapDeps([85,1,2,3,25,4,5,6,7,35,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),Or=({appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t})=>{T.debug(y,p,f,x,_,i,s,k,j,L,t);const F=si(),R=pi(F,r,p,s,y);if(s!=null&&s.media[p]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(s==null?void 0:s.media[p]))return d.jsx(e.Suspense,{children:d.jsx(Si,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnMedia:k==null?void 0:k.media[p],mediaType:s==null?void 0:s.media[p]})});if((s==null?void 0:s.media[p])==="HyperlinkObject")return d.jsx(e.Suspense,{children:d.jsx(Oi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S})})}else{if(_.column_type.toLowerCase()==="tinyint(1)")return d.jsx(e.Suspense,{children:d.jsx(Li,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});if(i.lookup!==void 0)return d.jsx(ei,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})}switch(_.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return d.jsx(e.Suspense,{children:d.jsx(yi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})});case"enum":return d.jsx(e.Suspense,{children:d.jsx(ki,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});case"set":return d.jsx(e.Suspense,{children:d.jsx(fi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});case"time":return i.duration===!0?d.jsx(e.Suspense,{children:d.jsx(hi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})}):d.jsx(e.Suspense,{children:d.jsx(xi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})});case"date":return d.jsx(e.Suspense,{children:d.jsx(ji,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})});case"datetime":case"timestamp":return d.jsx(e.Suspense,{children:d.jsx(Ai,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})});case"tinytext":case"text":case"mediumtext":case"longtext":return d.jsx(e.Suspense,{children:d.jsx(_i,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});default:return d.jsx(e.Suspense,{children:d.jsx(di,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})})}};export{Or as default};
