const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.36-BDg14dQh.js","./cm-1.0.36-c_d2YVSf.js","./redux-1.0.36-Dw38apwx.js","./vendor-1.0.36-CN03Eozo.js","./lib-1.0.36-RK2jtnD_.js","./loglevel-1.0.36-BZ7XahX3.js","./lodash-1.0.36-DFhYoGis.js","./moment-1.0.36-C5S46NFB.js","./TextField-1.0.36-7fMfIiaO.js","./Typography-1.0.36-CpRCY5e-.js","./iconBase-1.0.36-Cg_-P7_6.js","./useEnhancedEffect-1.0.36-CTzd5Szc.js","./useFormControl-1.0.36-DwbRv5ZH.js","./isHostComponent-1.0.36-DVu5iVWx.js","./FormHelperText-1.0.36-CywRqLJL.js","./index-1.0.36-Cdz_jNzK.js","./notistack-1.0.36-BWLrSPn1.js","./debounce-1.0.36-Be36O1Ab.js","./FormLabel-1.0.36-wYb03Y2-.js","./Menu-1.0.36-BJc4ujw0.js","./ThemeProvider-1.0.36-BePdakPr.js","./useControlled-1.0.36-DU9XYnsb.js","./createSvgIcon-1.0.36-CIHUMY7B.js","./FieldTextarea-1.0.36-D5lvo4wc.js","./FieldNumber-1.0.36-3TjKv3Mv.js","./react-number-format.es-1.0.36-Cs3HzBGT.js","./FieldSet-1.0.36-DEWx9k6y.js","./MenuItem-1.0.36-BUF9VZzL.js","./dividerClasses-1.0.36-cwzIcK9n.js","./FieldEnum-1.0.36-D-NQZQhx.js","./EnumTypeEnum-1.0.36-Ws4BsaYD.js","./RadioGroup-1.0.36-Cdm5IN11.js","./Radio-1.0.36-hNRQPG6Z.js","./SwitchBase-1.0.36-DQfS6hYA.js","./FormControlLabel-1.0.36-DUOG-t_O.js","./FieldDate-1.0.36-BCL26TZC.js","./hooks-1.0.36-DVpFeylj.js","./lang-1.0.36-Dkp8-P--.js","./LanguagesSupport-1.0.36-CNwr1suX.js","./SharedContainer-1.0.36-Ia8VTlF_.js","./main-1.0.36.js","./Spinner-1.0.36-BfGTD4Gb.js","./AdminTheme-1.0.36-Bhvs-n11.js","./useStoreTable-1.0.36-DAzrykvV.js","./ActionsDml-1.0.36-CcZ8-7p5.js","./RestApi-1.0.36-XUqEDvWp.js","./AppTheme-1.0.36-BB9LBkIC.js","./index-1.0.36-xGqEIHxf.js","./getThemeProps-1.0.36-R5fuQQuM.js","./useChartSettings-1.0.36-DKli_4MO.js","./useStoreFormSettings-1.0.36-DjvLmz7r.js","./useFormDetails-1.0.36-Bik4Yf-M.js","./useScreenSize-1.0.36-Cyh3FPEf.js","./ConfirmDialog-1.0.36-_-4q7QfI.js","./dompurify-1.0.36-DhD2mIk-.js","./FallbackSpinner-1.0.36-D7KlMhQ_.js","./AlertDialog-1.0.36-PpU2DQEA.js","./SanitizeComponent-1.0.36-DO2eoRBQ.js","./Tooltip-1.0.36-BmrJt8sK.js","./Popper-1.0.36-B2EKBEPA.js","./SharedContainer-1.0.36-DR7D6eET.css","./useMobilePicker-1.0.36-BzfSFtwm.js","./index-1.0.36-BW5TOU2Q.js","./useThemeProps-1.0.36-BvrgfXwP.js","./InputAdornment-1.0.36-DJw47I9A.js","./visuallyHidden-1.0.36-Dan1xhjv.js","./ListItem-1.0.36-CIrAeyuU.js","./Autocomplete-1.0.36-iUEM6sWc.js","./Close-1.0.36-Bg2BHC5L.js","./AdapterDayjs-1.0.36-CivasA6C.js","./DatePicker-1.0.36-D23ADk3G.js","./dateViewRenderers-1.0.36-Cc9wJWzm.js","./FieldDatetime-1.0.36-x76SgnkK.js","./DateTimePicker-1.0.36-DkaCK-9y.js","./Tabs-1.0.36-DsFVtNgs.js","./timeViewRenderers-1.0.36-W7AVXe16.js","./Divider-1.0.36-B5JUONQZ.js","./FieldTime-1.0.36-BHMXH0d_.js","./TimePicker-1.0.36-C5e7mwu9.js","./FieldCheckbox-1.0.36-Bl83XLwn.js","./Checkbox-1.0.36-BBYwR5K6.js","./ColumnWpMedia-1.0.36-DRJMTHfj.js","./index-1.0.36-Dv-fkoQB.js","./index.esm-1.0.36-BcBy0Voo.js","./ColumnHyperlink-1.0.36-yK9DqEaH.js","./FieldDuration-1.0.36-xwLx1MgV.js"])))=>i.map(i=>d[i]);
import{_ as z}from"./main-1.0.36.js";import{j as d}from"./cm-1.0.36-c_d2YVSf.js";import{r as e}from"./redux-1.0.36-Dw38apwx.js";import{l as T,cf as I,m as Q,cg as V,ch as o,b4 as X}from"./lib-1.0.36-RK2jtnD_.js";import{l as c}from"./ActionsDml-1.0.36-CcZ8-7p5.js";import{e as M,f as D,g as l,h as m}from"./SharedContainer-1.0.36-Ia8VTlF_.js";import{T as Y}from"./TargetEnum-1.0.36-DPFnTxiX.js";import{i as a}from"./index-1.0.36-BDOx_E1a.js";import{A as ii}from"./Autocomplete-1.0.36-iUEM6sWc.js";import{T as ri}from"./TextField-1.0.36-7fMfIiaO.js";import"./moment-1.0.36-C5S46NFB.js";import"./vendor-1.0.36-CN03Eozo.js";import"./notistack-1.0.36-BWLrSPn1.js";import"./loglevel-1.0.36-BZ7XahX3.js";import"./lodash-1.0.36-DFhYoGis.js";import"./RestApi-1.0.36-XUqEDvWp.js";import"./hooks-1.0.36-DVpFeylj.js";import"./Spinner-1.0.36-BfGTD4Gb.js";import"./Typography-1.0.36-CpRCY5e-.js";import"./AdminTheme-1.0.36-Bhvs-n11.js";import"./useStoreTable-1.0.36-DAzrykvV.js";import"./AppTheme-1.0.36-BB9LBkIC.js";import"./index-1.0.36-xGqEIHxf.js";import"./getThemeProps-1.0.36-R5fuQQuM.js";import"./useEnhancedEffect-1.0.36-CTzd5Szc.js";import"./useChartSettings-1.0.36-DKli_4MO.js";import"./LanguagesSupport-1.0.36-CNwr1suX.js";import"./index-1.0.36-Cdz_jNzK.js";import"./iconBase-1.0.36-Cg_-P7_6.js";import"./useStoreFormSettings-1.0.36-DjvLmz7r.js";import"./useFormDetails-1.0.36-Bik4Yf-M.js";import"./useScreenSize-1.0.36-Cyh3FPEf.js";import"./ConfirmDialog-1.0.36-_-4q7QfI.js";import"./dompurify-1.0.36-DhD2mIk-.js";import"./ThemeProvider-1.0.36-BePdakPr.js";import"./FallbackSpinner-1.0.36-D7KlMhQ_.js";import"./AlertDialog-1.0.36-PpU2DQEA.js";import"./SanitizeComponent-1.0.36-DO2eoRBQ.js";import"./Tooltip-1.0.36-BmrJt8sK.js";import"./useControlled-1.0.36-DU9XYnsb.js";import"./Popper-1.0.36-B2EKBEPA.js";import"./Close-1.0.36-Bg2BHC5L.js";import"./createSvgIcon-1.0.36-CIHUMY7B.js";import"./useFormControl-1.0.36-DwbRv5ZH.js";import"./isHostComponent-1.0.36-DVu5iVWx.js";import"./FormHelperText-1.0.36-CywRqLJL.js";import"./debounce-1.0.36-Be36O1Ab.js";import"./FormLabel-1.0.36-wYb03Y2-.js";import"./Menu-1.0.36-BJc4ujw0.js";const si=(y,p)=>({}),ei=({appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,storeForm:k,formMode:j,locale:L,columnEvents:r})=>{var B,q;T.debug(y,p,f,x,_,i,P,s,k,j,L);const S=M(y),[u,F]=e.useState([]);T.debug("lov",u);const[R,K]=e.useState(!1),[Z,H]=e.useState(""),[W,$]=e.useState(Array.isArray((B=i.lookup)==null?void 0:B.dynamicConditions)?(q=i.lookup)==null?void 0:q.dynamicConditions.map(A=>({columnName:A.tableColumnName,columnValue:""})):[]);T.debug("conditions",W),e.useEffect(()=>{var A,b;Array.isArray((A=i.lookup)==null?void 0:A.dynamicConditions)&&((b=i.lookup)==null||b.dynamicConditions.map(t=>{S[t.tableColumnName]===void 0&&T.error("Invalid lookup: column "+t.tableColumnName+" in dynamic condition not found.")})),W.length===0&&U()},[i.lookup]),e.useEffect(()=>{var A,b;if(Object.keys(W).length>0){const t=Array.isArray((A=i.lookup)==null?void 0:A.dynamicConditions)?(b=i.lookup)==null?void 0:b.dynamicConditions.map(h=>({columnName:h.lookupColumnName,columnValue:S[h.tableColumnName]??""})):[];if(T.debug(t),!a(W,t)){const h={};t.length>0&&t.map(g=>{h[g.columnName]=g.columnValue}),T.debug("reloading dynamic lookup",p,t),U(h),$(t)}}},[S]);const U=(A={})=>{var b,t;c(y,(s==null?void 0:s.useRform)===!0?Y.RFORM:Y.FORM,p,((b=i.lookup)==null?void 0:b.key)??"",((t=i.lookup)==null?void 0:t.value)??"",A,{},h=>{var g,w,G;if(T.debug(h),(h==null?void 0:h.code)==="ok"){if(!((g=i.lookup)!=null&&g.value.includes(",")))F(h.data);else{const N=(w=i.lookup)==null?void 0:w.value.split(","),J=[];for(let E=0;E<h.data.length;E++){const v=N.map(n=>h.data[E][n]).join(((G=i.lookup)==null?void 0:G.delimiter)??"");J.push({key:h.data[E].key,value:v})}F(J)}K(!1),H("")}else K(!0),H(h.message),F([])},h=>{K(!0),H(h),F([])})},C=e.useMemo(()=>u.filter(A=>A.key===f)[0]??null,[f,u]);return d.jsx(ii,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:u,getOptionLabel:A=>Array.isArray(A.value)?Q(A.value[0]):Q(A.value),value:C,onChange:(A,b)=>{b!==null?O(p,b==null?void 0:b.key):O(p,null)},disabled:I(s,_,i,j),className:i.classNames,renderInput:A=>d.jsx(ri,{error:R,label:_.formLabel,required:_.is_nullable==="NO",...A,variant:o(),helperText:R?Z:V(i,L.selectEnum),disabled:j===X.VIEW||j===X.UPDATE&&(s.primary_key.includes(p)||i.updatable===!1),sx:{"& input":{textAlign:i.alignment}},onBlurCapture:r==null?void 0:r.onBlur,onChangeCapture:r==null?void 0:r.onChange,onClickCapture:r==null?void 0:r.onClick,onDoubleClickCapture:r==null?void 0:r.onDoubleClick,onFocusCapture:r==null?void 0:r.onFocus,onKeyDownCapture:r==null?void 0:r.onKeyDown,onKeyUpCapture:r==null?void 0:r.onKeyUp})})},pi=(y,p,f,x,_)=>{const i={onBlur:void 0,onChange:void 0,onClick:void 0,onDoubleClick:void 0,onFocus:void 0,onKeyDown:void 0,onKeyUp:void 0};return D(_),l(),m(),i},di=e.lazy(()=>z(()=>import("./FieldText-1.0.36-BDg14dQh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),_i=e.lazy(()=>z(()=>import("./FieldTextarea-1.0.36-D5lvo4wc.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),yi=e.lazy(()=>z(()=>import("./FieldNumber-1.0.36-3TjKv3Mv.js"),__vite__mapDeps([24,1,2,3,25,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),fi=e.lazy(()=>z(()=>import("./FieldSet-1.0.36-DEWx9k6y.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,14,9,12,8,10,11,13,15,16,17,18,19,20,21,22,27,28]),import.meta.url)),ki=e.lazy(()=>z(()=>import("./FieldEnum-1.0.36-D-NQZQhx.js"),__vite__mapDeps([29,1,2,3,4,5,6,7,14,9,12,8,10,11,13,15,16,17,18,19,20,21,22,27,28,30,31,32,33,34]),import.meta.url)),ji=e.lazy(()=>z(()=>import("./FieldDate-1.0.36-BCL26TZC.js"),__vite__mapDeps([35,1,2,3,36,4,5,6,7,37,38,39,40,16,41,9,42,43,44,45,46,47,48,11,49,15,10,50,51,52,53,54,20,55,56,57,58,21,59,60,61,62,63,64,12,8,13,14,17,18,19,22,65,66,67,68,69,70,71]),import.meta.url)),Ai=e.lazy(()=>z(()=>import("./FieldDatetime-1.0.36-x76SgnkK.js"),__vite__mapDeps([72,1,2,3,36,4,5,6,7,37,38,39,40,16,41,9,42,43,44,45,46,47,48,11,49,15,10,50,51,52,53,54,20,55,56,57,58,21,59,60,61,62,63,64,12,8,13,14,17,18,19,22,65,66,67,68,69,73,74,75,27,28,71,76]),import.meta.url)),xi=e.lazy(()=>z(()=>import("./FieldTime-1.0.36-BHMXH0d_.js"),__vite__mapDeps([77,1,2,3,36,4,5,6,7,37,38,39,40,16,41,9,42,43,44,45,46,47,48,11,49,15,10,50,51,52,53,54,20,55,56,57,58,21,59,60,61,62,63,64,12,8,13,14,17,18,19,22,65,66,67,68,69,78,75,27,28]),import.meta.url)),Li=e.lazy(()=>z(()=>import("./FieldCheckbox-1.0.36-Bl83XLwn.js"),__vite__mapDeps([79,1,2,3,4,5,6,7,14,9,12,34,10,11,80,33,21,22]),import.meta.url)),Si=e.lazy(()=>z(()=>import("./ColumnWpMedia-1.0.36-DRJMTHfj.js"),__vite__mapDeps([81,1,2,3,4,5,6,7,36,82,10,9,11,83,38,41,14,12,53,42,15,16]),import.meta.url)),hi=e.lazy(()=>z(()=>import("./ColumnHyperlink-1.0.36-yK9DqEaH.js"),__vite__mapDeps([84,1,2,3,4,5,6,7,41,9,8,10,11,12,13,14,15,16,17,18,19,20,21,22,34,80,33]),import.meta.url)),Oi=e.lazy(()=>z(()=>import("./FieldDuration-1.0.36-xwLx1MgV.js"),__vite__mapDeps([85,1,2,3,25,4,5,6,7,36,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),xr=({appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:u})=>{T.debug(y,p,f,x,_,i,s,k,j,L,u);const F=si(),R=pi(F,r,p,s,y);if(s!=null&&s.media[p]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(s==null?void 0:s.media[p]))return d.jsx(e.Suspense,{children:d.jsx(Si,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:u,columnMedia:k==null?void 0:k.media[p],mediaType:s==null?void 0:s.media[p]})});if((s==null?void 0:s.media[p])==="HyperlinkObject")return d.jsx(e.Suspense,{children:d.jsx(hi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S})})}else{if(_.column_type.toLowerCase()==="tinyint(1)")return d.jsx(e.Suspense,{children:d.jsx(Li,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});if(i.lookup!==void 0)return d.jsx(ei,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})}switch(_.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return d.jsx(e.Suspense,{children:d.jsx(yi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:u,columnEvents:R})});case"enum":return d.jsx(e.Suspense,{children:d.jsx(ki,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});case"set":return d.jsx(e.Suspense,{children:d.jsx(fi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});case"time":return i.duration===!0?d.jsx(e.Suspense,{children:d.jsx(Oi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:u,columnEvents:R})}):d.jsx(e.Suspense,{children:d.jsx(xi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:u,columnEvents:R})});case"date":return d.jsx(e.Suspense,{children:d.jsx(ji,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:u,columnEvents:R})});case"datetime":case"timestamp":return d.jsx(e.Suspense,{children:d.jsx(Ai,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:u,columnEvents:R})});case"tinytext":case"text":case"mediumtext":case"longtext":return d.jsx(e.Suspense,{children:d.jsx(_i,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});default:return d.jsx(e.Suspense,{children:d.jsx(di,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})})}};export{xr as default};
