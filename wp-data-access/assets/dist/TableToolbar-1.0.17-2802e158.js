import{d8 as mt,l as C,r as S,j as u,d9 as vt,bu as gt,bM as bt,cU as ht,cj as yt,e as he,_ as xt}from"./main-1.0.17.js";import{c as jt,u as St,d as Tt}from"./TableContainer-1.0.17-008f8fba.js";import{a as wt,v as Ot,T as xe,p as _t,B as ie,I as Ct,h as Rt,ai as Et}from"./main-1.0.17-54ffa424.js";import{P as At,b as Ue,a as kt}from"./index-1.0.17-13514208.js";import{e as qe,f as Mt,g as It}from"./index.esm-1.0.17-7de921eb.js";import{F as _e}from"./FileSaver.min-1.0.17-233e49d5.js";import{d as Nt}from"./ActionsDml-1.0.17-9041b8e8.js";import{C as Ft}from"./TabPanel-1.0.17-3c2dbf14.js";import{j as Bt,u as He,m as Pt,n as Je}from"./usePrepareStore-1.0.17-a8be8b2f.js";import{M as Lt}from"./index.esm-1.0.17-3107c6b2.js";import{I as le,T as Ut}from"./iconBase-1.0.17-8d991e6c.js";import{B as ye}from"./useScreenSize-1.0.17-44173319.js";import{P as qt,a as Ht}from"./Menu-1.0.17-09126381.js";import{R as Jt}from"./RadioGroup-1.0.17-46153993.js";import{F as Q}from"./FormControlLabel-1.0.17-cc31d0c1.js";import{R as Z}from"./Radio-1.0.17-2bbb6717.js";import{F as Xt}from"./Select-1.0.17-745624d0.js";import{A as Gt,T as $t,C as Kt}from"./TargetEnum-1.0.17-1e1ba2c5.js";import"./index.esm-1.0.17-e75a3d2e.js";import"./createSvgIcon-1.0.17-f0c1dc0a.js";import"./MenuItem-1.0.17-ed8ab45a.js";import"./Collapse-1.0.17-faa698ed.js";import"./Checkbox-1.0.17-3dddd4e7.js";import"./AlertTitle-1.0.17-4b186927.js";import"./useSlot-1.0.17-ca7553c5.js";import"./Close-1.0.17-6c546366.js";import"./DialogContent-1.0.17-9628df83.js";import"./InputAdornment-1.0.17-012556cc.js";import"./ListItemIcon-1.0.17-21c8997f.js";import"./DateTimePicker-1.0.17-88f02f82.js";import"./useMobilePicker-1.0.17-7c45344d.js";import"./Tabs-1.0.17-a2a1c721.js";import"./date-time-utils-1.0.17-c30caadb.js";import"./dateViewRenderers-1.0.17-d51d277e.js";import"./TimePicker-1.0.17-43c48cfc.js";import"./DatePicker-1.0.17-e7f585a0.js";import"./Slider-1.0.17-27606716.js";import"./useStoreTable-1.0.17-fdcf1717.js";import"./SanitizeComponent-1.0.17-b68e53d1.js";import"./index.esm-1.0.17-78a91bbf.js";import"./index-1.0.17-9ae5630d.js";import"./settings-1.0.17-bb8125cf.js";import"./ScopeEnum-1.0.17-7caf102d.js";var Vt={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},Wt=`\r
`,Yt="\uFEFF",Ce=n=>Object.assign({},Vt,n);class zt extends Error{constructor(l){super(l),this.name="CsvGenerationError"}}class Qt extends Error{constructor(l){super(l),this.name="EmptyHeadersError"}}class Zt extends Error{constructor(l){super(l),this.name="CsvDownloadEnvironmentError"}}var ae=n=>n,I=n=>n,je=ae,D=ae,Xe=ae,Ge=ae,Dt=function(n,l){return l=='"'&&n.indexOf('"')>-1?n.replace(/"/g,'""'):n},er=n=>Xe(typeof n=="object"?n.key:n),tr=n=>Ge(typeof n=="object"?n.displayLabel:n),rr=(n,...l)=>l.reduce((s,f)=>f(s),n),nr=n=>l=>n.useBom?je(I(l)+Yt):l,or=n=>l=>n.showTitle?Re(je(I(l)+n.title))(D("")):l,Re=n=>l=>je(I(n)+I(l)+Wt),Ke=n=>(l,s)=>sr(n)(D(l+s)),sr=n=>l=>ae(I(l)+n.fieldSeparator),ir=(n,l)=>s=>{if(!n.showColumnHeaders)return s;if(l.length<1)throw new Qt("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let f=D("");for(let h=0;h<l.length;h++){const c=tr(l[h]);f=Ke(n)(f,Ve(n,c))}return f=D(I(f).slice(0,-1)),Re(s)(f)},lr=(n,l,s)=>f=>{let h=f;for(var c=0;c<s.length;c++){let x=D("");for(let p=0;p<l.length;p++){const N=er(l[p]),K=typeof s[c][I(N)]>"u"?n.replaceUndefinedWith:s[c][I(N)];x=Ke(n)(x,Ve(n,K))}x=D(I(x).slice(0,-1)),h=Re(h)(x)}return h},$e=n=>+n===n&&(!isFinite(n)||!!(n%1)),Ve=(n,l)=>{if(n.decimalSeparator==="locale"&&$e(l))return l.toLocaleString();if(n.decimalSeparator!=="."&&$e(l))return l.toString().replace(".",n.decimalSeparator);if(typeof l=="string"){let s=l;return(n.quoteStrings||n.fieldSeparator&&l.indexOf(n.fieldSeparator)>-1||n.quoteCharacter&&l.indexOf(n.quoteCharacter)>-1||l.indexOf(`
`)>-1||l.indexOf("\r")>-1)&&(s=n.quoteCharacter+Dt(l,n.quoteCharacter)+n.quoteCharacter),s}if(typeof l=="boolean"&&n.boolDisplay){const s=l?"true":"false";return n.boolDisplay[s]}return l},ar=n=>l=>{const s=Ce(n),f=s.useKeysAsHeaders?Object.keys(l[0]):s.columnHeaders;let h=rr(je(""),nr(s),or(s),ir(s,f),lr(s,f,l));if(I(h).length<1)throw new zt("Output is empty. Is your data formatted correctly?");return h},ur=n=>l=>{if(!window)throw new Zt("Downloading only supported in a browser environment.");const s=Ce(n),f=I(l),h=s.useTextFile?"plain":"csv",c=s.useTextFile?"txt":"csv";let x=new Blob([f],{type:`text/${h};charset=utf8;`}),p=document.createElement("a");p.download=`${s.filename}.${c}`,p.href=URL.createObjectURL(x),p.setAttribute("visibility","hidden"),document.body.appendChild(p),p.click(),document.body.removeChild(p)},We={};(function(n){(function(l,s){s(n)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:mt,function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.toXML=void 0;function s(o){return c(o)||h(o)||L(o)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function c(o){if(Array.isArray(o))return J(o)}function x(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);e&&(d=d.filter(function(v){return Object.getOwnPropertyDescriptor(o,v).enumerable})),t.push.apply(t,d)}return t}function p(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x(Object(t),!0).forEach(function(d){N(o,d,t[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(d){Object.defineProperty(o,d,Object.getOwnPropertyDescriptor(t,d))})}return o}function N(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function K(o,e){return m(o)||X(o,e)||L(o,e)||R()}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(o,e){if(o){if(typeof o=="string")return J(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);if(t==="Object"&&o.constructor&&(t=o.constructor.name),t==="Map"||t==="Set")return Array.from(o);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return J(o,e)}}function J(o,e){(e==null||e>o.length)&&(e=o.length);for(var t=0,d=new Array(e);t<e;t++)d[t]=o[t];return d}function X(o,e){var t=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(t!=null){var d=[],v=!0,j=!1,w,O;try{for(t=t.call(o);!(v=(w=t.next()).done)&&(d.push(w.value),!(e&&d.length===e));v=!0);}catch(A){j=!0,O=A}finally{try{!v&&t.return!=null&&t.return()}finally{if(j)throw O}}return d}}function m(o){if(Array.isArray(o))return o}function k(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(t){return typeof t}:k=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(o)}var y={ARRAY:"array",BOOLEAN:"boolean",DATE:"date",FUNCTION:"function",JSTOXML_OBJECT:"jstoxml-object",NULL:"null",NUMBER:"number",OBJECT:"object",STRING:"string"},ue=[y.STRING,y.NUMBER,y.BOOLEAN],Se='<?xml version="1.0" encoding="UTF-8"?>',E=["_selfCloseTag","_attrs"],U=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.repeat(t)},M=function(e){return Array.isArray(e)&&y.ARRAY||k(e)===y.OBJECT&&e!==null&&e._name&&y.JSTOXML_OBJECT||e instanceof Date&&y.DATE||e===null&&y.NULL||k(e)},F=function(e){return e.startsWith("<![CDATA[")},ce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,v=e;if(k(e)===y.STRING){if(F(e))return e;var j=new RegExp("(".concat(Object.keys(t).join("|"),")(?!(\\w|#)*;)"),"g");v=String(e).replace(j,function(w,O){return t[O]||""})}return typeof d=="function"?d(v):v},de=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,j=Array.isArray(e)?e:Object.entries(e).map(function(w){var O=K(w,2),A=O[0],P=O[1];return N({},A,P)});return j.reduce(function(w,O){var A=Object.keys(O)[0],P=O[A];if(k(d)===y.FUNCTION){var W=d(A,P);if(W)return w}var q=t?ce(P,t):P,te=!v&&q===!0?"":'="'.concat(q,'"');return w.push("".concat(A).concat(te)),w},[])},ee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,d=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0,j=de(e,t,d,v);if(j.length===0)return"";var w=j.join(" ");return" ".concat(w)},G=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).map(function(t){return{_name:t,_content:e[t]}})},V=function(e){return ue.includes(M(e))},fe=function(e){return!e.match("<")},T=function(e){var t=e.header,d=e.isOutputStart,v=t&&d;if(!v)return"";var j=k(t)===y.BOOLEAN;return j?Se:t},pe={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"},B=function o(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=t.depth,v=d===void 0?0:d,j=t.indent,w=t._isFirstItem,O=t._isOutputStart,A=O===void 0?!0:O,P=t.header,W=t.attributeReplacements,q=W===void 0?{}:W,te=t.attributeFilter,ve=t.attributeExplicitTrue,re=ve===void 0?!1:ve,ge=t.contentReplacements,a=ge===void 0?{}:ge,r=t.contentMap,i=t.selfCloseTags,g=i===void 0?!0:i,b=typeof q=="boolean"&&!q,$=b?{}:p(p({},pe),q),Ye=typeof a=="boolean"&&!a,ze=Ye?{}:p(p({},pe),a),Ee=typeof j=="string",Te=U(j,v),Qe=M(e),Ae=T({header:P,indent:j,depth:v,isOutputStart:A}),be=A&&!Ae&&w&&v===0,ke=Ee&&!be?`
`:"",H="";switch(Qe){case y.JSTOXML_OBJECT:{var Y=e._name,z=e._content;if(z===null&&typeof r!="function"){H="".concat(ke).concat(Te).concat(Y);break}var Ze=Array.isArray(z)&&z.every(V);if(Ze){var De=z.map(function(_){return o({_name:Y,_content:_},p(p({},t),{},{depth:v,_isOutputStart:!1}))});return De.join("")}if(E.includes(Y))break;var ne=o(z,p(p({},t),{},{depth:v+1,_isOutputStart:be})),et=M(ne),tt=fe(ne),rt=F(ne),Me="".concat(ke).concat(Te);if(Y==="_comment"){H+="".concat(Me,"<!-- ").concat(z," -->");break}var Ie=et==="undefined"||ne==="",nt=g,Ne=e._selfCloseTag,Fe=k(Ne)===y.BOOLEAN?Ie&&Ne:Ie&&nt,ot=Fe?"/":"",st=ee(e._attrs,$,te,re),it="<".concat(Y).concat(st).concat(ot,">"),lt=Ee&&!tt&&!rt?`
`.concat(Te):"",at=Fe?"":"".concat(ne).concat(lt,"</").concat(Y,">");H+="".concat(Me).concat(it).concat(at);break}case y.OBJECT:{var Be=Object.keys(e),ut=Be.map(function(_,oe){var we=p(p({},t),{},{_isFirstItem:oe===0,_isLastItem:oe+1===Be.length,_isOutputStart:be}),se={_name:_};if(M(e[_])===y.OBJECT){E.forEach(function(Oe){var Le=e[_][Oe];typeof Le<"u"&&(se[Oe]=Le,delete e[_][Oe])});var ft=typeof e[_]._content<"u";if(ft&&Object.keys(e[_]).length>1){var Pe=Object.assign({},e[_]);delete Pe._content,se._content=[].concat(s(G(Pe)),[e[_]._content])}}typeof se._content>"u"&&(se._content=e[_]);var pt=o(se,we);return pt},t);H=ut.join("");break}case y.FUNCTION:{var ct=e(t);H=o(ct,t);break}case y.ARRAY:{var dt=e.map(function(_,oe){var we=p(p({},t),{},{_isFirstItem:oe===0,_isLastItem:oe+1===e.length,_isOutputStart:be});return o(_,we)});H=dt.join("");break}default:{H=ce(e,ze,r);break}}return"".concat(Ae).concat(H)};l.toXML=B;var me={toXML:B};l.default=me})})(We);const cr=({table:n,appId:l,metaData:s,bulkActions:f,tableStore:h,appLanguage:c,refetch:x,componentWidth:p})=>{C.debug(l,s,f);const N=wt(),K=h.table,R=h.columns;Bt(l);const L=He("(max-width:900px)"),J=He("(max-width:600px)");S.useState("landscape"),S.useState("striped");let X="csv";f.select!==void 0&&(X="select");const[m,k]=S.useState(X),[y,ue]=S.useState(!1),Se=S.useMemo(()=>Ot(),[]),E=jt(l),U=S.useMemo(()=>{const a={};return R.filter(r=>r.lookup!==void 0&&E!==void 0&&E[r.columnName]!==void 0).map(r=>{var i;if(E!==void 0&&E[r.columnName]!==void 0){const g=[];for(const b in E[r.columnName]){const $={key:b,value:Array.isArray(E[r.columnName][b])?E[r.columnName][b].join((i=r.lookup)==null?void 0:i.delimiter):E[r.columnName][b]};g.push($)}a[r.columnName]=g}}),a},[E,R]);C.debug("lookupColumns",U);const M=S.useMemo(()=>{const a={};return R.filter(r=>r.computedField!==void 0).map(r=>{a[r.columnName]=r.computedField}),a},[R]);C.debug(M);const F=S.useMemo(()=>{const a={};return R.map(r=>{M[r.columnName]?a[r.columnName]=M[r.columnName].label:a[r.columnName]=r.columnLabel}),a},[M,R]);C.debug(F);const ce=(a,r)=>{if(U!==void 0&&U[a]!==void 0){const i=U[a].filter(g=>g.key===r);if(Array.isArray(i)&&i.length===1)return i[0].value}return r},de=()=>s.src.app_id?"ppBulkAction-"+s.src.app_id+"-"+s.src.cnt_id:s.src.dbs?"ppBulkAction-"+s.src.dbs+"-"+s.src.tbl:null,ee=n.getAllColumns(),G=n.getSelectedRowModel().rows,V=S.useMemo(()=>ee.filter(a=>a.id!=="mrt-row-actions"&&a.id!=="mrt-row-select"&&a.id!=="mrt-row-expand").map(a=>a.id),[]);C.debug(V);const fe=S.useMemo(()=>{const a=de();if(a!==null){const r=localStorage.getItem(a);if(r!==null)return JSON.parse(r)}return V},[V]);C.debug(fe);const[T,pe]=S.useState(fe);C.debug(T);const B=G.map(a=>{const r={};return ee.map(i=>{i.id!=="mrt-row-actions"&&i.id!=="mrt-row-select"&&i.id!=="mrt-row-expand"&&(U!==void 0&&U[i.id]!==void 0?r[F[i.id]]=ce(i.id,a.getValue(i.id)):M[i.id]||(r[F[i.id]]=a.getValue(i.id)))}),r});C.debug(B);const me=G.map(a=>{const r={};return ee.map(i=>{i.id!=="mrt-row-actions"&&i.id!=="mrt-row-select"&&i.id!=="mrt-row-expand"&&M[i.id]===void 0&&(r[i.id]=a.getValue(i.id))}),r});C.debug(me);const o=()=>{var a,r;return(s==null?void 0:s.src)===void 0?l:s.src.app_id&&((r=(a=s==null?void 0:s.app)==null?void 0:a.app[0])==null?void 0:r.app_title)!==""?s.app.app[0].app_title:s.src.dbs?s.src.tbl:l},e=Ce({filename:o(),fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),t=a=>{const r={};if(s.primary_key&&Array.isArray(s.primary_key))for(let i=0;i<s.primary_key.length;i++){const g=s.primary_key[i];r[g]=a[g]}return r},d=a=>{var r,i,g;for(let b=0;b<((r=s==null?void 0:s.columns)==null?void 0:r.length);b++)if(((i=s==null?void 0:s.columns[b])==null?void 0:i.column_name)===a)return(g=s==null?void 0:s.columns[b])==null?void 0:g.data_type;return"varchar"},v=()=>B.map(a=>{const r={};for(let i=0;i<T.length;i++)r[F[T[i]]]=a[F[T[i]]];return r}),j=async()=>{},w=()=>{const a=ar(e)(v());ur(e)(a)},O=()=>{_e(new Blob([JSON.stringify(v())],{type:"text/json;charset=utf-8"}),o()+".json")};S.useRef();const A=()=>{const a=G.map(i=>{const g={};for(let b=0;b<T.length;b++)i.original[T[b]]!==void 0&&(g[T[b]]=i.original[T[b]]??"");return{row:g}}),r=We.toXML({table:a});_e(new Blob([r],{type:"text/plain;charset=utf-8"}),o()+".xml")},P=()=>{const a=ht(l);C.debug(a);let r="insert into "+a.tbl+" (";for(const i in B[0])r+=i+",";r=r.slice(0,-1)+") values ";for(let i=0;i<B.length;i++){const g=B[i];r+="(";for(const b in g){const $=yt(d(b));g[b]===null?r+="null,":$==="number"?r+=g[b]+",":r+="'"+g[b]+"',"}r=r.slice(0,-1),r+="),"}r=r.slice(0,-1)+";",_e(new Blob([r],{type:"text/plain;charset=utf-8"}),o()+".sql")},W=()=>{for(let a=0;a<B.length;a++){const r=t(me[a]);Nt(l,r,i=>{if(i!=null&&i.code&&(i!=null&&i.message))switch(i.code){case"ok":he(c.deletedSuccessful,{variant:"success"}),x();break;default:C.error(i),he(i.message??c.invalidResponse,{variant:"error"})}else C.error(i),he(c.invalidResponse,{variant:"error"})},i=>{C.error("error",i),he(i??c.invalidResponse,{variant:"error"})})}n.setRowSelection({})},q=()=>null,te=()=>null;S.useState(0),S.useState(0);const[ve,re]=S.useState(!1),ge=S.useMemo(()=>Lt,[]);return u.jsxs(u.Fragment,{children:[u.jsx(At,{variant:"popover",popupId:Se,children:a=>{var r;return u.jsxs(u.Fragment,{children:[p<600?u.jsx(xe,{title:c.bulkActions,children:u.jsx(le,{...Ue(a),children:u.jsx(qe,{})})}):u.jsx(ye,{variant:"contained",endIcon:u.jsx(qe,{}),...Ue(a),children:c.bulkActions}),h.state.relTab===!0&&u.jsx(ye,{variant:"contained",startIcon:u.jsx(_t,{}),sx:{marginLeft:"10px"},onClick:()=>{N(vt({appId:l}))},children:c.back}),u.jsx(qt,{...kt(a),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)"},children:u.jsxs(ie,{sx:{display:"grid",gap:"20px",padding:"20px"},children:[G.length===0&&u.jsx(Ut,{sx:{textAlign:"center",marginTop:"10px"},children:c.noRowsSelected}),u.jsxs(Jt,{value:m,onChange:(i,g)=>{k(g),i.stopPropagation()},children:[q(),f.csv&&u.jsx(Q,{value:"csv",label:c.exportToCsv,control:u.jsx(Z,{})}),f.json&&u.jsx(Q,{value:"json",label:c.exportToJson,control:u.jsx(Z,{})}),te(),f.xml&&u.jsx(Q,{value:"xml",label:c.exportToXml,control:u.jsx(Z,{})}),f.sql&&!gt(l)&&u.jsx(Q,{value:"sql",label:c.exportToSql,control:u.jsx(Z,{})}),((r=s==null?void 0:s.privs)==null?void 0:r.delete)&&!bt(s)&&(f==null?void 0:f.delete)===!0&&K.transactions.delete&&u.jsx(Q,{value:"delete",label:c.deletePermanently,control:u.jsx(Z,{})}),(f.select??!1)&&u.jsx(Q,{value:"select",label:c.addSelectedRow,control:u.jsx(Z,{})})]}),u.jsxs(ie,{sx:{display:"grid",gridTemplateColumns:m==="pdf"||m==="csv"||m==="json"||m==="excel"||m==="xml"?"1fr auto":"1fr",gap:"10px"},children:[u.jsx(ye,{variant:"contained",onClick:()=>{if(m==="pdf"||m==="csv"||m==="json"||m==="excel"||m==="xml"){const i=de();i!==null&&localStorage.setItem(i,JSON.stringify(T))}switch(m){case"pdf":j();break;case"csv":w();break;case"json":O();break;case"excel":break;case"xml":A();break;case"sql":P();break;case"delete":ue(!0);break}},disabled:G.length===0||(m==="pdf"||m==="csv"||m==="json"||m==="excel"||m==="xml")&&(T==null?void 0:T.length)===0,children:c.apply}),(m==="pdf"||m==="csv"||m==="json"||m==="excel"||m==="xml")&&u.jsx(xe,{title:ge.showHideColumns,children:u.jsx(le,{onClick:()=>{re(!0)},children:u.jsx(Ct,{})})})]})]})})]})}}),u.jsx(Ft,{title:c.deleteRowsTitle,message:c.deleteRowsMessage,open:y,setOpen:ue,onConfirm:()=>{W()},theme:Pt}),u.jsx(Ht,{open:ve,onClose:()=>{re(!1)},children:u.jsxs(ie,{sx:{position:"absolute",top:"25%",left:"50%",transform:"translate(-50%, -50%)",width:J?"80vw":L?"70vw":"60vw",maxWidth:"700px",bgcolor:"background.paper",boxShadow:24,borderRadius:"4px",p:4},children:[u.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"-20px"},children:[u.jsx("h3",{children:c.selectFromList}),u.jsx(le,{onClick:()=>{re(!1)},children:u.jsx(Rt,{})})]}),u.jsx(Xt,{fullWidth:!0,children:u.jsx(Gt,{multiple:!0,options:V,value:T,disableCloseOnSelect:!0,getOptionLabel:a=>F[a],onChange:(a,r)=>{pe(r),a.stopPropagation()},renderInput:a=>u.jsx($t,{...a}),renderTags:(a,r)=>a.map((i,g)=>{const{key:b,...$}=r({index:g});return u.jsx(Kt,{variant:"outlined",label:F[i],...$},b)})})})]})})]})};S.lazy(()=>xt(()=>import("./TableChart-1.0.17-1eea7918.js"),["./TableChart-1.0.17-1eea7918.js","./main-1.0.17.js","./index-1.0.17-13514208.js","./DialogContent-1.0.17-9628df83.js","./iconBase-1.0.17-8d991e6c.js","./main-1.0.17-54ffa424.js","./main-1.0.17-f52cb0d7.css","./Menu-1.0.17-09126381.js","./useTableSortableColumns-1.0.17-11425f5b.js","./SortableDragHandle-1.0.17-a2162a27.js","./index.esm-1.0.17-78a91bbf.js","./useScreenSize-1.0.17-44173319.js","./Select-1.0.17-745624d0.js","./createSvgIcon-1.0.17-f0c1dc0a.js","./Checkbox-1.0.17-3dddd4e7.js","./FormControlLabel-1.0.17-cc31d0c1.js"],import.meta.url));const en=({table:n,metaData:l,appId:s,bulkActions:f,hasBulkActions:h,tableStore:c,appLanguage:x,refetch:p,showForm:N,appSettings:K,componentWidth:R})=>{var X;const L=c.table;St(s);const J=Tt(s);return u.jsxs(ie,{sx:{display:"flex",flexWrap:"nowrap",gap:R<600?"0":"8px",alignItems:"center",whiteSpace:"nowrap"},className:"pp-toolbar-buttons",children:[J.length===0&&u.jsx(xe,{arrow:!0,title:x.refresh,className:"ppToolbarRefreshIcon",children:u.jsx(le,{onClick:()=>p(),children:u.jsx(Et,{})})}),((X=L==null?void 0:L.transactions)==null?void 0:X.insert)&&u.jsx(u.Fragment,{children:R<600?u.jsx(xe,{title:x.newRow,children:u.jsx(le,{onClick:()=>{N(null,Je.INSERT)},children:u.jsx(Mt,{})})}):u.jsx(ye,{variant:"contained",startIcon:u.jsx(It,{}),onClick:()=>{N(null,Je.INSERT)},children:x.newRow})}),h&&u.jsx(cr,{table:n,appId:s,metaData:l,bulkActions:f,tableStore:c,appLanguage:x,refetch:p,componentWidth:R}),!1,!1]})};export{en as default};
