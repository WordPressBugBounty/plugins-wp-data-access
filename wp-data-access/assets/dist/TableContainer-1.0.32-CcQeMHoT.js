const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TableQuery-1.0.32-DLn0yGji.js","./main-1.0.32.js","./cm-1.0.32-roxymF9V.js","./redux-1.0.32-BsgiH_bG.js","./vendor-1.0.32-BmpNFhoq.js","./notistack-1.0.32-N2grKTUm.js","./lib-1.0.32-CBsDffd2.js","./loglevel-1.0.32-BZ7XahX3.js","./lodash-1.0.32-B7VmFneh.js","./moment-1.0.32-C5S46NFB.js","./useStoreTable-1.0.32-DHfF4DKP.js","./RestApi-1.0.32-Bp_RRidr.js","./index-1.0.32-DEU9wnLT.js","./cjs-1.0.32-AqZgyPIn.js","./Typography-1.0.32-D9d-UzA0.js","./iconBase-1.0.32-inVKjZEJ.js","./ActionsDml-1.0.32-CqneDSgR.js","./ConfirmDialog-1.0.32-A4KvBqFE.js","./AdminTheme-1.0.32-WcjuTcVF.js","./DialogContent-1.0.32-B0aW5NMk.js","./ConfirmDialog-1.0.32--D4jr2go.css","./SanitizeComponent-1.0.32-pSotkHem.js","./dompurify-1.0.32-CCJo14B2.js","./index-1.0.32-wSDMfVDG.js","./tanstack-1.0.32-hjLg6WMC.js","./index.esm-1.0.32-DHLqzAfk.js","./createSvgIcon-1.0.32-DGmABpxr.js","./index-1.0.32-D6IhVoXv.js","./Collapse-1.0.32-3dNdwtSs.js","./Tooltip-1.0.32-BFRxm1kH.js","./Popper-1.0.32-Dr5x4zRa.js","./useControlled-1.0.32-fDn_qfrW.js","./Spinner-1.0.32-D1QL5ry3.js","./FormControlLabel-1.0.32-B7mCGY7x.js","./useFormControl-1.0.32-Tf9RtQ-m.js","./Checkbox-1.0.32-CFJQbOdr.js","./SwitchBase-1.0.32-8MhCpXB3.js","./Menu-1.0.32-CRF2Elfu.js","./InputAdornment-1.0.32-B4eTRvU4.js","./Autocomplete-1.0.32-CC-cYb5n.js","./TextField-1.0.32-EUJpMVir.js","./FormHelperText-1.0.32-BG3xt4JA.js","./FormLabel-1.0.32-agP5qBoD.js","./Close-1.0.32-BV_W41ov.js","./TimePicker-1.0.32-JvxXQNTX.js","./useMobilePicker-1.0.32-aq7eJnRp.js","./index-1.0.32-6Cfvmv3-.js","./visuallyHidden-1.0.32-Dan1xhjv.js","./ListItem-1.0.32-BDCZ88q2.js","./timeViewRenderers-1.0.32-oFPNP3d_.js","./MenuItem-1.0.32-Bc1CXi88.js","./DateTimePicker-1.0.32-BCOHYqEk.js","./Tabs-1.0.32-B237JaNe.js","./dateViewRenderers-1.0.32-BBL1OGiN.js","./Divider-1.0.32-kK3jX0R7.js","./DatePicker-1.0.32-D40Vxj8d.js","./Stack-1.0.32-BKAIHkUk.js","./Slider-1.0.32-C4ittimZ.js","./ListItemIcon-1.0.32-CPQjWjIH.js","./Radio-1.0.32-Dg2N7INw.js","./AlertTitle-1.0.32-CcGnHgem.js","./Switch-1.0.32-BfMlbG-m.js","./index.esm-1.0.32-BcBy0Voo.js","./useTheme-1.0.32-Boox29T5.js","./useScreenSize-1.0.32-ZGgk_gJq.js","./ThemeContainer-1.0.32-DQB7LmiJ.js","./FallbackSpinner-1.0.32-kTXSQeKF.js","./ThemeContainer-1.0.32-DR7D6eET.css","./AggregationLabelsEnum-1.0.32-BC8SFHGp.js","./useTableColumnOrder-1.0.32-Q496z8_E.js","./TableQuery-1.0.32-AnzhVzs2.css","./SettingsTable-1.0.32-DTgknpyO.js","./useTableUpdater-1.0.32-BssjPM3j.js","./index-1.0.32-C02EIL93.js","./AccordionSummary-1.0.32-9Jmrvpfq.js","./AccordionDetails-1.0.32-DYksa6e-.js","./RadioGroup-1.0.32-BPYStg8S.js","./Link-1.0.32-BLIjMrJd.js","./CssUnitTextField-1.0.32-DMkEfH2_.js","./SettingsFormRelationships-1.0.32-pYQom-RH.js","./ComponentColumn-1.0.32-C3lMj1lK.js","./ActionsExplorer-1.0.32-DZpEeZtZ.js","./ActionsApp-1.0.32-CpkxEv_o.js","./useFormUpdater-1.0.32-BjBIrhkK.js","./ToggleButtonGroup-1.0.32-BmgjhW3x.js","./Stepper-1.0.32-BV_H_xIw.js","./StepContent-1.0.32-BIhCsZP-.js","./PremiumFeature-1.0.32-DzBj81Kk.js","./useFormStore-1.0.32-CuqY-zLZ.js","./SettingsColumns-1.0.32-WAgbIQGI.js","./useMetadataColumns-1.0.32-B-d0r_gO.js","./index-1.0.32-BfmmLuE3.js","./SettingsCharts-1.0.32-CXfS8tVr.js","./TableChartSelection-1.0.32-DaiwqN8X.js","./TabPanel-1.0.32-DFUvt78C.js","./ActionsSettings-1.0.32-u1MS6Fmu.js","./TargetEnum-1.0.32-DPFnTxiX.js","./ScopeEnum-1.0.32-B4DDvIDj.js","./index-1.0.32-D1JAhTpk.js","./settings-1.0.32-OrNy0l2i.js","./settings-1.0.32-Bx2jvYL6.css","./SettingsTableCode-1.0.32-7GhapQ5N.js","./index-1.0.32-Iej93Alk.js","./TreeItem2-1.0.32-D1qiOjpo.js","./TreeItem2Provider-1.0.32-C330i2OX.js","./ResizableDrawer-1.0.32-BHU0VG8c.js","./ThemeSettings-1.0.32-Ck8NwdcD.js"])))=>i.map(i=>d[i]);
import{j as e}from"./cm-1.0.32-roxymF9V.js";import{r as o}from"./redux-1.0.32-BsgiH_bG.js";import{A as L,a as X,T as Y}from"./AdminTheme-1.0.32-WcjuTcVF.js";import{l as n,ap as $,a2 as j,S as u,ar as R,as as J,P as Z,bn as ee,a as O,s as te,bo as se,au as oe,bp as re,b as T,_ as ie}from"./lib-1.0.32-CBsDffd2.js";import{_ as c}from"./main-1.0.32.js";import{Q as ne,a as le}from"./tanstack-1.0.32-hjLg6WMC.js";import{F as ae}from"./FallbackSpinner-1.0.32-kTXSQeKF.js";import{u as w,a as F}from"./RestApi-1.0.32-Bp_RRidr.js";import{b as ce}from"./ActionsSettings-1.0.32-u1MS6Fmu.js";import{T as f,C as M,a as V,b as ue}from"./ConfirmDialog-1.0.32-A4KvBqFE.js";import{S as me}from"./ScopeEnum-1.0.32-B4DDvIDj.js";import{g as de,j as be,f as he,k as xe,l as pe}from"./index-1.0.32-D1JAhTpk.js";import{A as ge,T as Se,M as je,B as _}from"./cjs-1.0.32-AqZgyPIn.js";import{e as x}from"./notistack-1.0.32-N2grKTUm.js";import{B as Te,a as fe,T as _e,b as p}from"./TabPanel-1.0.32-DFUvt78C.js";import{S as m,B as Ce}from"./Spinner-1.0.32-D1QL5ry3.js";import{u as ve}from"./useTableUpdater-1.0.32-BssjPM3j.js";import{B as ke}from"./settings-1.0.32-OrNy0l2i.js";import{C as Be,D as ye}from"./useTheme-1.0.32-Boox29T5.js";import{T as Ee}from"./Typography-1.0.32-D9d-UzA0.js";import{I as C}from"./iconBase-1.0.32-inVKjZEJ.js";const Ae=o.lazy(()=>c(()=>import("./TableQuery-1.0.32-DLn0yGji.js").then(t=>t.T),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70]),import.meta.url)),Pe=({appId:t,display:r,refresh:i,metaData:a,showForm:l})=>{n.debug(t,r,i);const d=new ne;return e.jsx(le,{client:d,children:e.jsx(o.Suspense,{fallback:e.jsx(ae,{}),children:e.jsx(Ae,{appId:t,display:r,refresh:i,showForm:l,metaData:a})})})},ze=t=>{const r=w(i=>i.ui.tableSettings.isOpen&&i.ui.tableSettings.appId===t);return n.debug("tableSettingsVisible",r),r},De=()=>{const t=w(r=>r.ui.tableSettings.hideThemeSettings);return n.debug("hideThemeSetting",t),t},Le=t=>{const r=F();return()=>{r($({appId:t,property:{updateChart:new Date().getTime()}}))}},Re=o.lazy(()=>c(()=>import("./SettingsTable-1.0.32-DTgknpyO.js"),__vite__mapDeps([71,2,3,4,6,7,8,9,11,10,13,14,15,5,72,73,74,37,18,31,28,75,32,41,34,76,59,36,26,33,61,77,78,40,42,79,80,81,39,43,30,82,35,29,23,83,50,84,85,86,63,27,17,19,20,87,88,48]),import.meta.url)),Oe=o.lazy(()=>c(()=>import("./SettingsColumns-1.0.32-WAgbIQGI.js"),__vite__mapDeps([89,2,3,4,90,13,14,6,7,8,9,15,5,63,11,27,10,88,32,18,91,16,23,40,41,34,42,37,31,26,50,73,72,85,86,28,33,35,36,17,19,20,77,74,75,61,57,47,87,76,59,68,39,43,30,69]),import.meta.url)),Me=o.lazy(()=>c(()=>import("./SettingsCharts-1.0.32-CXfS8tVr.js"),__vite__mapDeps([92,1,2,3,4,5,6,7,8,9,10,11,72,93,23,15,14,69,63,27,13,62,32,41,34,40,42,37,18,31,26,50,29,30,39,43,94,19,87,74,28,75,33,61,36,84,24,66,95,96,17,20,97,98,99,100]),import.meta.url)),Ve=o.lazy(()=>c(()=>import("./SettingsTableCode-1.0.32-7GhapQ5N.js"),__vite__mapDeps([101,2,3,4,102,46,13,14,6,7,8,9,15,5,11,65,1,32,18,10,16,63,27,64,22,66,29,30,31,67,72,87,23,42,34,98,74,37,28,103,104,19,26,35,36]),import.meta.url)),we=o.lazy(()=>c(()=>import("./ResizableDrawer-1.0.32-BHU0VG8c.js"),__vite__mapDeps([105,2,3,4,64,6,7,8,9,11,14,18,15,13,5,37]),import.meta.url)),Fe=o.lazy(()=>c(()=>import("./ThemeSettings-1.0.32-Ck8NwdcD.js"),__vite__mapDeps([106,2,3,4,11,6,7,8,9,63,27,14,13,15,5,87,23,18,42,34,12,32,41,61,36,31,56,19,57,47,37,33,77,76,59,26,78,40,74,28,75]),import.meta.url)),Ne=({appId:t,metaData:r})=>{var z,D;n.debug(t,r);const i=F(),a=De();Be();const l=ve(t),d=Le(t),[b,N]=o.useState(j.getSelectors().selectTableById(u.getState().tables,t));n.debug(b);const[v,U]=o.useState(R.getSelectors().selectChart(u.getState().charts,t));n.debug(v);const[G,Ge]=o.useState(J.getSelectors().selectThemeById(u.getState().themes,t));n.debug(G);const[H,k]=o.useState(!1),B=()=>j.getSelectors().selectTableIsUpdated(u.getState().tables,t),g=s=>{l(s)},Q=((z=L)==null?void 0:z.palette.mode)===Z.LIGHT?(D=L)==null?void 0:D.palette.primary.main:"",y=s=>{i(te({anchor:s}))},E=()=>{i(se({appId:t,tableState:b})),i(oe({appId:t,chartState:v})),d()},h=()=>{i(re({})),g(!1)},S=()=>{B()?k(!0):(E(),h())},A=()=>{ce(t,me.GLOBAL,s=>{if(n.debug(s),s!=null&&s.code&&(s==null?void 0:s.message)!==void 0)switch(s.code){case"ok":N(j.getSelectors().selectTableById(u.getState().tables,t)),U(R.getSelectors().selectChart(u.getState().charts,t)),x(s.message,{variant:"success"});break;case"info":x(s.message,{variant:"info"});break;default:n.error(s),x(s.message??T.contactSupport,{variant:"error"})}else n.error(s),x(T.contactSupport,{variant:"error"})},s=>{n.error("error",s),x(s??T.contactSupport,{variant:"error"})}),g(!1)},q=()=>{B()?(A(),setTimeout(()=>{h()},1e3)):h()},K=ze(t),[P,I]=o.useState(0),W=o.useMemo(()=>{const s=[{title:"Table",icon:e.jsx(de,{})},{title:"Columns",icon:e.jsx(be,{})},{title:"Hooks",icon:e.jsx(he,{})},{title:"Charts",icon:e.jsx(xe,{})},{title:"Theme",icon:e.jsx(pe,{})}];return ee(r)?s.splice(0,2):a?s.splice(0,4):s},[a]);return e.jsx(e.Fragment,{children:K&&e.jsxs(e.Fragment,{children:[e.jsx(o.Suspense,{fallback:e.jsx(m,{}),children:e.jsxs(we,{closeDrawer:S,children:[e.jsxs(ge,{position:"static",elevation:4,sx:{borderRadius:0},children:[e.jsxs(Se,{className:"pp-setting-toolbar",sx:{borderRadius:0},children:[e.jsx(Ee,{variant:"h5",noWrap:!0,component:"div",className:"unselectable",sx:{flexGrow:1,paddingLeft:"6px"},children:"Table Builder"}),e.jsx(f,{title:"Dock to left",position:"bottom",children:e.jsx(C,{onClick:()=>{y(O.LEFT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(Te,{})})}),e.jsx(f,{title:"Dock to right",position:"bottom",children:e.jsx(C,{onClick:()=>{y(O.RIGHT)},size:"large",color:"inherit",sx:{fontSize:"1em"},children:e.jsx(fe,{})})}),e.jsx(f,{title:"Close",position:"bottom",children:e.jsx(C,{onClick:S,size:"large",color:"inherit",sx:{fontSize:"1.4em"},children:e.jsx(je,{})})})]}),e.jsx(ke,{menuItems:W,menuIndex:P,setMenu:I})]}),e.jsx(M,{className:"pp-settings-container",children:e.jsx(V,{sx:{padding:0,margin:0},children:e.jsx(_e,{value:P,children:e.jsxs(Ce,{sx:{margin:0,padding:0,overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 232px)","& > div.MuiTabPanel-root":{padding:0}},children:[e.jsx(p,{value:0,children:e.jsx(o.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Re,{appId:t,metaData:r})})}),e.jsx(p,{value:1,className:"pp-column-settings-container",children:e.jsx(o.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Oe,{appId:t,metaData:r})})}),e.jsx(p,{value:2,children:e.jsx(o.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Ve,{appId:t,tableSettings:b})})}),e.jsx(p,{value:3,children:e.jsx(o.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Me,{appId:t})})}),a!==!0&&e.jsx(p,{value:4,children:e.jsx(o.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(Fe,{appId:t,source:ye.TABLE,setIsUpdated:g})})})]})})})}),e.jsx(M,{className:"pp-setting-footer",sx:{borderRadius:0,backgroundColor:Q},children:e.jsxs(V,{className:"pp-setting-footer-buttons",sx:{borderRadius:0},children:[e.jsx(_,{variant:"outlined",className:"footer_action_button_apply",onClick:A,children:"Apply"}),e.jsx(_,{variant:"outlined",className:"footer_action_button",onClick:q,children:"OK"}),e.jsx(_,{variant:"outlined",className:"footer_action_button",onClick:S,children:"Cancel"})]})})]})}),e.jsx(ue,{title:"Close Table Builder?",message:"All uncommitted changes will be lost!",open:H,setOpen:k,onConfirm:()=>{E(),h()},onKeep:()=>{h()}})]})})},Ue=({appId:t,display:r,refresh:i,showForm:a,metaData:l})=>{n.debug(t,r,i);const d=o.useMemo(()=>ie(l),[l]),b=o.useMemo(()=>X(),[]);return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{appId:t,display:r,refresh:i,showForm:a,metaData:l}),d&&e.jsx(Y,{theme:b,children:e.jsx(Ne,{appId:t,metaData:l})})]})},ut=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));export{ut as T,Le as a,ze as u};
