const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.37-C2T2gR_X.js","./cm-1.0.37-CEr77VZi.js","./redux-1.0.37-C4JSQ-MG.js","./vendor-1.0.37-CN03Eozo.js","./lib-1.0.37-Czwr-8r3.js","./loglevel-1.0.37-BZ7XahX3.js","./lodash-1.0.37-Dx3wKrSf.js","./moment-1.0.37-C5S46NFB.js","./TextField-1.0.37-CCe4G0U1.js","./Typography-1.0.37-DjtXWQnP.js","./iconBase-1.0.37-DRohixw7.js","./useEnhancedEffect-1.0.37-UwysO4qr.js","./Select-1.0.37-B5ZKqjeL.js","./Menu-1.0.37-Ca8DeoO3.js","./ThemeProvider-1.0.37-Cyf1xy26.js","./index-1.0.37-B60ShF2d.js","./notistack-1.0.37-CEqipxDI.js","./utils-1.0.37-iop7lDec.js","./useControlled-1.0.37-DyimEgDk.js","./useFormControl-1.0.37-BcUwa2qz.js","./createSvgIcon-1.0.37-DXsAQOmB.js","./FormLabel-1.0.37-BQP5Nx_Z.js","./FormHelperText-1.0.37-ylnS0Km6.js","./FieldTextarea-1.0.37-BWmS9Y9z.js","./FieldNumber-1.0.37-BQ38CIic.js","./react-number-format.es-1.0.37-BXt8B3cr.js","./FieldSet-1.0.37-CrTml6f8.js","./MenuItem-1.0.37-JkRcsicb.js","./FieldEnum-1.0.37-Ctf5n_ck.js","./EnumTypeEnum-1.0.37-Ws4BsaYD.js","./RadioGroup-1.0.37-CARB8om5.js","./Radio-1.0.37-C5rUTiNk.js","./SwitchBase-1.0.37-Bwy1aBhJ.js","./FormControlLabel-1.0.37-BLp4PuCc.js","./FieldDate-1.0.37-fgDYJE4U.js","./hooks-1.0.37-DW0_oiBB.js","./lang-1.0.37-CfHlhLgz.js","./SharedContainer-1.0.37-BgI3NpUN.js","./main-1.0.37.js","./Spinner-1.0.37-CwhfSVqI.js","./AdminTheme-1.0.37-7PLndQ8H.js","./useStoreTable-1.0.37-Bzu2Dqnh.js","./ActionsDml-1.0.37-kzr7tHjI.js","./RestApi-1.0.37-CcjslynE.js","./AppTheme-1.0.37-DOXnENpA.js","./index-1.0.37-D4zhytA1.js","./getThemeProps-1.0.37-BGc0S4YC.js","./useChartSettings-1.0.37-DyLw1xR9.js","./useRemoveAppFromStore-1.0.37-HphIv4xo.js","./useStoreFormSettings-1.0.37-DetNzg9c.js","./useFormDetails-1.0.37-DnrKW97d.js","./DynamicModeEnum-1.0.37-BXuL5kgA.js","./useScreenSize-1.0.37-X1Uq-TFD.js","./ConfirmDialog-1.0.37-BDQ_OfRf.js","./dompurify-1.0.37-DhD2mIk-.js","./FallbackSpinner-1.0.37-DAc7pvnM.js","./AlertDialog-1.0.37-DG1NZI4D.js","./SanitizeComponent-1.0.37-DM7FdeKd.js","./Tooltip-1.0.37-BLWvlO4a.js","./Popper-1.0.37-CSsNCozr.js","./SharedContainer-1.0.37-DR7D6eET.css","./useMobilePicker-1.0.37-R-jHVb2P.js","./index-1.0.37-D1xZWbV7.js","./useThemeProps-1.0.37-CD9ZXLtG.js","./InputAdornment-1.0.37-Bm1BNe28.js","./visuallyHidden-1.0.37-Dan1xhjv.js","./ListItem-1.0.37-dqzHUGyt.js","./Autocomplete-1.0.37-5_yZAyWV.js","./Close-1.0.37-Yr1E1-6A.js","./AdapterDayjs-1.0.37-Dni_4ArA.js","./DatePicker-1.0.37-PLuiNNZ5.js","./dateViewRenderers-1.0.37-w-smkVHQ.js","./FieldDatetime-1.0.37-D6OBLJbh.js","./DateTimePicker-1.0.37-CnXTWBoh.js","./Tabs-1.0.37-CatYC_MQ.js","./timeViewRenderers-1.0.37-Ch7-pd3X.js","./Divider-1.0.37-PDNfV3Nd.js","./FieldTime-1.0.37-CKT2UAdx.js","./TimePicker-1.0.37-BtJEaGns.js","./FieldCheckbox-1.0.37-C2Zu741B.js","./Checkbox-1.0.37-LjGLlM3B.js","./ColumnWpMedia-1.0.37-BykKhv9J.js","./index-1.0.37-CK0QxOhD.js","./ColumnHyperlink-1.0.37-Ccn5F_sK.js","./FieldDuration-1.0.37-BWFr56vw.js"])))=>i.map(i=>d[i]);
import{_ as z}from"./main-1.0.37.js";import{j as d}from"./cm-1.0.37-CEr77VZi.js";import{r as e}from"./redux-1.0.37-C4JSQ-MG.js";import{l as T,cn as I,n as Q,co as o,cp as V,ba as X}from"./lib-1.0.37-Czwr-8r3.js";import{l as c}from"./ActionsDml-1.0.37-kzr7tHjI.js";import{e as M,f as D,g as l,h as m}from"./SharedContainer-1.0.37-BgI3NpUN.js";import{T as Y}from"./TargetEnum-1.0.37-CIW1jlU5.js";import{i as a}from"./index-1.0.37-9tYvXmzh.js";import{A as ii}from"./Autocomplete-1.0.37-5_yZAyWV.js";import{T as ri}from"./TextField-1.0.37-CCe4G0U1.js";import"./moment-1.0.37-C5S46NFB.js";import"./vendor-1.0.37-CN03Eozo.js";import"./notistack-1.0.37-CEqipxDI.js";import"./loglevel-1.0.37-BZ7XahX3.js";import"./lodash-1.0.37-Dx3wKrSf.js";import"./RestApi-1.0.37-CcjslynE.js";import"./hooks-1.0.37-DW0_oiBB.js";import"./Spinner-1.0.37-CwhfSVqI.js";import"./Typography-1.0.37-DjtXWQnP.js";import"./AdminTheme-1.0.37-7PLndQ8H.js";import"./useStoreTable-1.0.37-Bzu2Dqnh.js";import"./AppTheme-1.0.37-DOXnENpA.js";import"./index-1.0.37-D4zhytA1.js";import"./getThemeProps-1.0.37-BGc0S4YC.js";import"./useEnhancedEffect-1.0.37-UwysO4qr.js";import"./useChartSettings-1.0.37-DyLw1xR9.js";import"./useRemoveAppFromStore-1.0.37-HphIv4xo.js";import"./lang-1.0.37-CfHlhLgz.js";import"./index-1.0.37-B60ShF2d.js";import"./iconBase-1.0.37-DRohixw7.js";import"./useStoreFormSettings-1.0.37-DetNzg9c.js";import"./useFormDetails-1.0.37-DnrKW97d.js";import"./DynamicModeEnum-1.0.37-BXuL5kgA.js";import"./useScreenSize-1.0.37-X1Uq-TFD.js";import"./ConfirmDialog-1.0.37-BDQ_OfRf.js";import"./dompurify-1.0.37-DhD2mIk-.js";import"./ThemeProvider-1.0.37-Cyf1xy26.js";import"./FallbackSpinner-1.0.37-DAc7pvnM.js";import"./AlertDialog-1.0.37-DG1NZI4D.js";import"./SanitizeComponent-1.0.37-DM7FdeKd.js";import"./Tooltip-1.0.37-BLWvlO4a.js";import"./useControlled-1.0.37-DyimEgDk.js";import"./Popper-1.0.37-CSsNCozr.js";import"./Select-1.0.37-B5ZKqjeL.js";import"./Menu-1.0.37-Ca8DeoO3.js";import"./utils-1.0.37-iop7lDec.js";import"./useFormControl-1.0.37-BcUwa2qz.js";import"./createSvgIcon-1.0.37-DXsAQOmB.js";import"./Close-1.0.37-Yr1E1-6A.js";import"./FormLabel-1.0.37-BQP5Nx_Z.js";import"./FormHelperText-1.0.37-ylnS0Km6.js";const si=(y,p)=>({}),ei=({appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,storeForm:k,formMode:j,locale:L,columnEvents:r})=>{var B,q;T.debug(y,p,f,x,_,i,P,s,k,j,L);const S=M(y),[t,F]=e.useState([]);T.debug("lov",t);const[R,K]=e.useState(!1),[Z,H]=e.useState(""),[g,$]=e.useState(Array.isArray((B=i.lookup)==null?void 0:B.dynamicConditions)?(q=i.lookup)==null?void 0:q.dynamicConditions.map(A=>({columnName:A.tableColumnName,columnValue:""})):[]);T.debug("conditions",g),e.useEffect(()=>{var A,b;Array.isArray((A=i.lookup)==null?void 0:A.dynamicConditions)&&((b=i.lookup)==null||b.dynamicConditions.map(u=>{S[u.tableColumnName]===void 0&&T.error("Invalid lookup: column "+u.tableColumnName+" in dynamic condition not found.")})),g.length===0&&U()},[i.lookup]),e.useEffect(()=>{var A,b;if(Object.keys(g).length>0){const u=Array.isArray((A=i.lookup)==null?void 0:A.dynamicConditions)?(b=i.lookup)==null?void 0:b.dynamicConditions.map(O=>({columnName:O.lookupColumnName,columnValue:S[O.tableColumnName]??""})):[];if(T.debug(u),!a(g,u)){const O={};u.length>0&&u.map(W=>{O[W.columnName]=W.columnValue}),T.debug("reloading dynamic lookup",p,u),U(O),$(u)}}},[S]);const U=(A={})=>{var b,u;c(y,(s==null?void 0:s.useRform)===!0?Y.RFORM:Y.FORM,p,((b=i.lookup)==null?void 0:b.key)??"",((u=i.lookup)==null?void 0:u.value)??"",A,{},O=>{var W,w,G;if(T.debug(O),(O==null?void 0:O.code)==="ok"){if(!((W=i.lookup)!=null&&W.value.includes(",")))F(O.data);else{const N=(w=i.lookup)==null?void 0:w.value.split(","),J=[];for(let E=0;E<O.data.length;E++){const v=N.map(n=>O.data[E][n]).join(((G=i.lookup)==null?void 0:G.delimiter)??"");J.push({key:O.data[E].key,value:v})}F(J)}K(!1),H("")}else K(!0),H(O.message),F([])},O=>{K(!0),H(O),F([])})},C=e.useMemo(()=>t.filter(A=>A.key===f)[0]??null,[f,t]);return d.jsx(ii,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:t,getOptionLabel:A=>Array.isArray(A.value)?Q(A.value[0]):Q(A.value),value:C,onChange:(A,b)=>{b!==null?h(p,b==null?void 0:b.key):h(p,null)},disabled:I(s,_,i,j),className:i.classNames,renderInput:A=>d.jsx(ri,{error:R,label:_.formLabel,required:_.is_nullable==="NO",...A,variant:V(),helperText:R?Z:o(i,L.selectEnum),disabled:j===X.VIEW||j===X.UPDATE&&(s.primary_key.includes(p)||i.updatable===!1),sx:{"& input":{textAlign:i.alignment}},onBlurCapture:r==null?void 0:r.onBlur,onChangeCapture:r==null?void 0:r.onChange,onClickCapture:r==null?void 0:r.onClick,onDoubleClickCapture:r==null?void 0:r.onDoubleClick,onFocusCapture:r==null?void 0:r.onFocus,onKeyDownCapture:r==null?void 0:r.onKeyDown,onKeyUpCapture:r==null?void 0:r.onKeyUp})})},pi=(y,p,f,x,_)=>{const i={onBlur:void 0,onChange:void 0,onClick:void 0,onDoubleClick:void 0,onFocus:void 0,onKeyDown:void 0,onKeyUp:void 0};return D(_),l(),m(),i},di=e.lazy(()=>z(()=>import("./FieldText-1.0.37-C2T2gR_X.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),_i=e.lazy(()=>z(()=>import("./FieldTextarea-1.0.37-BWmS9Y9z.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),yi=e.lazy(()=>z(()=>import("./FieldNumber-1.0.37-BQ38CIic.js"),__vite__mapDeps([24,1,2,3,25,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),fi=e.lazy(()=>z(()=>import("./FieldSet-1.0.37-CrTml6f8.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,22,9,17,19,8,10,11,12,13,14,15,16,18,20,21,27]),import.meta.url)),ki=e.lazy(()=>z(()=>import("./FieldEnum-1.0.37-Ctf5n_ck.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,22,9,17,19,8,10,11,12,13,14,15,16,18,20,21,27,29,30,31,32,33]),import.meta.url)),ji=e.lazy(()=>z(()=>import("./FieldDate-1.0.37-fgDYJE4U.js"),__vite__mapDeps([34,1,2,3,35,4,5,6,7,36,37,38,16,39,9,40,41,42,43,44,45,46,11,47,48,15,10,49,50,51,52,53,54,14,55,56,57,58,18,59,60,61,62,63,64,19,8,12,13,17,20,21,22,65,66,67,68,69,70,71]),import.meta.url)),Ai=e.lazy(()=>z(()=>import("./FieldDatetime-1.0.37-D6OBLJbh.js"),__vite__mapDeps([72,1,2,3,35,4,5,6,7,36,37,38,16,39,9,40,41,42,43,44,45,46,11,47,48,15,10,49,50,51,52,53,54,14,55,56,57,58,18,59,60,61,62,63,64,19,8,12,13,17,20,21,22,65,66,67,68,69,73,74,75,27,71,76]),import.meta.url)),xi=e.lazy(()=>z(()=>import("./FieldTime-1.0.37-CKT2UAdx.js"),__vite__mapDeps([77,1,2,3,35,4,5,6,7,36,37,38,16,39,9,40,41,42,43,44,45,46,11,47,48,15,10,49,50,51,52,53,54,14,55,56,57,58,18,59,60,61,62,63,64,19,8,12,13,17,20,21,22,65,66,67,68,69,78,75,27]),import.meta.url)),Li=e.lazy(()=>z(()=>import("./FieldCheckbox-1.0.37-C2Zu741B.js"),__vite__mapDeps([79,1,2,3,4,5,6,7,22,9,17,19,33,10,11,80,32,18,20]),import.meta.url)),Si=e.lazy(()=>z(()=>import("./ColumnWpMedia-1.0.37-BykKhv9J.js"),__vite__mapDeps([81,1,2,3,4,5,6,7,35,82,10,9,11,36,39,22,17,19,53,40,15,16]),import.meta.url)),Oi=e.lazy(()=>z(()=>import("./ColumnHyperlink-1.0.37-Ccn5F_sK.js"),__vite__mapDeps([83,1,2,3,4,5,6,7,39,9,8,10,11,12,13,14,15,16,17,18,19,20,21,22,33,80,32]),import.meta.url)),hi=e.lazy(()=>z(()=>import("./FieldDuration-1.0.37-BWFr56vw.js"),__vite__mapDeps([84,1,2,3,25,4,5,6,7,35,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url)),Sr=({appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t})=>{T.debug(y,p,f,x,_,i,s,k,j,L,t);const F=si(),R=pi(F,r,p,s,y);if(s!=null&&s.media[p]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(s==null?void 0:s.media[p]))return d.jsx(e.Suspense,{children:d.jsx(Si,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnMedia:k==null?void 0:k.media[p],mediaType:s==null?void 0:s.media[p]})});if((s==null?void 0:s.media[p])==="HyperlinkObject")return d.jsx(e.Suspense,{children:d.jsx(Oi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S})})}else{if(_.column_type.toLowerCase()==="tinyint(1)")return d.jsx(e.Suspense,{children:d.jsx(Li,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});if(i.lookup!==void 0)return d.jsx(ei,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})}switch(_.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return d.jsx(e.Suspense,{children:d.jsx(yi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})});case"enum":return d.jsx(e.Suspense,{children:d.jsx(ki,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});case"set":return d.jsx(e.Suspense,{children:d.jsx(fi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});case"time":return i.duration===!0?d.jsx(e.Suspense,{children:d.jsx(hi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})}):d.jsx(e.Suspense,{children:d.jsx(xi,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})});case"date":return d.jsx(e.Suspense,{children:d.jsx(ji,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})});case"datetime":case"timestamp":return d.jsx(e.Suspense,{children:d.jsx(Ai,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,language:t,columnEvents:R})});case"tinytext":case"text":case"mediumtext":case"longtext":return d.jsx(e.Suspense,{children:d.jsx(_i,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})});default:return d.jsx(e.Suspense,{children:d.jsx(di,{appId:y,columnName:p,columnValue:f,columnInitialValue:x,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:h,metaData:s,context:k,storeTable:j,storeForm:L,formMode:r,locale:S,columnEvents:R})})}};export{Sr as default};
