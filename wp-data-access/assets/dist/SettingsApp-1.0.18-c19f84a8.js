import{l,r as T,j as e,e as c,C as h,ae as R,af as C,ag as F,ah as v,ai as E,aj as f,a as k}from"./main-1.0.18.js";import{A as y,a as P,b as B,c as G}from"./AppListContainer-1.0.18-de5595c9.js";import{v as d,w as D}from"./index.esm-1.0.18-12f13c4a.js";import{T as j}from"./TargetEnum-1.0.18-b82380d5.js";import{C as W}from"./ConfirmDialog-1.0.18-eb1f3988.js";import{s as L}from"./ActionsSettings-1.0.18-41fd8841.js";import{A as m,a as p}from"./AccordionSummary-1.0.18-f9e114cf.js";import{A}from"./AccordionDetails-1.0.18-2900e110.js";import{F as u,a as S}from"./FormHelperText-1.0.18-8b4ce85f.js";import{B as b}from"./CardContent-1.0.18-3d5e5525.js";import{u as w,a as M}from"./RestApi-1.0.18-cb72bd79.js";import{P as O}from"./PremiumFeature-1.0.18-2f6283b7.js";import{F as g}from"./FormControlLabel-1.0.18-2840e084.js";import{S as x}from"./Switch-1.0.18-cbb6329b.js";import{T as H}from"./TextField-1.0.18-cf148b4e.js";import{B as N}from"./Spinner-1.0.18-de8df990.js";import"./AdminTheme-1.0.18-73e13a4f.js";import"./Typography-1.0.18-dc3c0740.js";import"./TabPanel-1.0.18-2d718e76.js";import"./useScreenSize-1.0.18-62aeb4c4.js";import"./ThemeProvider-1.0.18-247b72cc.js";import"./Modal-1.0.18-870f459d.js";import"./iconBase-1.0.18-3c21f5e2.js";import"./Tabs-1.0.18-d7d53c1e.js";import"./createSvgIcon-1.0.18-dcf0276e.js";import"./ComponentColumn-1.0.18-5c48b102.js";import"./ActionsExplorer-1.0.18-ae07c36b.js";import"./Autocomplete-1.0.18-a264f80a.js";import"./Close-1.0.18-d90e9fa7.js";import"./index-1.0.18-ff546563.js";import"./Popper-1.0.18-20544c9b.js";import"./useControlled-1.0.18-12a74006.js";import"./ActionsApp-1.0.18-0ab2bedd.js";import"./FormLabel-1.0.18-47dbe87d.js";import"./useFormControl-1.0.18-87a8487d.js";import"./Checkbox-1.0.18-3ed60478.js";import"./SwitchBase-1.0.18-e2aa3211.js";import"./Tooltip-1.0.18-5f32f0fd.js";import"./Grow-1.0.18-4ebc2ce8.js";import"./Link-1.0.18-41cc6055.js";/* empty css                        */import"./index.esm-1.0.18-32f5cee0.js";import"./FileSaver.min-1.0.18-38588eff.js";import"./index-1.0.18-744bc51a.js";import"./colorManipulator-1.0.18-95bf61ec.js";import"./Menu-1.0.18-e8cb0649.js";import"./Popover-1.0.18-54868205.js";import"./MenuItem-1.0.18-0088f2a2.js";import"./useTheme-1.0.18-c1f3f722.js";import"./RadioGroup-1.0.18-4960e4a8.js";import"./Radio-1.0.18-210e4079.js";import"./index.esm-1.0.18-bb69b89a.js";import"./CardHeader-1.0.18-1e38ceea.js";import"./Divider-1.0.18-eca54fd7.js";import"./index-1.0.18-bd94b546.js";import"./Stepper-1.0.18-05ecefbc.js";import"./ListItemIcon-1.0.18-7ee6feae.js";import"./ListItemText-1.0.18-4e83a23e.js";import"./AppMetaData-1.0.18-dd1a9a22.js";import"./usePrepareStore-1.0.18-44f9cb72.js";import"./Chart-1.0.18-142bb265.js";import"./FallbackSpinner-1.0.18-e10446f4.js";import"./Alert-1.0.18-8e754392.js";import"./AlertTitle-1.0.18-0fd475c6.js";import"./useSlot-1.0.18-71f9e7ae.js";import"./index.esm-1.0.18-1950fc28.js";/* empty css                    */import"./InputAdornment-1.0.18-958a8148.js";import"./DialogContent-1.0.18-5570cba4.js";import"./Collapse-1.0.18-8e581380.js";import"./createStyled-1.0.18-b238c9ff.js";const q=({app:r})=>{l.debug(r);const[o,n]=T.useState(!1),[s,t]=T.useState(void 0),a=()=>{switch(s){case"form":return"Reset Form Builder?";case"theme":return"Reset Theme?";default:return"Reset Table Builder?"}};return e.jsxs(e.Fragment,{children:[e.jsxs(m,{disableGutters:!0,children:[e.jsx(p,{expandIcon:e.jsx(d,{}),children:"Reset"}),e.jsx(A,{children:e.jsxs(u,{sx:{display:"grid",gridGap:"20px"},children:[e.jsx(b,{variant:"contained",color:"primary",onClick:()=>{t(j.TABLE),n(!0)},children:"Reset Table Builder"}),e.jsx(b,{variant:"contained",color:"primary",onClick:()=>{t(j.FORM),n(!0)},children:"Reset Form Builder"}),e.jsx(b,{variant:"contained",color:"primary",onClick:()=>{t(j.THEME),n(!0)},children:"Reset Theme"}),e.jsxs(S,{sx:{display:"inline-grid",gridTemplateColumns:"20px auto",gridGap:"5px",alignItems:"center","& svg":{fontSize:"20px"}},error:!0,children:[e.jsx(D,{}),"A reset cannot be undone!"]})]})})]}),e.jsx(W,{title:a(),message:"Are you sure? This action cannot be undone!",open:o,setOpen:n,onConfirm:()=>{s!==void 0&&L(r.appDbId,r.appCntId,s,null,null,i=>{if(i!=null&&i.code&&(i==null?void 0:i.message)!==void 0)switch(i.code){case"ok":c(i.message,{variant:"success"});break;case"info":c(i.message,{variant:"info"});break;default:c(i.message??h.contactSupport,{variant:"error"})}else l.error(i),c(h.contactSupport,{variant:"error"})},i=>{l.error("error",i),c(i??h.contactSupport,{variant:"error"})})}})]})},z=()=>{const r=w(o=>R(o));return l.debug("appFullscreen",r),r},J=()=>{const r=w(o=>C(o));return l.debug("appSafeMode",r),r},K=({app:r,setIsUpdated:o})=>{l.debug(r);const n=M();z();const s=J();return e.jsxs(e.Fragment,{children:[e.jsx(g,{control:e.jsx(x,{checked:!1,disabled:!0,onChange:(t,a)=>{n(F({fullScreen:a})),o&&o(!0),t.stopPropagation()}}),label:"Enable full screen support",labelPlacement:"end"}),e.jsx(u,{fullWidth:!0,children:e.jsx(S,{children:"Adds an icon to the app toolbar, allowing the user to switch to full-screen mode."})}),e.jsx(g,{control:e.jsx(x,{checked:s,disabled:!0,onChange:(t,a)=>{n(v({safeMode:a})),o&&o(!0),t.stopPropagation()}}),label:"Enable safe mode",labelPlacement:"end"}),e.jsx(u,{fullWidth:!0,children:e.jsx(S,{children:"Disables all custom code, including hooks and computed code fields."})}),e.jsx(O,{})]})},Q=()=>{const r=w(o=>E(o));return l.debug("appRegistration",r),r},V=({app:r,setIsUpdated:o})=>{l.debug(r);const n=M(),s=Q();return e.jsxs(e.Fragment,{children:[e.jsx(u,{fullWidth:!0,children:e.jsx(g,{control:e.jsx(x,{checked:s.showMessage,onChange:(t,a)=>{n(f({message:s.message,showMessage:a,allowUpdates:s.allowUpdates})),o&&o(!0),t.stopPropagation()}}),label:"Show message on submit",labelPlacement:"end"})}),s.showMessage&&e.jsx(H,{type:"text",label:"Message",fullWidth:!0,helperText:"Message shown when registration form is submitted.",value:s.message??"",autoComplete:"off",onChange:t=>{n(f({message:t.target.value,showMessage:s.showMessage,allowUpdates:s.allowUpdates})),o&&o(!0),t.stopPropagation()},sx:{marginTop:"20px",marginBottom:"10px"}}),e.jsx(u,{fullWidth:!0,children:e.jsx(g,{control:e.jsx(x,{checked:s.allowUpdates,onChange:(t,a)=>{n(f({message:s.message,showMessage:s.showMessage,allowUpdates:a})),o&&o(!0),t.stopPropagation()}}),label:"Allow updates after submit",labelPlacement:"end"})})]})},mr=({app:r,setIsUpdated:o})=>(l.debug(r),e.jsxs(N,{children:[e.jsx(m,{disableGutters:!0,children:e.jsx(p,{children:e.jsx(y,{app:r,hasErrors:!1,setIsUpdated:o})})}),e.jsx(m,{disableGutters:!0,children:e.jsx(p,{children:e.jsx(P,{app:r,hasErrors:!1,setIsUpdated:o})})}),e.jsx(m,{disableGutters:!0,children:e.jsx(p,{children:e.jsx(B,{app:r,setIsUpdated:o})})}),e.jsxs(m,{disableGutters:!0,children:[e.jsx(p,{expandIcon:e.jsx(d,{}),children:"Language"}),e.jsx(p,{children:e.jsx(G,{app:r,setIsUpdated:o})})]}),e.jsxs(m,{disableGutters:!0,children:[e.jsx(p,{expandIcon:e.jsx(d,{}),children:"Settings"}),e.jsx(A,{children:e.jsx(K,{app:r,setIsUpdated:o})})]}),r.appType==k.REGISTRATION&&e.jsxs(m,{disableGutters:!0,children:[e.jsx(p,{expandIcon:e.jsx(d,{}),children:"Registration Form Settings"}),e.jsx(A,{children:e.jsx(V,{app:r,setIsUpdated:o})})]}),e.jsx(q,{app:r})]}));export{mr as default};
