const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.34-DF977OGK.js","./cm-1.0.34-jkgb9fqk.js","./redux-1.0.34-BykGtd51.js","./vendor-1.0.34-CN03Eozo.js","./lib-1.0.34-CKToGW0d.js","./loglevel-1.0.34-BZ7XahX3.js","./lodash-1.0.34-Bq_dBoMp.js","./moment-1.0.34-C5S46NFB.js","./TextField-1.0.34-CRuVZ2IL.js","./Typography-1.0.34-CPcqRq0L.js","./iconBase-1.0.34-CNhS-hAm.js","./useEnhancedEffect-1.0.34-BO4gRPLZ.js","./useFormControl-1.0.34-DpRVCPB9.js","./Menu-1.0.34-BOIQgOXy.js","./AdminTheme-1.0.34-9phfEwG6.js","./cjs-1.0.34-s8JVqkTy.js","./notistack-1.0.34-CSyPb4yh.js","./FormHelperText-1.0.34-DgFI7tJ8.js","./FormLabel-1.0.34-f0a-atWV.js","./useControlled-1.0.34-CU9helXh.js","./createSvgIcon-1.0.34-oaLYTlaR.js","./FieldTextarea-1.0.34-BAPRGw-p.js","./FieldNumber-1.0.34-CN1nBA9g.js","./react-number-format.es-1.0.34-Dcon4ill.js","./FieldSet-1.0.34-BHr7BDNE.js","./MenuItem-1.0.34-B8z32nyF.js","./FieldEnum-1.0.34-fEkZkLjR.js","./EnumTypeEnum-1.0.34-Ws4BsaYD.js","./RadioGroup-1.0.34-DnN3QK5E.js","./Radio-1.0.34-CADP3cAA.js","./SwitchBase-1.0.34-ptE6Q_pF.js","./FormControlLabel-1.0.34-BSZPBg3u.js","./FieldDate-1.0.34-BYqU4beV.js","./RestApi-1.0.34-BxEfvjo_.js","./lang-1.0.34-_-50eJV7.js","./useTheme-1.0.34-Dw3pdMXg.js","./index-1.0.34-DYDf2euy.js","./ThemeContainer-1.0.34-DJBjl5QY.js","./main-1.0.34.js","./Spinner-1.0.34-Co4td_et.js","./useStoreTable-1.0.34-BdrzT-QA.js","./ActionsDml-1.0.34-JQvmPQlJ.js","./useScreenSize-1.0.34-BKzZJVVv.js","./dompurify-1.0.34-DhD2mIk-.js","./FallbackSpinner-1.0.34-CVwfde-i.js","./Tooltip-1.0.34-DVgtOKOZ.js","./Popper-1.0.34-DHAHquMb.js","./ThemeContainer-1.0.34-DR7D6eET.css","./useMobilePicker-1.0.34-XgZZrhxl.js","./index-1.0.34-CJY587q6.js","./DialogContent-1.0.34-BpZCA1LJ.js","./InputAdornment-1.0.34-Cl61tz03.js","./visuallyHidden-1.0.34-Dan1xhjv.js","./ListItem-1.0.34-Brs0nZr2.js","./Autocomplete-1.0.34-B2v6NqWM.js","./Close-1.0.34-Bguo8ejS.js","./AdapterDayjs-1.0.34-DFnHzrF6.js","./DatePicker-1.0.34-DQVPc9nr.js","./dateViewRenderers-1.0.34-BR5PmXKb.js","./FieldDatetime-1.0.34-M_raZvjg.js","./DateTimePicker-1.0.34-DKD0j3kF.js","./Tabs-1.0.34-ZeyfVB1x.js","./timeViewRenderers-1.0.34-BVsej0mG.js","./Divider-1.0.34-bZt1Q6Xb.js","./FieldTime-1.0.34-B4nIVX3i.js","./TimePicker-1.0.34-C9Yn5j34.js","./FieldCheckbox-1.0.34-C3AmQvWb.js","./Checkbox-1.0.34-d5tAuq8A.js","./ColumnWpMedia-1.0.34-BAaEOiWN.js","./index-1.0.34-BrUfr5b2.js","./index.esm-1.0.34-BcBy0Voo.js","./ColumnHyperlink-1.0.34-DNd96pbB.js","./FieldDuration-1.0.34-B9oEqnVF.js"])))=>i.map(i=>d[i]);
import{_ as b}from"./main-1.0.34.js";import{j as p}from"./cm-1.0.34-jkgb9fqk.js";import{r as s}from"./redux-1.0.34-BykGtd51.js";import{l as h,cb as N,m as B,cc as I,cd as C,K as G,Z as V}from"./lib-1.0.34-CKToGW0d.js";import{l as M}from"./ActionsDml-1.0.34-JQvmPQlJ.js";import{f as o}from"./ThemeContainer-1.0.34-DJBjl5QY.js";import{T as J}from"./TargetEnum-1.0.34-DPFnTxiX.js";import{i as l}from"./index-1.0.34-DTAHnKg4.js";import{A as m}from"./Autocomplete-1.0.34-B2v6NqWM.js";import{T as D}from"./TextField-1.0.34-CRuVZ2IL.js";import"./vendor-1.0.34-CN03Eozo.js";import"./notistack-1.0.34-CSyPb4yh.js";import"./loglevel-1.0.34-BZ7XahX3.js";import"./lodash-1.0.34-Bq_dBoMp.js";import"./moment-1.0.34-C5S46NFB.js";import"./RestApi-1.0.34-BxEfvjo_.js";import"./Spinner-1.0.34-Co4td_et.js";import"./Typography-1.0.34-CPcqRq0L.js";import"./AdminTheme-1.0.34-9phfEwG6.js";import"./useEnhancedEffect-1.0.34-BO4gRPLZ.js";import"./useStoreTable-1.0.34-BdrzT-QA.js";import"./useTheme-1.0.34-Dw3pdMXg.js";import"./index-1.0.34-DYDf2euy.js";import"./cjs-1.0.34-s8JVqkTy.js";import"./iconBase-1.0.34-CNhS-hAm.js";import"./useScreenSize-1.0.34-BKzZJVVv.js";import"./dompurify-1.0.34-DhD2mIk-.js";import"./FallbackSpinner-1.0.34-CVwfde-i.js";import"./Tooltip-1.0.34-DVgtOKOZ.js";import"./useControlled-1.0.34-CU9helXh.js";import"./Popper-1.0.34-DHAHquMb.js";import"./Close-1.0.34-Bguo8ejS.js";import"./createSvgIcon-1.0.34-oaLYTlaR.js";import"./useFormControl-1.0.34-DpRVCPB9.js";import"./Menu-1.0.34-BOIQgOXy.js";import"./FormHelperText-1.0.34-DgFI7tJ8.js";import"./FormLabel-1.0.34-f0a-atWV.js";const a=(_,e)=>({}),ii=({appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,storeForm:f,formMode:E,locale:A})=>{var n,q;h.debug(_,e,y,O,d,i,P,r,f,E,A);const x=o(_),[j,S]=s.useState([]);h.debug("lov",j);const[T,u]=s.useState(!1),[Q,H]=s.useState(""),[W,X]=s.useState(Array.isArray((n=i.lookup)==null?void 0:n.dynamicConditions)?(q=i.lookup)==null?void 0:q.dynamicConditions.map(k=>({columnName:k.tableColumnName,columnValue:""})):[]);h.debug("conditions",W),s.useEffect(()=>{var k,R;Array.isArray((k=i.lookup)==null?void 0:k.dynamicConditions)&&((R=i.lookup)==null||R.dynamicConditions.map(t=>{x[t.tableColumnName]===void 0&&h.error("Invalid lookup: column "+t.tableColumnName+" in dynamic condition not found.")})),W.length===0&&g()},[i.lookup]),s.useEffect(()=>{var k,R;if(Object.keys(W).length>0){const t=Array.isArray((k=i.lookup)==null?void 0:k.dynamicConditions)?(R=i.lookup)==null?void 0:R.dynamicConditions.map(L=>({columnName:L.lookupColumnName,columnValue:x[L.tableColumnName]??""})):[];if(h.debug(t),!l(W,t)){const L={};t.length>0&&t.map(z=>{L[z.columnName]=z.columnValue}),h.debug("reloading dynamic lookup",e,t),g(L),X(t)}}},[x]);const g=(k={})=>{var R,t;M(_,(r==null?void 0:r.useRform)===!0?J.RFORM:J.FORM,e,((R=i.lookup)==null?void 0:R.key)??"",((t=i.lookup)==null?void 0:t.value)??"",k,{},L=>{var z,U,K;if(h.debug(L),(L==null?void 0:L.code)==="ok"){if(!((z=i.lookup)!=null&&z.value.includes(",")))S(L.data);else{const $=(U=i.lookup)==null?void 0:U.value.split(","),Z=[];for(let F=0;F<L.data.length;F++){const w=$.map(c=>L.data[F][c]).join(((K=i.lookup)==null?void 0:K.delimiter)??"");Z.push({key:L.data[F].key,value:w})}S(Z)}u(!1),H("")}else u(!0),H(L.message),S([])},L=>{u(!0),H(L),S([])})},Y=s.useMemo(()=>j.filter(k=>k.key===y)[0]??null,[y,j]);return p.jsx(m,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:j,getOptionLabel:k=>Array.isArray(k.value)?B(k.value[0]):B(k.value),value:Y,onChange:(k,R)=>{R!==null?v(e,R==null?void 0:R.key):v(e,null)},disabled:N(r,d,i,E),className:i.classNames,renderInput:k=>p.jsx(D,{error:T,label:d.formLabel,required:d.is_nullable==="NO",...k,variant:C(),helperText:T?Q:I(i,A.selectEnum),disabled:E===G.VIEW||E===G.UPDATE&&(r.primary_key.includes(e)||i.updatable===!1),sx:{"& input":{textAlign:i.alignment}}})})},ri=s.lazy(()=>b(()=>import("./FieldText-1.0.34-DF977OGK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),si=s.lazy(()=>b(()=>import("./FieldTextarea-1.0.34-BAPRGw-p.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),ei=s.lazy(()=>b(()=>import("./FieldNumber-1.0.34-CN1nBA9g.js"),__vite__mapDeps([22,1,2,3,23,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),pi=s.lazy(()=>b(()=>import("./FieldSet-1.0.34-BHr7BDNE.js"),__vite__mapDeps([24,1,2,3,4,5,6,7,17,9,12,8,10,11,13,14,15,16,18,19,20,25]),import.meta.url)),di=s.lazy(()=>b(()=>import("./FieldEnum-1.0.34-fEkZkLjR.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,17,9,12,8,10,11,13,14,15,16,18,19,20,25,27,28,29,30,31]),import.meta.url)),_i=s.lazy(()=>b(()=>import("./FieldDate-1.0.34-BYqU4beV.js"),__vite__mapDeps([32,1,2,3,33,4,5,6,7,34,35,36,9,15,10,11,16,37,38,39,14,40,41,42,43,44,45,19,46,47,48,49,50,51,12,8,13,17,18,20,52,53,54,55,56,57,58]),import.meta.url)),yi=s.lazy(()=>b(()=>import("./FieldDatetime-1.0.34-M_raZvjg.js"),__vite__mapDeps([59,1,2,3,33,4,5,6,7,34,35,36,9,15,10,11,16,37,38,39,14,40,41,42,43,44,45,19,46,47,48,49,50,51,12,8,13,17,18,20,52,53,54,55,56,60,61,62,25,58,63]),import.meta.url)),fi=s.lazy(()=>b(()=>import("./FieldTime-1.0.34-B4nIVX3i.js"),__vite__mapDeps([64,1,2,3,33,4,5,6,7,34,35,36,9,15,10,11,16,37,38,39,14,40,41,42,43,44,45,19,46,47,48,49,50,51,12,8,13,17,18,20,52,53,54,55,56,65,62,25]),import.meta.url)),Ei=s.lazy(()=>b(()=>import("./FieldCheckbox-1.0.34-C3AmQvWb.js"),__vite__mapDeps([66,1,2,3,4,5,6,7,17,9,12,31,10,11,67,30,19,20]),import.meta.url)),ji=s.lazy(()=>b(()=>import("./ColumnWpMedia-1.0.34-BAaEOiWN.js"),__vite__mapDeps([68,1,2,3,4,5,6,7,33,69,10,9,11,70,35,36,15,16,39,17,12]),import.meta.url)),ki=s.lazy(()=>b(()=>import("./ColumnHyperlink-1.0.34-DNd96pbB.js"),__vite__mapDeps([71,1,2,3,4,5,6,7,39,9,8,10,11,12,13,14,15,16,17,18,19,20,31,67,30]),import.meta.url)),Ai=s.lazy(()=>b(()=>import("./FieldDuration-1.0.34-B9oEqnVF.js"),__vite__mapDeps([72,1,2,3,23,4,5,6,7,33,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url)),li=({appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j,language:S})=>{h.debug(_,e,y,O,d,i,r,f,E,A,S);const T=a(),u=V(r)?T:void 0;if(r!=null&&r.media[e]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(r==null?void 0:r.media[e]))return p.jsx(s.Suspense,{children:p.jsx(ji,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j,language:S,columnMedia:f==null?void 0:f.media[e],mediaType:r==null?void 0:r.media[e]})});if((r==null?void 0:r.media[e])==="HyperlinkObject")return p.jsx(s.Suspense,{children:p.jsx(ki,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j})})}else{if(d.column_type.toLowerCase()==="tinyint(1)")return p.jsx(s.Suspense,{children:p.jsx(Ei,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j})});if(i.lookup!==void 0)return p.jsx(ii,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j})}switch(d.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return p.jsx(s.Suspense,{children:p.jsx(ei,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j,language:S})});case"enum":return p.jsx(s.Suspense,{children:p.jsx(di,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j})});case"set":return p.jsx(s.Suspense,{children:p.jsx(pi,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j})});case"time":return i.duration===!0?p.jsx(s.Suspense,{children:p.jsx(Ai,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j,language:S})}):p.jsx(s.Suspense,{children:p.jsx(fi,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j,language:S})});case"date":return p.jsx(s.Suspense,{children:p.jsx(_i,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j,language:S})});case"datetime":case"timestamp":return p.jsx(s.Suspense,{children:p.jsx(yi,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j,language:S})});case"tinytext":case"text":case"mediumtext":case"longtext":return p.jsx(s.Suspense,{children:p.jsx(si,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j})});default:return p.jsx(s.Suspense,{children:p.jsx(ri,{appId:_,columnName:e,columnValue:y,columnInitialValue:O,columnMetaData:d,storeColumn:i,columnValidation:P,onColumnChange:v,metaData:r,context:f,storeTable:E,storeForm:A,formMode:x,locale:j,columnCode:u})})}};export{li as default};
